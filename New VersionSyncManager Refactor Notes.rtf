{\rtf1\ansi\ansicpg936\cocoartf2511
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 Menlo-Regular;\f1\fnil\fcharset134 PingFangSC-Regular;\f2\fswiss\fcharset0 Helvetica;
\f3\fnil\fcharset0 Menlo-Bold;\f4\fnil\fcharset0 Menlo-Italic;\f5\fnil\fcharset134 PingFangSC-Semibold;
\f6\fnil\fcharset134 PingFangSC-Light;\f7\fnil\fcharset0 HelveticaNeue-Light;\f8\fnil\fcharset0 HelveticaNeue;
}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;\red255\green255\blue255;\red155\green35\blue147;
\red50\green109\blue116;\red36\green82\blue86;\red92\green38\blue153;\red196\green26\blue22;\red0\green83\blue16;
\red0\green0\blue0;\red134\green19\blue62;\red28\green0\blue207;\red0\green0\blue255;\red55\green53\blue46;
\red35\green81\blue85;\red49\green109\blue115;\red196\green26\blue21;\red11\green90\blue124;\red57\green0\blue160;
\red45\green101\blue53;\red100\green56\blue32;\red63\green80\blue98;\red71\green20\blue1;\red5\green61\blue204;
\red37\green40\blue45;\red255\green255\blue255;\red0\green0\blue255;}
{\*\expandedcolortbl;;\csgenericrgb\c0\c0\c0;\csgenericrgb\c100000\c100000\c100000;\csgenericrgb\c60759\c13753\c57628;
\csgenericrgb\c19418\c42935\c45455;\csgenericrgb\c13924\c32052\c33684;\csgenericrgb\c35922\c14825\c60191;\csgenericrgb\c77000\c10200\c8600;\csgenericrgb\c0\c32692\c6256;
\cssrgb\c0\c0\c0;\cssrgb\c60282\c14051\c30968;\csgenericrgb\c11000\c0\c81000;\cssrgb\c1680\c19835\c100000;\cssrgb\c27800\c26700\c23900;
\csgenericrgb\c13725\c31765\c33333;\csgenericrgb\c19216\c42745\c45098;\csgenericrgb\c76863\c10196\c8235;\cssrgb\c0\c42931\c55996;\csgenericrgb\c22454\c0\c62803;
\csgenericrgb\c17743\c39506\c20896;\csgenericrgb\c39147\c22031\c12446;\csgenericrgb\c24790\c31335\c38289;\cssrgb\c35315\c11000\c0;\cssrgb\c0\c33896\c83855;
\cssrgb\c19216\c20784\c23137;\cssrgb\c100000\c100000\c100000;\cssrgb\c1680\c19835\c100000;}
\paperw11900\paperh16840\margl1440\margr1440\vieww24240\viewh15660\viewkind0
\deftab642
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2 \cb3 broadCast
\f1 \'ba\'cd
\f0 execute
\f1 \'b7\'bd\'b7\'a8\'b1\'bb
\f0 baseSyncOperation
\f1 \'c4\'ac\'c8\'cf\'ca\'b5\'cf\'d6\'c1\'cb\'a3\'ac
\f2\fs24 \cf0 \cb1 \

\f0\fs26 \cf2 \cb3 broadCast
\f1 \'b7\'bd\'b7\'a8\'d6\'d0\'c4\'ac\'c8\'cf\'b7\'a2\'cb\'cd\'c1\'cb\'c8\'e7\'cf\'c2\'b2\'ce\'ca\'fd\'a3\'ba\
opkey\'a3\'acaccount\'a3\'acfolderpath\'a3\'acfinished\'a3\'acerror\'ba\'cd\'b2\'d9\'d7\'f7\'b1\'be\'c9\'ed\'cc\'d8\'d3\'d0\'b5\'c4\'b2\'ce\'ca\'fd\

\f0 \
            
\f3\b \cf4 var
\f0\b0 \cf2  mergedInfo: [\cf5 BCNKey\cf2 : 
\f3\b \cf4 Any
\f0\b0 \cf2 ] = [.\cf6 OperationKey\cf2 : \cf5 opKey\cf2 ,
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                              .\cf6 Account\cf2 : \cf5 accountId\cf2 ,
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                              .\cf6 FolderPath\cf2 : \cf5 folderPath\cf2 ,
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                              .\cf6 Finished\cf2 : finished]\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\fs24 \cf0 \cb1 \'b2\'a2\'b6\'ee\'cd\'e2\'cc\'ed\'bc\'d3\'c1\'cb\'b2\'d9\'d7\'f7\'cc\'d8\'b6\'a8\'b5\'c4\'b2\'ce\'ca\'fd\'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2 \cb3             
\f3\b \cf4 for
\f0\b0 \cf2  (k, v) 
\f3\b \cf4 in
\f0\b0 \cf2  info \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 mergedInfo[k] = v
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \}
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \cb1 \'d3\'c3\'bb\'a7\'d7\'d4\'b6\'a8\'d2\'e5Operation\'d6\'d0\'bf\'c9\'d2\'d4\'b2\'bb\'d3\'c3\'cc\'ed\'bc\'d3error\'a3\'acfinished\'ba\'cdkey\'a3\'acaccount\'a3\'acfolderPath\'b5\'c8\'b2\'ce\'ca\'fd\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2 \cb3 BaseSyncOperation
\f1 \'c0\'cf\'b0\'e6\'b1\'be\'d6\'bb\'d3\'d0
\f0 accountId
\f1 \'ca\'f4\'d0\'d4\'a3\'ac
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'d0\'c2\'b0\'e6
\f0 BaseSyncOperation
\f1 \'d4\'f6\'bc\'d3\'c1\'cb
\f0 info
\f1 \'a3\'ac
\f0 syncInfo
\f1 \'a3\'ac
\f0 bcn
\f1 \'a3\'ac
\f0 folderPath
\f1 \'a3\'ac
\f0 msgIds\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\fs24 \cf0 \cb1 \'d0\'c2\'d4\'f6\'b5\'c4\'ca\'f4\'d0\'d4\'c8\'e7\'cf\'c2\'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b\fs26 \cf4 \cb3 var
\f0\b0 \cf2  info: [\cf5 SyncParam\cf2 : 
\f3\b \cf4 Any
\f0\b0 \cf2 ] = [:]\

\f3\b \cf4 var
\f0\b0 \cf2  accountId: \cf7 String\

\f3\b \cf4 var
\f0\b0 \cf2  folderPath: \cf7 String\cf2  = \cf8 ""\

\f3\b \cf4 var
\f0\b0 \cf2  msgIds: [\cf7 String\cf2 ] = [] 
\f4\i \cf9 //EdoMessage.pId\

\f3\i0\b \cf4 var
\f0\b0 \cf2  syncInfo: \cf5 SyncInfo\

\f3\b \cf4 var
\f0\b0 \cf2  bcn: \cf5 BCN\cf2 ?\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f4\i \cf9 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\i0 \cf2 .\cf6 LoadingAccountInfo
\f1 \cf6 \'a3\'ac
\f0 \cf2 FetchFolderListOperation
\f1 \'d2\'bb\'bf\'aa\'ca\'bc\'be\'cd\'b7\'a2\'cb\'cd\'d5\'e2\'b8\'f6\'cf\'fb\'cf\'a2\'a3\'ac\'b4\'a6\'c0\'ed\'d5\'e2\'b8\'f6\'cf\'fb\'cf\'a2\'b5\'c4\'ca\'c7
\f0 AccountCellDataProvider
\f1 \'a3\'ac\'d4\'da
\f0 loadData
\f1 \'d6\'d0\'b4\'a6\'c0\'ed
\f4\i \cf9 \

\f0\i0 \cf2 .InboxInfoIsReady
\f1 \'cf\'fb\'cf\'a2\'a3\'ac\'d4\'da
\f0 EmailListProvider
\f1 \'a1\'a2
\f0 ThreadListDataProvider
\f1 \'ba\'cd
\f0 StatusManager
\f1 \'d6\'d0\'b6\'bc\'d3\'d0\'b4\'a6\'c0\'ed
\f4\i \cf9 \

\f0\i0 \cf2 .\cf6 FoldersUpdated
\f1\fs24 \cf0 \cb1 \

\f2 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardeftab642\pardirnatural\partightenfactor0
\cf0 BaseSyncOperation.swift\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2 \cb3 GmailFetchLabelsOperation
\f2\fs24 \cf0 \cb1 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardeftab642\pardirnatural\partightenfactor0
\cf0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2 \cb3 FetchFolderUnreadCountOperation\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'b7\'a2\'cb\'cd
\f0 .\cf6 FolderStatusUpdated
\f2\fs24 \cf0 \cb1 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardeftab642\pardirnatural\partightenfactor0
\cf0 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \'cd\'a8\'d6\'aa\'d7\'df\'b5\'c4\'ca\'c7\'d5\'e2\'b8\'f6\'b7\'bd\'b7\'a8
\f2 \
FetchMessagesBodyOperation\
\

\f1 \'ca\'e9\'ba\'c0\'a3\'ac\'b9\'d8\'d3\'da
\f0\fs26 \cf2 \cb3 FetchMessagesByIdsOperation
\f1 \'c1\'f7\'b3\'cc\'b5\'c4\'d6\'d8\'b9\'b9\'ba\'cd\'d0\'de\'b8\'c4\'a3\'ac\'b8\'fa\'c4\'e3sync\'d2\'bb\'cf\'c2\'a3\'ac\'d5\'e2\'b8\'f6\'c1\'f7\'b3\'cc\'cf\'e0\'b6\'d4\'b8\'b4\'d4\'d3\'d2\'bb\'d0\'a9\'a3\'ac\'ce\'d2\'b6\'e0\'bb\'a8\'d0\'a9\'ca\'b1\'bc\'e4\'ca\'e1\'c0\'ed\'c1\'cb\'d2\'bb\'cf\'c2\'a3\'ba\

\f0 FetchMessagesByIdsOperation
\f1 \'d5\'e2\'b8\'f6\'d6\'bb\'d4\'da
\f0 notification
\f1 \'b9\'fd\'c0\'b4\'ca\'b1\'c0\'ad\'d3\'ca\'bc\'fe\'ca\'b9\'d3\'c3\'a3\'ac\'c0\'ad\'cd\'ea\'d3\'ca\'bc\'fe\'d6\'ae\'ba\'f3\'b7\'a2\'cb\'cd
\f0 .\cf6 EmailsForSiftsDownloadUpdated
\f1 \'cf\'fb\'cf\'a2\'cd\'a8\'d6\'aa
\f0 RN
\f1 \'cb\'a2\'d0\'c2\'a3\'ac\'be\'c9\'b0\'e6\'ca\'c7\'d6\'b1\'bd\'d3fetch\'cd\'b7\'ba\'cdbody\'d2\'bb\'c6\'f0\'c0\'ad\'cf\'c2\'c0\'b4\'c1\'cb\'a3\'ac\'d4\'daexecute\'d6\'d0\'b5\'dd\'b9\'e9\'b2\'d9\'d7\'f7\'b5\'c4\'a3\'ac\'d0\'c2\'b0\'e6\'ce\'d2\'ca\'c7\'d5\'e2\'c3\'b4\'b8\'c4\'b5\'c4\'a3\'acsyncManager\'d6\'d0\'cf\'c8\'b0\'d1msgId\'a3\'a8\'ca\'e4\'c8\'eb\'d3\'c9pid\'b8\'c4\'ce\'aaMsgIdInfo\'a3\'a9\'b0\'b4\'d5\'d5account\'b7\'d6\'a3\'ac\'c8\'bb\'ba\'f3\'d4\'d9\'b0\'b4folder\'b7\'d6\'a3\'ac\'d1\'ad\'bb\'b7\'b5\'f7\'d3\'c3
\f0 run\cf2 (.\cf6 fetchMessagesByIds\cf2 ,\'85)
\f1 \'a3\'ac\'d4\'da
\f0 \cf5 adapter
\f1 \cf2 \'b5\'c4
\f0 \cf6 fetchMessagesByIds
\f1 \'b7\'bd\'b7\'a8\'d6\'d0\'a3\'ac\'d6\'bb\'c0\'ad\'c8\'a1\'d3\'ca\'bc\'feheader\'ba\'cdbodystucture\'a3\'ac\'d4\'da\'bb\'d8\'b5\'f7\'b7\'bd\'b7\'a8\'d6\'d0\'d4\'d9\'b5\'f7\'d3\'c3
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 downloadBodies\cf2 (sync,callback:callback1)
\f1 \'a3\'ac\'b0\'d1
\f0 \cf6 fetchMessagesByIds
\f1 \'b5\'c4
\f0 \cf2 callback
\f1 \'b4\'ab\'b5\'dd\'b8\'f8
\f0 \cf6 downloadBodies
\f1 \'d6\'b4\'d0\'d0\'ba\'f3\'d4\'d9\'b7\'b5\'bb\'d8\'a3\'ac\'d5\'e2\'d1\'f9\'bf\'c9\'d2\'d4\'d4\'da\'cf\'c2\'d4\'d8\'cd\'ea
\f0 body
\f1 \'d6\'ae\'ba\'f3\'d4\'d9\'b7\'a2\'cb\'cd
\f0 EmailsForSiftsDownloadUpdated
\f1 \'cf\'fb\'cf\'a2\'a3\'ac\'b8\'f6\'c8\'cb\'b8\'d0\'be\'f5\'d5\'e2\'d1\'f9\'b4\'a6\'c0\'ed\'c4\'dc\'bc\'f2\'b5\'a5\'d0\'a9\'a3\'ac\'c8\'e7\'b9\'fb\'b0\'b4\'d5\'d5\'c5\'fa\'c1\'bf\'c0\'ad\'d3\'ca\'bc\'fe\'cd\'a8\'b9\'fdprovider\'bd\'d3\'ca\'d5\'cf\'fb\'cf\'a2\'d4\'d9\'b4\'a6\'c0\'ed\'b5\'c4\'b7\'bd\'ca\'bd\'bb\'e1\'b1\'c8\'bd\'cf\'c2\'e9\'b7\'b3\'a1\'a3\'c1\'ed\'cd\'e2
\f2\fs26\fsmilli13333 \cf0 \cb1 \expnd0\expndtw0\kerning0
EdoSiftMapping
\f1 \'b1\'ed\'d2\'b2\'b8\'c4\'d4\'ec\'c1\'cb\'a3\'ac
\f2 msgId
\f1 \'b1\'e4\'b3\'c9\'d0\'c2\'b0\'e6\'b5\'c4\'b8\'f1\'ca\'bd\'a3\'ac\'c8\'a5\'b5\'f4
\f2 gmailId
\f1 \'b5\'c8\'d7\'d6\'b6\'ce\'a1\'a3
\fs26 \cf6 \cb3 \kerning1\expnd0\expndtw0 \'bb\'b9\'d3\'d0\'c6\'e4\'cb\'fb\'d2\'bb\'d0\'a9\'d2\'fe\'b2\'d8\'b6\'e0\'b8\'f6\'d7\'d3op\'b5\'c4Operation\'b5\'c4\'b8\'c4\'d4\'ec\'d2\'b2\'d3\'d0\'c0\'e0\'cb\'c6\'b5\'c4\'ce\'ca\'cc\'e2\'a3\'ac\'b1\'c8\'c8\'e7FetchFolderListOperation\'a1\'a3\cf2 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardeftab642\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \cb1 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \'cf\'d6\'d4\'da\'bb\'b9\'ca\'a3\'cf\'c2
\f0\fs26 \cf6 \cb3 .fetchFolders
\f1 \'a3\'ac
\f0 \cf2 .\cf6 searchMessages,\cf2 .\cf6 searchMessagesNonIMAP,\cf2 .\cf6 downloadBodyText,
\f1 \'c6\'e4\'cb\'fb\'b5\'c4
\f0 Operation
\f1 \'b6\'bc\'b8\'c4\'d4\'ec\'cd\'ea\'c1\'cb
\f2\fs24 \cf0 \cb1 \
\
\
searchOperation\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf5 \cb3 BroadcastCenter\cf2 .\cf6 postNotification\cf2 (.\cf6 EmailListSearchUpdated\cf2 , information:info)\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'ca\'a3\'d3\'e0\'b5\'c4\'b9\'a4\'d7\'f7\'a3\'ba
\f0 \

\f1 1\'a1\'a2\'b2\'bf\'b7\'d6
\f0 syncManager\
2
\f1 \'a1\'a2
\f0 ActionManager\
3
\f1 \'a1\'a2
\f0 GmailAdapter\
4
\f1 \'a1\'a2
\f0 ExchangeAdapter\
5
\f1 \'a1\'a2
\f0 SendMail\
6
\f1 \'a1\'a2
\f0 UI
\f1 \'bd\'e7\'c3\'e6\'cf\'d4\'ca\'be
\f0 \

\f1 7\'a1\'a2\'d5\'fb\'cc\'e5\'b9\'a6\'c4\'dc\'c1\'aa\'b5\'f7\'b2\'e2\'ca\'d4
\f0 \
8
\f1 \'a1\'a2EdoMessage\'b1\'ed\'b5\'c4\'d6\'f7\'bc\'fc\'b2\'bb\'d3\'c3
\f0 pid
\f1 \'a3\'ac\'b8\'c4\'d3\'c3
\f0 uuid
\f1 \
9\'a1\'a2EdoFolder\'b8\'c4\'d3\'c3uuid\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
SyncManager
\f1 \'d6\'d0\'bf\'aa\'ca\'bc\'ba\'cd\'bd\'e1\'ca\'f8\'cc\'ed\'bc\'d3\
didStart\
didFinished\

\f0 \
search
\f1 \'cd\'a8\'b9\'fdsearch
\f0 provider
\f1 \'d7\'aa\'b7\'a2\'b8\'fafetchMessage\'b2\'bb\'cd\'ac\'a3\'ac\'ba\'f3\'d5\'df\'ca\'c7\'c5\'fa\'c1\'bfupdate\'a3\'ac\'c7\'b0\'d5\'df\'d0\'e8\'d2\'aa\'b4\'ab\'b5\'dd\'b2\'ce\'ca\'fd\'a3\'ac\'d6\'bbupdate\'ba\'cddownload\'b6\'d4\'d3\'a6\'b5\'c4message\
\'d0\'c2\'b0\'e6searchlistview\'cb\'a2\'d0\'c2table\'a3\'ac\'d3\'c3
\f0 updateResult\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'b2\'ce\'ca\'fd\'b4\'ab\'b5\'dd\'d3\'c3
\f0 syncInfo
\f1 \'d7\'d6\'b5\'e4\'a3\'ac\'d5\'e2\'b8\'f6\'b6\'d4\'d3\'da\'d2\'bb\'b8\'f6
\f0 Operation
\f1 \'ca\'c7\'c8\'ab\'be\'d6\'b5\'c4
\f0 \
search
\f1 \'c1\'f7\'b3\'cc\'a3\'ba
\f0 \
searchOperation
\f1 \'d6\'b4\'d0\'d0\'ba\'f3\'a3\'ac\'b7\'a2\'cb\'cd
\f0 .\cf6 EmailListSearchUpdated
\f1 \cf6 \'cf\'fb\'cf\'a2\'a3\'ac\'b2\'ce\'ca\'fd\'ce\'aa
\f0 \cf6 localUids
\f1 \cf6 \'a3\'ac
\f0 \cf6 remoteUids
\f1 \cf6 \'a3\'ac\'b8\'f1\'ca\'bd\'ce\'aa
\f0 \cf6 pids
\f1 \cf6 \'a3\'ac\'bb\'f2\'d5\'df
\f0 \cf6 uids
\f1 \cf6 \'a3\'ac\'b7\'bd\'b1\'e3\'ba\'f3\'c3\'e6\'b5\'c4
\f0 \cf6 update
\f1 \cf6 \'ba\'cd
\f0 \cf6 downloadbody
\f1 \cf6 \'b2\'d9\'d7\'f7\'a3\'ac
\f0 \cf6 \
EmailSearchListDataProvider
\f1 \cf6 \'ca\'d5\'b5\'bd.
\f0 \cf6 EmailListSearchUpdated
\f1 \cf6 \'cf\'fb\'cf\'a2\'ba\'f3\'a3\'ac\'c4\'c3\'b5\'bd
\f0 \cf6 localUids 
\f1 \cf6 \'b7\'a2\'c6\'f0
\f0 \cf6 updateOperation
\f1 \cf6 \'a3\'ac\'b9\'e3\'b2\'a5\'cf\'fb\'cf\'a2\'cc\'ee
\f0 \cf6 EmailListSearchUpdated
\f1 \cf6 \'a3\'ac\'c4\'c3\'b5\'bd
\f0 \cf6 remoteUids
\f1 \cf6 \'a3\'ac\'b7\'a2\'c6\'f0
\f0 \cf6 downloadOperation
\f1 \cf6 \'a3\'ac\'b9\'e3\'b2\'a5\'cf\'fb\'cf\'a2\'cc\'ee
\f0 \cf6 EmailListSearchUpdated
\f1 \cf6 \'a3\'ac
\f0 \cf2 \

\f1 \'ce\'ca\'cc\'e2\'ca\'c7\'ba\'ce\'ca\'b1\'cb\'a2\'d0\'c2
\f0 UI
\f1 \'a3\'acsearch\'b7\'b5\'bb\'d8\'ba\'f3\'b7\'a2\'cb\'cd\'b5\'c4\'cf\'fb\'cf\'a2\'a3\'acfinished\'ce\'aafalse\'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf6 localUids sync
\f1 \cf6 \'d6\'ae\'ba\'f3\'b7\'a2\'cb\'cd\'b5\'c4\'cf\'fb\'cf\'a2\'a3\'ac
\f0 \cf6 finished
\f1 \cf6 \'ce\'aa
\f0 \cf2 \
\
notification
\f1 \'cf\'fb\'cf\'a2\'bb\'bb\'b5\'f4\'d6\'ae\'ba\'f3\'a3\'ac
\f0 opkey
\f1 \'d2\'b2\'d2\'aa\'bb\'bb\'b5\'f4
\f0 \
\
\
BaseSyncOperation
\f1 \'d6\'d0\'b5\'c4execute\'d6\'b4\'d0\'d0\'d7\'d3\'c0\'e0\'b5\'c4
\f0 \cf6 runAdapterFunction
\f1 \cf6 \'a3\'ac\'d7\'d3\'c0\'e0\'b5\'c4
\f0 \cf6 runAdapterFunction
\f1 \cf6 \'d6\'d0\'b5\'f7\'d3\'c3IMAPAdapter\'d6\'d0\'b5\'c4
\f0 \cf5 adapter
\f1 \cf5 .xxxOperation\'b7\'bd\'b7\'a8\'a3\'ac\'b2\'ce\'ca\'fd\'ca\'c7
\f0 \cf2 \
\cf5 syncInfo
\f1 \cf5 \'ba\'cd
\f0 \cf5 callback
\f1 \cf5 \'a3\'ac\'d5\'e2\'b8\'f6
\f0 \cf5 callback
\f1 \cf5 \'ca\'c7\'bb\'f9\'c0\'e0BaseSyncOperation\'d6\'d0\'b4\'ab\'c8\'eb
\f0 \cf6 runAdapterFunction
\f1 \cf6 \'d6\'d0\'b5\'c4\'b1\'d5\'b0\'fc\'b4\'fa\'c2\'eb\'a3\'ac\'d5\'e2\'b8\'f6\'b1\'d5\'b0\'fc\'d3\'d0\'b2\'ce\'ca\'fd
\f0 \cf6 error
\f1 \cf6 \'ba\'cd
\f0 \cf2 resp
\f1 \'a3\'ac\'c8\'e7\'b9\'fb
\f0 error!=nil
\f1 \'a3\'ac\'b5\'f7\'d3\'c3
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 finished\cf2 (error)
\f1 \'a3\'ac
\f5\b \cf4 \'c8\'e7\'b9\'fb\'c8\'a1\'cf\'fb
\f3 \cf4 \'97self
\f0\b0 \cf2 .\cf6 isCanceled\cf2 ()
\f1 \'a3\'ac
\f0 return false
\f1 \'a3\'ac\'c8\'e7\'b9\'fb
\f0 resp
\f1 \'b2\'bb\'ce\'aa\'bf\'d5\'a3\'ac\'b5\'f7\'d3\'c3\'bb\'f9\'c0\'e0\'b5\'c4
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 buildBCNInfo\cf2 (from: resp)
\f1 \'a3\'ac
\f0 \

\f1 \'b5\'f7\'d3\'c3finished\'a3\'ac\'b5\'f7\'d3\'c3\'bb\'f9\'c0\'e0\'b5\'c4
\f0 \cf6 buildBCNInfo
\f1 \cf6 \'a3\'ac\'c3\'bb\'d3\'d0finished\'b5\'f7\'d3\'c3
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 broadCast\cf2 (
\f3\b \cf4 nil
\f0\b0 \cf2 , finished: 
\f3\b \cf4 false
\f0\b0 \cf2 , info: info)\

\f1 \'d7\'d3\'c0\'e0\'b5\'c4
\f0 \cf5 adapter
\f1 \cf5 .xxxOperation\'b7\'bd\'b7\'a8\'d6\'d0\'a3\'ac\cf10 \'d2\'bb\'b6\'a8\'b5\'c3\'b5\'f7\'d3\'c3callback\'a3\'ac\'c0\'b4\'ce\'ac\'cf\'b5\'b6\'d3\'c1\'d0\'d6\'b4\'d0\'d0\'b5\'c4\'c1\'b4\'cc\'f5\'a3\'ac\'b2\'bb\'b5\'f7callback\'a3\'ac\'c3\'bb\'b0\'ec\'b7\'a8\'b7\'a2\'cb\'cd\'cd\'a8\'d6\'aa\'ba\'cd\'bd\'f8\'d0\'d0\'cf\'c2\'d2\'bb\'b8\'f6Operation\'b5\'c4\'d6\'b4\'d0\'d0
\f0 \cf2 \
\

\f1 Refactor 
\f0 searchOperation
\f1 \'a3\'ba\
\'d4\'da
\f0 EmailSearchListDataProvider
\f1 \'cc\'ed\'bc\'d3\'cf\'fb\'cf\'a2\'b4\'a6\'c0\'ed\'a3\'ac\'b4\'a6\'c0\'ed
\f0 searchOperation
\f1 \'cf\'fb\'cf\'a2
\f0 \

\f1 \'d0\'de\'b8\'c4
\f0 EmailSearchListDataProvider
\f1 \'d6\'d0
\f0 UI
\f1 \'cb\'a2\'d0\'c2\'b7\'bd\'b7\'a8-
\f0 updateResult\

\f1 \'d0\'de\'b8\'c4
\f0 BaseSyncOperation
\f1 \'a3\'ac\'d4\'f6\'bc\'d3
\f0 \cf6 didFinished
\f1 \cf6 \'ba\'cd
\f0 \cf6 willStart
\f1 \cf6 \'b7\'bd\'b7\'a8
\f0 \cf2 \

\f1 \'d0\'de\'b8\'c4\'be\'c9\'b0\'e6\'b1\'be
\f0 searchOperation
\f1 \'cb\'d1\'cb\'f7
\f0 server
\f1 \'c9\'cf\'b5\'c4\'d3\'ca\'bc\'fe\'a3\'ac\'b5\'ab\'ca\'c7\'ce\'de\'b7\'a8\'cf\'d4\'ca\'be
\f0 message
\f1 \'b5\'c4
\f0 bug
\f1 \'a3\'ac\'ca\'c7\'d2\'f2\'ce\'aasub-Operationkey\'ba\'cd\'b8\'b8Operation\'b9\'b2\'d3\'c3\'d2\'bb\'b8\'f6Operation\'b5\'c4\'d4\'b5\'b9\'ca
\f0 \
\
\
\
\

\f1 \'d0\'c2\'b0\'e6
\f0 searchOperation
\f1 \'c1\'f7\'b3\'cc\'a3\'ba
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f4\i \cf9 1
\f1\i0 \'a1\'a2
\f4\i Adapter
\f1\i0 \'b5\'c4
\f4\i search
\f1\i0 \'c0\'ef\'c3\'e6\'b0\'fc\'ba\'ac
\f4\i search
\f1\i0 \'a3\'ac\'b7\'b5\'bb\'d8\'ba\'f3\'a3\'ac\'b8\'f9\'be\'dd
\f4\i uids
\f1\i0 \'b7\'d6\'c0\'e0
\f4\i localUids
\f1\i0 \'ba\'cd
\f4\i remoteUids
\f1\i0 \'a3\'ac\'bd\'ab
\f4\i localUids
\f1\i0 \'ba\'cd
\f4\i remoteUids
\f1\i0 \'b7\'a2\'cb\'cd
\f0 \cf6 EmailListSearchUpdated
\f1 \cf9 \'cf\'fb\'cf\'a2\'b5\'bdprovider\'a3\'ac\'b2\'ce\'ca\'fd\'d3\'d0localuid\'a3\'acremoteuids\'a3\'acfinished=false\'b5\'c8\

\f4\i provider
\f1\i0 \'ca\'d5\'b5\'bd
\f0 \cf6 EmailListSearchUpdated
\f1 \cf9 \'cf\'fb\'cf\'a2\'d6\'ae\'ba\'f3\

\f4\i 2
\f1\i0 \'a1\'a2
\f4\i localuids
\f1\i0 \'cb\'a2\'d0\'c2\'bd\'e7\'c3\'e6\'a3\'ac
\f4\i syncflag
\f1\i0 \'a3\'ac\'b2\'ce\'ca\'fd\'d3\'d0.MessageIds\'a3\'ac\'c8\'e7\'b9\'fbremoteUid\'ce\'aa0\'a3\'acfinished=true\'a3\'ac\'b7\'f1\'d4\'f2finished=false
\f2\fs24 \cf0 \

\f4\i\fs26 \cf9 3
\f1\i0 \'a1\'a2
\f4\i remoteUId 
\f1\i0 \'bb\'f1\'c8\'a1
\f4\i header&bodyStructure
\f1\i0 \'a3\'ac\'bb\'f1\'c8\'a1
\f4\i header
\f1\i0 \'d6\'ae\'ba\'f3
\f4\i postNotification
\f1\i0 \'a3\'ac\'cb\'a2\'d0\'c2
\f4\i UI
\f1\i0 \
4\'a1\'a2
\f4\i provider
\f1\i0 \'ca\'d5\'b5\'bd\'cf\'fb\'cf\'a2\'d6\'ae\'ba\'f3\'a3\'ac\'bd\'abmessagewithoutbody\'b5\'c4messages\'a3\'ac
\f4\i start download body Operation
\f1\i0 \'a3\'ac\'bd\'e1\'ca\'f8\'ba\'f3\'b7\'a2\'cb\'cd
\f4\i Notification
\f1\i0 \'b8\'f8
\f4\i Provider
\f1\i0 \'a3\'ac\'cb\'a2\'d0\'c2
\f4\i UI
\f1\i0 \'b5\'c4\'d5\'fd\'ce\'c4\'a3\'acNotification\'b2\'ce\'ca\'fd\'ce\'aa .MessageIds
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'c0\'cf\'b0\'e6\'b1\'be
\f0 searchOperation
\f1 \'c1\'f7\'b3\'cc\'a3\'ba
\f0 \

\f1 \'cf\'c8\'b5\'f7
\f0 mailcore
\f1 \'b5\'c4
\f0 search
\f1 \'b7\'bd\'b7\'a8-
\f0 adapter.\cf6 search
\f1 \cf2 \'a3\'ac\'d4\'da\'bb\'d8\'b5\'f7\'d6\'d0\'c8\'e7\'b9\'fb\'d3\'d0romoteUid\'a3\'ac\'d4\'f2\'cf\'c2\'d3\'ca\'bc\'feheader\'ba\'cdbodyStructure-
\f0 \cf6 syncMessagesStructure
\f1 \cf6 \'a3\'ac
\f0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf6 \'c8\'e7\'b9\'fb\cf2 \'b1\'be\'b5\'d8\'b5\'c4
\f0 uids>0,
\f1 \'d4\'f2\'b7\'a2\'cb\'cd\'cd\'a8\'d6\'aa
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 broadCast\cf2 (
\f3\b \cf4 nil
\f0\b0 \cf2 , finished:
\f3\b \cf4 false
\f0\b0 \cf2 )
\f1 \'a3\'ac
\f0 finished
\f1 \'ce\'aa
\f3\b \cf4 false
\f0\b0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'b7\'a2\'cb\'cd\'cf\'fb\'cf\'a2\'cb\'b3\'d0\'f2\'a3\'ba
\f0 \
1
\f1 \'a1\'a2\'c8\'e7\'b9\'fb\'b1\'be\'b5\'d8
\f0 localUids>0
\f1 \'a3\'ac\'d4\'f2\'cf\'c8\'b7\'a2\'cd\'a8\'d6\'aa\'cb\'a2\'d0\'c2UI\'a3\'ac
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 broadCast\cf2 (
\f3\b \cf4 nil
\f0\b0 \cf2 , finished:
\f3\b \cf4 false
\f0\b0 \cf2 )
\f1 \'a3\'ac
\f0 finished
\f1 \'ce\'aa
\f3\b \cf4 false
\f0\b0 \cf2 \
2
\f1 \'a1\'a2\'c8\'e7\'b9\'fb\'d4\'b6\'b6\'cbserver\'b5\'c4
\f0 remoteUids>0,
\f1 \'cf\'c2\'d4\'d8header\'ba\'cdbodyStructure-
\f0 adapter.\cf6 syncMessagesStructure
\f1 \cf6 \'a3\'ac
\f0 \cf6 header
\f1 \cf6 \'ba\'cdstructure\'cf\'c2\'d4\'d8\'cd\'ea\'d6\'ae\'ba\'f3\'a3\'ac\'b7\'a2\'cb\'cd\'cf\'fb\'cf\'a2\'a3\'ac
\f0 \cf10 finished
\f1 \cf6 \'ce\'aa
\f3\b \cf11 true
\f0\b0 \cf2 \
3
\f1 \'a1\'a2\'c8\'e7\'b9\'fb\'b1\'be\'b5\'d8
\f0 localUids.\cf7 count\cf2  > \cf12 0
\f1 \cf12 \'a3\'ac
\f0 \cf2 adapter.\cf6 syncMessageFlags
\f1 \cf6 \'a3\'ac\'b7\'b5\'bb\'d8\'ba\'f3\'a3\'ac\'c5\'d0\'b6\'cf\'c8\'e7\'b9\'fb
\f0 \cf2 remoteUids.\cf7 count\cf2  > \cf12 0
\f1 \cf2 \'a3\'ac
\f0 server
\f1 \'c9\'cf\'d2\'aa\'cf\'c2\'d4\'d8\'b5\'c4
\f0 message
\f1 \'a3\'ac\'d4\'f2\'b7\'a2\'cb\'cd\'b5\'c4\'cd\'a8\'d6\'aa
\f0 finished
\f1 \'ce\'aa
\f0 false-
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 broadCast\cf2 (
\f3\b \cf4 nil
\f0\b0 \cf2 , finished:
\f3\b \cf4 false
\f0\b0 \cf2 )
\f1 \'a3\'ac\'c8\'e7\'b9\'fb
\f0 server
\f1 \'c9\'cf\'c3\'bb\'d3\'d0
\f0 message
\f1 \'c1\'cb\'a3\'ac\'d6\'bb\'c4\'dc\'b1\'be\'b5\'d8\'c0\'b4\'b7\'a2\'cb\'cd\'cd\'a8\'d6\'aa\'a3\'ac\'d4\'f2\'b7\'a2\'cb\'cd\'b5\'c4\'cd\'a8\'d6\'aa\'ce\'aatrue\'a3\'ac\
\'d7\'dc\'b6\'f8\'d1\'d4\'d6\'ae\'be\'cd\'ca\'c7\'b2\'bb\'b9\'dc\'d3\'d0\'b6\'e0\'c9\'d9\'b8\'f6\'d7\'d3Operation\'b7\'a2\'cb\'cd\'cd\'a8\'d6\'aa\'a3\'ac\'d6\'bb\'b7\'a2\'cb\'cd\'d2\'bb\'b8\'f6finished=true\'b5\'c4\'cd\'a8\'d6\'aa\
4\'a1\'a2
\f0 remoteUids>0
\f1 \'ca\'b1\'a3\'ac\'d4\'daserver\'b5\'c4header\'ba\'cdstructure\'cf\'c2\'d4\'d8\'cd\'ea\'b3\'c9\'d6\'ae\'ba\'f3\'a3\'a8
\f0 adapter.\cf6 syncMessagesStructure
\f1 \cf2 \'a3\'a9\'a3\'ac\'cc\'ed\'bc\'d3\'cf\'c2\'d4\'d8body\'b5\'c4\'c8\'ce\'ce\'f1\'a3\'ac
\f0 \cf6 downloadMessagesBody
\f1 \cf6 \'a3\'ac\'b4\'ab\'b5\'dddownload\'d5\'e2\'b8\'f6Operation\'b5\'c4opkey\'b8\'f8
\f0 \cf6 downloadMessagesBody
\f1 \cf6 \'a3\'ac
\f0 \cf6 downloadMessagesBody
\f1 \cf6 \'bd\'e1\'ca\'f8\'ba\'f3\'a3\'ac\'bb\'e1\'b7\'a2\'cb\'cd\'cd\'a8\'d6\'aa\'a3\'ac\'b5\'ab\'ca\'c7\'d5\'e2\'b8\'f6\'cd\'a8\'d6\'aa\'d6\'d0\'bb\'e1\'d2\'c6\'b3\'fdfinished=true\'a3\'ac\'d2\'f2\'ce\'aa\'d6\'ae\'c7\'b0\'d4\'da\'cf\'c2server\'c9\'cf\'d3\'ca\'bc\'fe\'b5\'c4header\'ba\'cdstructure\'ca\'b1\'d2\'d1\'be\'ad\'b7\'a2\'b9\'fd\'d5\'e2\'b8\'f6finished=true\'b5\'c4\'cd\'a8\'d6\'aa\'c1\'cb\'a1\'a3\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 \'d0\'c2\'b0\'e6
\f0 searchOperation
\f1 \'c1\'f7\'b3\'cc\'a3\'ba\
1\'a1\'a2searchProvider\'d6\'d0\'b5\'f7\'d3\'c3searchServerMessage\'a3\'ac\'b7\'a2\'c6\'f0searchOperation\'a3\'ac\'d4\'dasearchOperation\'d6\'d0\'a3\'ac\'d6\'bb\'b5\'f7\'d3\'c3mailcore\'b5\'c4search\'b7\'bd\'b7\'a8\'a3\'ac\'b7\'b5\'bb\'d8\'d2\'bb\'c5\'fauid\'d6\'d0\'a3\'ac\'c8\'e7\'b9\'fb\'b1\'be\'b5\'d8\'b4\'e6\'d4\'da\'a3\'ac\'cc\'ed\'bc\'d3\'b5\'bdlocalUids\'a3\'ac\'c8\'e7\'b9\'fb\'b1\'be\'b5\'d8\'b2\'bb\'b4\'e6\'d4\'da\'a3\'ac\'cc\'ed\'bc\'d3\'b5\'bdremoteUids\'a3\'accallback\'a3\'ac\'b7\'a2\'cb\'cd\'cd\'a8\'d6\'aa\'b5\'bdprovider\'a3\'ac\'b2\'ce\'ca\'fd\'d3\'d0localConversationIds\'a3\'aclocalMsgIdsInfo,remoteMsgIdsInfo\'a3\'acfinished=false\
2\'a1\'a2searchProvider\'ca\'d5\'b5\'bdsearchNotification\'d6\'ae\'ba\'f3\'a3\'ac\'bd\'e2\'ce\'f6\'b2\'ce\'ca\'fdlocalConversationIds\'a3\'aclocalMsgIdInfos\'a3\'acremoteMsgIdsInfo\'a3\'ac\'c5\'d0\'b6\'cf\'c8\'e7\'b9\'fblocalMsgIdsInfo > 0,updateMessageState,\'b4\'ab\'b5\'dd\'b2\'ce\'ca\'fd\'a3\'ba
\f0 EmailListSearchUpdated
\f1 \'a3\'aclocalMsgIdInfos;\'c5\'d0\'b6\'cf\'c8\'e7\'b9\'fbremoteMsgIdsInfo>0,fetchMessageByIds,\'b4\'ab\'b5\'dd\'b2\'ce\'ca\'fd
\f0 EmailListSearchUpdated
\f1 \'a3\'acremoteMsgIdsInfo\'a3\'ac\'d7\'ee\'ba\'f3\'d3\'c3localConversationIds\'b2\'ce\'ca\'fd\'cb\'a2\'d0\'c2UI-updateResult\
3\'a1\'a2fetchMessageByIds Operation\'bd\'e1\'ca\'f8\'ba\'f3\'a3\'accallback\'b7\'b5\'bb\'d8\'b7\'a2\'cb\'cd
\f0 EmailListSearchUpdated
\f1 \'cf\'fb\'cf\'a2\'d6\'c1provider\'a3\'ac\'b2\'ce\'ca\'fdremoteConversationIds\'a3\'ac
\f0 remoteMsgIdsInfo
\f1 \'a3\'acfinished=true\'a3\'bb\'d7\'ee\'ba\'f3\'ba\'cf\'b2\'a2\'b1\'be\'b5\'d8search\'bd\'e1\'b9\'fb\'cb\'a2\'d0\'c2UI\
4\'a1\'a2updateMessageState Operation\'bd\'e1\'ca\'f8\'ba\'f3\'a3\'accallback\'b7\'b5\'bb\'d8\'b7\'a2\'cb\'cd
\f0 EmailListSearchUpdated
\f1 \'cf\'fb\'cf\'a2\'a3\'ac\'b2\'ce\'ca\'fd
\f0 ConversationIds
\f1 \'a3\'ac\'c8\'e7\'b9\'fb 
\f0 remoteMsgIdsInfo
\f1 >0,finished=false,\'b7\'f1\'d4\'f2finished=true\'a3\'bb\'d7\'ee\'ba\'f3\'ba\'cf\'b2\'a2\'b1\'be\'b5\'d8search\'bd\'e1\'b9\'fb\'cb\'a2\'d0\'c2UI\
5\'a1\'a2searchProvider\'ca\'d5\'b5\'bdfetch\'b5\'c4
\f0 EmailListSearchUpdated
\f1 \'cf\'fb\'cf\'a2\'a3\'ac\'b7\'a2\'c6\'f0downloadBodies Operation \'a3\'ac\'b4\'ab\'b5\'dd\'b2\'ce\'ca\'fd\'a3\'ba
\f0 EmailListSearchUpdated
\f1 \'a3\'ac
\f0 remoteMsgIdsInfo
\f1 \'a3\'bb\'d7\'ee\'ba\'f3\'ba\'cf\'b2\'a2\'b1\'be\'b5\'d8search\'ba\'cdcontact\'a3\'ac\'cb\'a2\'d0\'c2UI\
6\'a1\'a2downloadbodies Operation\'bd\'e1\'ca\'f8\'ba\'f3\'a3\'accallback\'b7\'b5\'bb\'d8\'b2\'ce\'ca\'fd\'a3\'ba
\f0 EmailListSearchUpdated
\f1 \'a3\'ac
\f0 ConversationIds
\f1 \'a3\'ac\'d4\'f6\'bc\'d3count\'b2\'ce\'ca\'fd\'a3\'ac\'d2\'c6\'b3\'fdfinished\'a1\'a3
\f0 \
\
\
Search
\f1 \'c1\'f7\'b3\'cc\'bc\'b8\'b8\'f6\'b9\'d8\'bc\'fc\'b5\'e3\'b5\'c4\'b4\'a6\'c0\'ed\'a3\'ba\
1\'a1\'a2\'d2\'f2\'ce\'aa\'d2\'bb\'b8\'f6searchOperation\'d3\'d0\'b6\'e0\'b8\'f6\'d7\'d3Operation\'a3\'a8search\'a3\'acfetch\'a3\'acupdate\'a3\'acdownload\'a3\'a9\'a3\'ac\'b2\'a2\'c7\'d2\'d2\'bb\'b8\'f6search\'b2\'d9\'d7\'f7\'d3\'d0\'b6\'e0\'b8\'f6searchOp\'a3\'a8\'be\'db\'ba\'cffolder\'b5\'c4\'b6\'e0\'b8\'f6\'d5\'cb\'ba\'c5\'a3\'ac\'c3\'bf\'b8\'f6\'d5\'cb\'ba\'c5\'d2\'bb\'b8\'f6searchOp\'a3\'a9\'a3\'ac\'cb\'f9\'d2\'d4\'c3\'bf\'b8\'f6searchOp\'d4\'f6\'bc\'d3\'d2\'bb\'b8\'f6
\f0 searchOpsSession
\f1 \'d7\'d6\'b5\'e4\'c0\'b4\'b9\'dc\'c0\'ed\'d2\'bb\'b8\'f6
\f0 search Session
\f1 \'a3\'ac\'d3\'c3search\'b5\'c4opkey\'d7\'f7\'ce\'aakey\'a3\'ac\'c6\'e4\'d3\'e0\'d7\'d3Operation\'a3\'a8fetch\'a3\'acupdate\'a1\'a3download\'a3\'a9\'b5\'c4parentKey\'ce\'aa\'b5\'da\'d2\'bb\'b8\'f6\'d7\'d3search Opkey\'a3\'ac\'bd\'ab\'d2\'bb\'b8\'f6searchSession\'cb\'f9\'d3\'d0\'b2\'d9\'d7\'f7\'cb\'f9\'d0\'e8\'b5\'c4data\'b4\'e6\'d4\'da
\f0 searchOpsSession
\f1 \'d6\'d0\'a3\'ac
\f0 \

\f1 2\'a1\'a2\'c0\'cf\'b0\'e6\'b5\'c4\'b5\'f7\'b6\'c8\'ca\'c7\'d4\'daSearchOperation\'b5\'c4execute\'d6\'d0\'a3\'ac\'d0\'c2\'b0\'e6\'bd\'absearchOperation\'b6\'af\'d7\'f7\'b2\'f0\'b3\'c9search\'a3\'acfetch\'a3\'acupdate\'a3\'acdownload\'cb\'c4\'b8\'f6Operation\'a3\'ac\'b5\'f7\'b6\'c8\'cc\'e1\'b5\'bd\'c1\'cbprovider\'d6\'d0\'a3\'ac\'d3\'c3searchSession\'b9\'dc\'c0\'ed\'b6\'e0\'b8\'f6\'d7\'d3Operation\'a3\'ac\'ba\'c3\'b4\'a6\'ca\'c7\'bf\'c9\'d2\'d4\'b8\'b4\'d3\'c3fetch\'a3\'acupdate\'a3\'acdownload\'b5\'c8Operation\'a3\'ac\'b2\'bb\'d0\'e8\'d2\'aa\'cf\'d6\'d3\'d0\'b0\'e6\'b1\'be\'b6\'e0\'b4\'ce\'d6\'d8\'d0\'b4\'d5\'e2\'d0\'a9\'c1\'f7\'b3\'cc\'b5\'c4\'bb\'d8\'b5\'f7\'c2\'df\'bc\'ad\
3\'a1\'a2\'c0\'cf\'b0\'e6\'b5\'c4IMAP\'b4\'f3folder\'cb\'d1\'cb\'f7\'b5\'c4\'d3\'c5\'bb\'af\'b4\'a6\'c0\'ed\'a3\'ba\'b6\'e0\'b4\'ce\'b5\'f7\'d5\'fbdateFilter\'d6\'d8\'b8\'b4\'cb\'d1\'cb\'f7-hasNextStage\'b5\'c4\'c5\'d0\'b6\'cf\'c2\'df\'bc\'ad\'a3\'ac\'d0\'c2\'b0\'e6\'b0\'d1\'cb\'fb\'cc\'e1\'b5\'bd\'c1\'cbProvider\'d6\'d0\'a3\'ac\'cb\'f9\'d0\'e8\'d2\'aa\'b5\'c4data\'b4\'e6\'b7\'c5\'d4\'dasearchOpsSession\'d6\'d0\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf10 4
\f1 \'a1\'a2searchOpsSession\'b5\'c4\'b8\'b3\'d6\'b5\'b2\'a2\'b2\'bb\'ca\'c7\'d4\'dasearchOp\'d6\'ae\'c7\'b0\'a3\'ac\'b6\'f8\'ca\'c7\'d4\'da\'c6\'e4\'b7\'b5\'bb\'d8\'ca\'b1\'a3\'ac\'d5\'e2\'d1\'f9\'b7\'b5\'bb\'d8\'b4\'ab\'bb\'d8\'b5\'c4\'b2\'ce\'ca\'fd\'ca\'c7\'cf\'d6\'b3\'c9\'b5\'c4\'a3\'a8opkey\'a3\'acfolder\'a3\'acfolderType\'b5\'c8\'a3\'a9\'a1\'a3\

\f0 5
\f1 \'a1\'a2searchOpsSession\'b5\'c4data\'d2\'aa\'d3\'c3Notification\'b4\'ab\'b5\'dd\
6\'a1\'a2\'c0\'cf\'b0\'e6\'b5\'c4\'d7\'d3Operation\'a3\'a8download\'a3\'a9\'b5\'c4opkey\'ca\'b9\'d3\'c3\'b5\'c4\'ca\'c7\'b8\'b8Operation\'b5\'c4key\'a3\'a8searchOp\'a3\'a9\'a3\'ac\'d5\'e2\'b8\'f6\'d3\'d0bug\'a3\'ac\'d4\'dadownload\'bb\'d8\'b4\'ab\'cf\'fb\'cf\'a2\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'acopkeys\'c0\'ef\'c3\'e6\'b5\'c4searchopkey\'d2\'d1\'be\'ad\'d2\'c6\'b3\'fd\'a3\'ac\'ce\'de\'b7\'a8\'bd\'d3\'ca\'d5\'b5\'bddownloadbody\'cf\'fb\'cf\'a2\'a3\'acUI\'ce\'de\'b7\'a8\'cf\'d4\'ca\'be\'b4\'d3server\'cb\'d1\'cb\'f7\'b3\'f6\'b5\'c4\'d3\'ca\'bc\'fe\'a3\'ac\'b1\'d8\'cf\'d6\'a3\'a8\'d5\'e2\'b8\'f6\'d4\'da1.17\'d6\'d0\'d2\'d1\'be\'ad\'d0\'de\'b8\'b4\'b2\'a2\'cc\'e1\'bd\'bb\'a3\'a9\'a3\'ac\'d0\'c2\'b0\'e6\'d7\'d3op\'d3\'c3\'d7\'d4\'bc\'ba\'b5\'c4opkey\'a3\'acsearchOpkey\'b4\'e6\'b7\'c5\'d4\'daparentOpKey\'d6\'d0\'a3\'ac\
\
\'cf\'df\'c9\'cf\'b0\'e6\'b1\'besearch\'b7\'a2\'cf\'d6\'d3\'d0crash\'b5\'c4\'ce\'ca\'cc\'e2\'a3\'ac\'b7\'d6\'ce\'f6\'b5\'c4\'d4\'ad\'d2\'f2\'ca\'c7\'d3\'c3\'bb\'a7\'ca\'e4\'c8\'eb\'b5\'c4\'b9\'d8\'bc\'fc\'d7\'d6\'d3\'c3\'ca\'b1\'bc\'b8\'c3\'eb\'a3\'ac\'be\'cd\'bb\'e1\'b4\'a5\'b7\'a2\'cb\'d1\'cb\'f7\'bc\'b8\'b4\'ce\'a3\'ac\'c8\'e7\'b9\'fb\'d3\'c3\'bb\'a7\'d5\'cb\'bb\'a7\'d3\'d0\'ba\'c3\'bc\'b8\'b8\'f6\'a3\'ac\'bf\'c9\'c4\'dc\'bb\'e1\'d3\'d0\'bc\'b8\'ca\'ae\'b4\'ce\'cb\'d1\'cb\'f7\'a3\'ac\'cb\'d1\'cb\'f7\'b5\'c4message\'c3\'bb\'d3\'d0500\'b7\'e2\'b5\'c4\'cf\'de\'d6\'c6\'a3\'ac\'bf\'c9\'c4\'dc\'bb\'e1\'cf\'c2\'d4\'d8\'bc\'b8\'b0\'d9\'b7\'e2\'d3\'ca\'bc\'fe\'a3\'ac\'c4\'da\'b4\'e6\'d2\'e7\'b3\'f6\'c1\'cb\'a3\'ac\'bf\'c9\'d2\'d4\'b2\'c9\'d3\'c3cancelPreviousPerformRequests\'b5\'c8\'d3\'c3\'bb\'a7\'ca\'e4\'c8\'eb\'c0\'e4\'c8\'b4n\'c3\'eb\'d6\'ae\'ba\'f3\'b4\'a5\'b7\'a2\'cb\'d1\'cb\'f7\'a3\'ac\'cd\'ac\'ca\'b1\'b6\'d4\'d3\'da\'b6\'e0\'d5\'cb\'bb\'a7\'cd\'ac\'ca\'b1\'cb\'d1\'cb\'f7\'bc\'f5\'d0\'a1\'d7\'ee\'b4\'f3\'cb\'d1\'cb\'f7\'ca\'fd\'c1\'bf\'a3\'a8\'cf\'d6\'d4\'da\'ca\'c7\'c3\'bf\'b4\'ce\'c3\'bf\'b8\'f6\'d5\'cb\'bb\'a750\'b7\'e2\'d3\'ca\'bc\'fe\'a3\'a9
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 \
        
\f4\i \cf9 //1
\f1\i0 \'a1\'a2
\f4\i Adapter
\f1\i0 \'b5\'c4
\f4\i search
\f1\i0 \'c0\'ef\'c3\'e6\'b0\'fc\'ba\'ac
\f4\i search
\f1\i0 \'a3\'ac\'b7\'b5\'bb\'d8\'ba\'f3\'a3\'ac\'b8\'f9\'be\'dd
\f4\i uids
\f1\i0 \'b7\'d6\'c0\'e0
\f4\i localUids
\f1\i0 \'ba\'cd
\f4\i remoteUids
\f1\i0 \'a3\'ac\'bd\'ab
\f4\i localUids
\f1\i0 \'ba\'cd
\f4\i remoteUids
\f1\i0 \'b7\'a2\'cb\'cd
\f4\i EmailListSearchUpdated
\f1\i0 \'cf\'fb\'cf\'a2\'b5\'bd
\f4\i provider
\f1\i0 \'a3\'ac\'b2\'ce\'ca\'fd\'d3\'d0
\f4\i localuid
\f1\i0 \'a3\'ac
\f4\i remoteuids
\f1\i0 \'a3\'ac
\f4\i finished=false
\f1\i0 \'b5\'c8
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f4\i \cf9 //provider
\f1\i0 \'ca\'d5\'b5\'bd
\f4\i EmailListSearchUpdated
\f1\i0 \'cf\'fb\'cf\'a2\'d6\'ae\'ba\'f3
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f4\i \cf9 //2
\f1\i0 \'a1\'a2
\f4\i localuids
\f1\i0 \'cb\'a2\'d0\'c2\'bd\'e7\'c3\'e6\'a3\'ac
\f4\i syncflag
\f1\i0 \'a3\'ac\'b2\'ce\'ca\'fd\'d3\'d0
\f4\i .MessageIds
\f1\i0 \'a3\'ac\'c8\'e7\'b9\'fb
\f4\i remoteUid
\f1\i0 \'ce\'aa
\f4\i 0
\f1\i0 \'a3\'ac
\f4\i finished=true
\f1\i0 \'a3\'ac\'b7\'f1\'d4\'f2
\f4\i finished=false
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2         
\f4\i \cf9 //3
\f1\i0 \'a1\'a2
\f4\i remoteUId 
\f1\i0 \'bb\'f1\'c8\'a1
\f4\i header&bodyStructure
\f1\i0 \'a3\'ac\'bb\'f1\'c8\'a1
\f4\i header
\f1\i0 \'d6\'ae\'ba\'f3
\f4\i postNotification
\f1\i0 \'a3\'ac\'cb\'a2\'d0\'c2
\f4\i UI
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2         
\f4\i \cf9 //4
\f1\i0 \'a1\'a2
\f4\i provider
\f1\i0 \'ca\'d5\'b5\'bd\'cf\'fb\'cf\'a2\'d6\'ae\'ba\'f3\'a3\'ac\'bd\'ab
\f4\i messagewithoutbody
\f1\i0 \'b5\'c4
\f4\i messages
\f1\i0 \'a3\'ac
\f4\i start download body Operation
\f1\i0 \'a3\'ac\'bd\'e1\'ca\'f8\'ba\'f3\'b7\'a2\'cb\'cd
\f4\i Notification
\f1\i0 \'b8\'f8
\f4\i Provider
\f1\i0 \'a3\'ac\'cb\'a2\'d0\'c2
\f4\i UI
\f1\i0 \'b5\'c4\'d5\'fd\'ce\'c4\'a3\'ac
\f4\i Notification
\f1\i0 \'b2\'ce\'ca\'fd\'ce\'aa
\f4\i  .MessageIds
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2         
\f4\i \cf9 //search
\f1\i0 \'b2\'d9\'d7\'f7\'b2\'bb\'d0\'e8\'d2\'aa\'d4\'da\'d7\'b4\'cc\'ac\'c0\'b8\'cf\'d4\'ca\'be\'d7\'b4\'cc\'ac
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f4\i \cf9 //insertOperationToStatusBar
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2         
\f4\i \cf9 //removeOperationFromStatusBar
\f0\i0 \cf2 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'b4\'d3
\f0 search
\f1 \'b7\'b5\'bb\'d8\'b5\'c4remoteUid\'a3\'ac\'b1\'be\'b5\'d8\'b6\'bc\'c3\'bb\'d3\'d0\'d5\'e2\'d0\'a9\'cf\'fb\'cf\'a2\'a3\'ac\'d2\'b2\'c3\'bb\'d3\'d0\'b6\'d4\'d3\'a6\'b5\'c4Conversation\'a3\'ac\'b4\'ab\'b5\'dd\'b8\'f8fetchMessageByIds\'a3\'ac\'d3\'c3Pid\'a3\'bf\'a3\'ac\'b7\'b5\'bb\'d8\'b5\'c4\'ca\'b1\'ba\'f2\'d2\'d1\'be\'ad\'cf\'c2\'d4\'d8\'b5\'bd\'b1\'be\'b5\'d8\'c1\'cb\'a3\'ac\'b5\'b9\'ca\'c7\'bf\'c9\'d2\'d4\'d3\'c3ConversationIds\
\'d3\'c3ConversationId\'b4\'ab\'b5\'dd\'b2\'ce\'ca\'fd\'a3\'ac\'bb\'e1\'d6\'d8\'b8\'b4\'cf\'c2\'d4\'d8header\'ba\'cdbodyStructure\'a3\'bf\
\'c8\'e7\'ba\'ce\'c7\'f8\'b7\'d6\'d5\'e2\'bc\'b8\'b8\'f6
\f0 Operation
\f1 \'a3\'bf
\f0 opkey
\f1 \'a3\'bf\'bb\'d8\'b4\'f0\'a3\'ba\'ca\'b9\'d3\'c3opkey\'d6\'d0\'b5\'c4type
\f0 \

\f1 \'c8\'e7\'ba\'ce\'c5\'d0\'b6\'cfsearch\'bd\'e1\'ca\'f8\'a3\'bf\'a3\'a8\'d7\'a2\'d2\'e2\'b6\'e0\'b4\'cesearch\'b5\'c4opkeys\'ce\'ca\'cc\'e2\'a3\'a9\
\'c8\'e7\'ba\'ce\'cb\'a2\'d0\'c2UI\
\'d4\'d9\'b4\'cesearch\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ac\'c8\'e7\'ba\'ce\'b4\'ab\'b5\'ddtimerFilter\'ba\'cd\'c6\'e4\'cb\'fb\'d7\'d6\'b6\'ce\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\
Session
\f1 \'b5\'c4\'d7\'d6\'b6\'ce\'d0\'de\'b8\'c4\'c1\'cb\'c4\'c4\'d0\'a9\'a3\'bftimeFilter\'a3\'ac
\f0 \cf5 nextTag
\f1 \cf5 \'a3\'ac
\f0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 \'c3\'bb\'b8\'c4\'b1\'e4\'b5\'c4\'be\'cd\'b2\'bb\'d0\'e8\'d2\'aa\'bb\'d8\'b4\'ab\
\
\'cf\'c2\'c3\'e6\'d5\'e2\'d0\'a9\'d0\'e8\'d2\'aa\'b4\'ab\'d6\'b5\'a3\'ba\'b4\'d3provider\'b4\'ab\'b5\'bdAdapter\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 thsFolder\cf2  = thsFolder
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 folderType\cf2  = folderType
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 filters\cf2  = filters
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 start\cf2  = start
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 startTag\cf2  = startTag
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 size\cf2  = size\
\
1
\f1 \'a1\'a2
\f0 provider
\f1 \'b5\'da\'d2\'bb\'b4\'ce
\f0 search
\f1 \'b2\'bb\'b4\'absearch
\f0 Info
\f1 \'a3\'ac\'ce\'aa
\f0 nil
\f1 \'a3\'ac
\f0 adapter
\f1 \'c5\'d0\'b6\'cfsearch
\f0 Info
\f1 \'ce\'aa
\f0 nil
\f1 \'a3\'ac\'b4\'b4\'bd\'a8search
\f0 Info
\f1 \'bb\'d8\'b4\'abProvider
\f0 \
2
\f1 \'a1\'a2
\f0 provider
\f1 \'b1\'a3\'b4\'e6\'d5\'e2\'b8\'f6
\f0 searchInfo
\f1 \'a3\'ac\'c5\'d0\'b6\'cf\'c8\'e7\'b9\'fb\'d0\'e8\'d2\'aa\'d6\'d8\'d0\'c2
\f0 search
\f1 \'a3\'ac\'d4\'f2\'b5\'f7\'d3\'c3
\f0 searchServerMessageByInfo
\f1 \'a3\'ac\'b4\'ab\'b5\'dd
\f0 timer
\f1 \'b2\'ce\'ca\'fd
\f0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'cf\'d6\'d4\'da\'b5\'c4\'c4\'d1\'cc\'e2\'ca\'c7\'b5\'da\'d2\'bb\'b4\'ce\'b5\'f7\'d3\'c3search\'a3\'acinfo\'ca\'c7\'b7\'b5\'bb\'d8\'b5\'c3\'b5\'bd\'b5\'c4\'a3\'ac\'b5\'ab\'ca\'c7\'b5\'da\'b6\'fe\'b4\'ce\'b5\'f7\'d3\'c3
\f0 search
\f1 \'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ac\'d0\'e8\'d2\'aa\'b4\'ab\'b5\'dd
\f0 timeFilter
\f1 \'b2\'ce\'ca\'fd\'ba\'cdnextTag\'b2\'ce\'ca\'fd\'a3\'acstartTag\'b2\'ce\'ca\'fd\'a3\'ac\'c8\'e7\'b9\'fb\'cd\'a8\'b9\'fdsearchInfo\'b4\'ab\'b5\'dd\'a3\'ac\'d0\'c2search\'b5\'c4opkey\'ca\'c2\'cf\'c8\'b2\'bb\'d6\'aa\'b5\'c0\'a3\'ac\'d0\'e8\'d2\'aa\'b7\'b5\'bb\'d8\'ca\'b1\'b2\'c5\'d6\'aa\'b5\'c0\
\'c8\'e7\'b9\'fb\'b6\'bc\'ca\'c7\'b5\'f7\'d3\'c3search\'c7\'b0\'b4\'b4\'bd\'a8info\'a3\'ac\'d4\'f2\'d2\'aa\'d4\'da
\f0 searchMessages
\f1 \'b7\'bd\'b7\'a8\'c4\'da\'b4\'b4\'bd\'a8info\'d7\'d6\'b5\'e4\'c8\'bb\'ba\'f3\'b7\'b5\'bb\'d8info\'ca\'fd\'d7\'e9\'a3\'ac\'d3\'d0\'b5\'e3\'f1\'ee\'ba\'cf\'d2\'b5\'ce\'f1
\f0 \
\

\f1 \'b5\'f7\'d3\'c3
\f0 search
\f1 \'c7\'b0\'b4\'b4\'bd\'a8info\'a3\'ac\'d4\'da
\f0 searchMessages
\f1 \'b7\'bd\'b7\'a8\'c4\'da\'b4\'b4\'bd\'a8info\'d7\'d6\'b5\'e4\'c8\'bb\'ba\'f3\'b7\'b5\'bb\'d8info\'ca\'fd\'d7\'e9\'a3\'ac\'d4\'daAdapter\'d6\'d0\'b7\'b5\'bb\'d8\'d0\'de\'b8\'c4\'b5\'c4\'b2\'ce\'ca\'fd\'a3\'ac
\f0 \cf5 nextTag
\f1 \cf5 \'a3\'ac
\f0 \cf5 preResultSize
\f1 \cf5 \'a3\'ac\
\'b4\'d3provider\'b7\'a2\'b5\'bdadapter\'b6\'bc\'ca\'c7
\f0 \cf2 searchInfo
\f1 \'a3\'ac\cf5 adapter\cf2 \'b7\'b5\'bb\'d8\'b6\'bc\'ca\'c7\'d0\'de\'b8\'c4\'b5\'c4\'b8\'f6\'b1\'f0\'b2\'ce\'ca\'fd\'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
nextTag\
timeFilter\
preResultSize\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 adapter\'b4\'ab\'ca\'fd\'be\'dd\'b5\'bdprovider\'b5\'a5\'cf\'f2\'b5\'c4\'d3\'c3returnData\'a3\'ac\
\'c8\'e7\'b9\'fb\'b4\'d3adpter\'b4\'ab\'b5\'bdprovider\'a3\'ac\'d0\'e8\'d2\'aa\'cd\'b8\'b4\'ab\'bb\'d8\'c0\'b4\'a3\'ac\'d3\'c3data\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'ca\'a3\'d3\'e0\'b5\'c4
\f0 syncManager
\f1 \'b5\'c4\'c8\'ce\'ce\'f1\'a3\'ba
\f0 \
syncManager
\f1 \'d6\'d0\'b5\'c4
\f0 folder
\f1 \'bb\'b9\'c3\'bb\'c5\'aa\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'bc\'cc\'d0\'f8\'cb\'d1\'cb\'f7\'c2\'df\'bc\'ad\'a3\'ba\
updateMessageDate\'b7\'b5\'bb\'d8\'b2\'ce\'ca\'fd\'a3\'ba
\f0 resultSize
\f1 \'a3\'ac
\f0 thsFolder
\f1 .
\f0 totalcount,
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 filters,startSize
\f1 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 fetchMessageByIds
\f1 \'b7\'b5\'bb\'d8\'b2\'ce\'ca\'fd\'a3\'ba
\f0 resultSize
\f1 \'a3\'ac
\f0 thsFolder
\f1 .
\f0 totalcount,
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 filters\cf2 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf6 finishedStage
\f1 \cf6 \'b5\'f7\'d3\'c3\'b5\'e3\'a3\'ba	execute\'ba\'f3\'b5\'da\'d2\'bb\'b4\'ce\'d2\'b2\'d0\'e8\'d2\'aa\'b5\'f7\'d3\'c3
\f3\b \cf4 self
\f0\b0 \cf2 .\cf13 hasNextStage
\f1 \'a3\'ac\cf2 \'b5\'da\'d2\'bb\'b4\'ce100%return true\'a3\'ac\'c8\'e7\'b9\'fbfolder\'b9\'fd\'b4\'f3\'a3\'ac\'d4\'f2\'bb\'e1\'b8\'b3\'d6\'b5
\f0 \cf5 timeFilter
\f1 \cf5 \'a3\'a8\'d2\'bb\'d6\'dc\'a3\'a9
\f0 \cf6 \
1
\f1 \cf6 \'a1\'a2
\f0 \cf6 search
\f1 \cf6 \'bb\'d8\'b5\'f7\'d6\'d0\'a3\'ac
\f0 \cf6 error
\f1 \cf6 !
\f0 \cf6 =nil ,
\f1 \cf6 \'b5\'f7\'d3\'c3
\f0 \cf6 finishedStage  -
\f1 \cf6 >
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 start\cf2  == \cf12 0
\f1 \cf12 \'a3\'bb
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 removeOperationFromStatusBar\cf2 (
\f3\b \cf4 false
\f0\b0 \cf2 ),
\f1 \cf10 (\'c8\'e7\'b9\'fb\'ca\'c7\'b8\'f6\'b3\'ac\'b4\'f3folder\'a3\'ac\'b5\'da\'d2\'bb\'b4\'ce\'cb\'d1\'cb\'f7\'bf\'cf\'b6\'a8\'bb\'e1\'b8\'b3\'d6\'b5timeFilter\'a3\'ac\'c8\'bb\'ba\'f3search\'b7\'b5\'bb\'d8resultSize\'ce\'aa0\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ac\'d4\'f2\'bb\'b9\'d0\'e8\'d2\'aa\'b5\'f7\'d3\'c3
\f3\b \cf4 self
\f0\b0 \cf2 .\cf13 hasNextStage
\f1 \cf10 \'c5\'d0\'b6\'cf)
\f0 \cf6 \
2
\f1 \cf6 \'a1\'a2
\f0 \cf6 fetchMessageByIds
\f1 \cf6 \'bd\'e1\'ca\'f8\'ba\'f3\'a3\'ac\'c8\'e7\'b9\'fbfinished==true\'a3\'ac\'b5\'f7\'d3\'c3
\f0 \cf6 finishedStage ->if 
\f3\b \cf4 self
\f0\b0 \cf2 .\cf13 hasNextStage\cf6 ;search again\
3
\f1 \cf6 \'a1\'a2
\f0 \cf6 syncFlag
\f1 \cf6 \'b7\'b5\'bb\'d8\'bd\'e1\'b9\'fb\'a3\'ac\'c8\'e7\'b9\'fb
\f0 \cf6 remoteUidCount==0,
\f1 \cf6 \'b5\'f7\'d3\'c3
\f0 \cf6 finishedStage ->if 
\f3\b \cf4 self
\f0\b0 \cf2 .\cf13 hasNextStage\cf6 ;search again\
4
\f1 \cf6 \'a1\'a2search\'bb\'d8\'b5\'f7\'d6\'d0\'a3\'ac\'c8\'e7\'b9\'fb
\f0 \cf6 error==nil
\f1 \cf6 \'a3\'ac\'b5\'ab\'ca\'c7\'cb\'d1\'cb\'f7\'b5\'c4
\f0 \cf2 resultSize \cf6 ==0
\f1 \cf6 \'a3\'ac\'b5\'f7\'d3\'c3
\f0 \cf6 finishedStage
\f1 \cf6 \'a3\'ac
\f0 \cf6 -
\f1 \cf6 >
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 start\cf2  == \cf12 0
\f1 \cf12 \'a3\'bb
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 removeOperationFromStatusBar\cf2 (
\f3\b \cf4 false
\f0\b0 \cf2 )\cf6 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf6 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf13 hasNextStage
\f1 \'c2\'df\'bc\'ad\'a3\'ba\cf2 \
1\'a1\'a2\'c8\'e7\'b9\'fb
\f0 previousResultSize
\f1 \'ce\'de\'d6\'b5(==nil)\'a3\'ba\'d7\'dfstage1\'a3\'ac\'c8\'e7\'b9\'fbfolder\'b4\'f3\'a3\'ac\'b8\'b3\'d6\'b5timeFilter\'ce\'aa\'d2\'bb\'d6\'dc
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 2\'a1\'a2\'c8\'e7\'b9\'fb
\f0 previousResultSize
\f1 \'d3\'d0\'d6\'b5(
\f0 0
\f1 \'d2\'b2\'cb\'e3\'d3\'d0\'d6\'b5)\'a3\'ba\'d7\'dfstage2\
	2.1\'a1\'a2\'c8\'e7\'b9\'fb
\f0 previousFilterDate
\f1 \'d3\'d0\'d6\'b5\'a3\'ac
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  previousFilterDate = 
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 timeFilter
\f1 \cf5 \'a1\'a3\cf2 \
		2.1.1\'a1\'a2\'c8\'e7\'b9\'fb
\f0 previousResultSize >=\cf5 SEARCH_SIZE\cf2  - \cf12 5\cf2 ,return false 
\f1 \'bd\'e1\'ca\'f8\'a1\'a3\
		2.1.2\'a1\'a2\'c8\'e7\'b9\'fb\'d6\'ae\'c7\'b0\'ca\'c7\'d2\'bb\'d6\'dc\'b5\'c4timeFilter\'a3\'ac\'c8\'e7\'b9\'fb
\f0 previousResultSize
\f1 >
\f0 \cf5 SEARCH_SIZE\cf2 /\cf12 2
\f1 \cf2 \'a3\'actimeFilter\'b8\'c4\'ce\'aa\'d2\'bb\'b8\'f6\'d4\'c2\'b5\'c4\'a3\'ac\'c8\'e7\'b9\'fb
\f0 previousResultSize
\f1 \'b2\'bb\'d7\'e3
\f0 \cf5 SEARCH_SIZE\cf2 /\cf12 2
\f1 \cf12 \'a3\'ac\
			\cf2 timeFilter\'b8\'b3\'bf\'d5(all time filter) 
\f0 \cf10 return true
\f1 \'bd\'e1\'ca\'f8\'a1\'a3\cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 		2.\cf2 1.\cf10 3\'a1\'a2\'c8\'e7\'b9\'fb\'d6\'ae\'c7\'b0\'ca\'c7\'d2\'bb\'b8\'f6\'d4\'c2\'b5\'c4timeFilter\'a3\'ac\'d4\'f2\cf2 timeFilter\'b8\'b3\'bf\'d5(all time filter) 
\f0 \cf10 return true
\f1 \'bd\'e1\'ca\'f8\'a1\'a3\cf6 \
\cf10 		2.\cf2 1.\cf10 4\'a1\'a2\'c9\'cf\'d2\'bb\'b8\'f6stage\'b2\'bb\'ca\'c7\'d2\'bb\'d6\'dc\'a3\'ac\'d2\'b2\'b2\'bb\'ca\'c7\'d2\'bb\'b8\'f6\'d4\'c2\'a3\'ac\'d4\'f2return false\
	2.2\'a1\'a2\cf2 \'c8\'e7\'b9\'fb
\f0 previousFilterDate
\f1 \'ce\'de\'d6\'b5\'a3\'ac
\f3\b \cf4 return
\f0\b0 \cf2  
\f3\b \cf4 false 
\f4\i\b0 \cf9 // All time already\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\i0 \cf6 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf6 hasNextStage
\f1 \cf6 \'ba\'ce\'ca\'b1\'b5\'f7\'d3\'c3\'a3\'bf\'d3\'d0error\'ca\'b1\'b2\'bb\'b5\'f7\'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 hasNextStage
\f1 \'d4\'da
\f0 execute
\f1 \'ca\'b1\'d2\'d1\'be\'ad\'d6\'b4\'d0\'d0\'d2\'bb\'b4\'ce\'c1\'cb\'a3\'ac\'b5\'da\'d2\'bb\'b4\'ce100%return true\'a3\'ac\'c8\'e7\'b9\'fbfolder\'b9\'fd\'b4\'f3\'a3\'a8
\f0 \cf5 totalSize\cf2  > \cf5 BIG_FOLDER_THRESHOLD
\f1 \cf2 \'a3\'a9\'a3\'ac\'d4\'f2\'bb\'e1\'b8\'b3\'d6\'b5
\f0 \cf5 timeFilter
\f1 \cf5 \'a3\'a8\'d2\'bb\'d6\'dc\'a3\'a9\cf2 \'a3\'ac\'cd\'ea\'b3\'c9\'d6\'ae\'ba\'f3\
\'bb\'e1\'c5\'d0\'b6\'cftimeFilter\'ca\'c7\'b7\'f1\'ce\'aa\'bf\'d5\'a3\'ac\'ce\'aa\'bf\'d5\'d4\'f2return false\'a3\'ac\'c8\'e7\'b9\'fb\'cb\'d1\'cb\'f7\'ca\'fd\'c1\'bf\'b2\'bb\'d7\'e3(
\f0 \cf5 SEARCH_SIZE\cf2  - \cf12 5
\f1 \cf2 )\'a3\'ac\'d4\'f2\'b5\'f7\'b4\'f3DateFilter\'b5\'bd\'d2\'bb\'b8\'f6\'d4\'c2\'a3\'ac\'c8\'e7\'b9\'fb\'bb\'b9\'b2\'bb\'d0\'d0\'be\'cd\'d6\'b1\'bd\'d3timeFilter\'c9\'e8\'ce\'aanil\'cb\'d1\'c8\'ab\'b2\'bf\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf6 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 hasNextStage
\f1 \'bb\'e1\'b7\'b5\'bb\'d8true\'b5\'c4\'b5\'d8\'b7\'bd\'a3\'ac
\f0 \
1
\f1 \'a1\'a2
\f0 fetchRemoteMessage\
2
\f1 \'a1\'a2SyncMessageFlag\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf6 \'b5\'ab\'ca\'c7\'d5\'e2\'c1\'bd\'b8\'f6\'b5\'d8\'b7\'bd\'ca\'c7\'b6\'fe\'d1\'a1\'d2\'bb\'b5\'c4\'a3\'ac\'c8\'e7\'b9\'fb\'d3\'d0
\f0 \cf2 fetchRemoteMessage
\f1 \'b5\'f7\'d3\'c3\'a3\'ac\'be\'cd\'b2\'bb\'bb\'e1\'b5\'f7\'d3\'c3
\f0 sync
\f1 \'d6\'d0\'b5\'c4
\f0 \cf6 finishedStage(\cf2 hasNextStage),
\f1 \'c8\'e7\'b9\'fbremoteUid==0\'a3\'ac\'d6\'bb\'d3\'d0localUIdsync\'a3\'ac\
\'d4\'f2\'b5\'f7\'d3\'c3SyncMessageFlag\'b7\'b5\'bb\'d8\'ba\'f3\'b5\'c4
\f0 \cf6 finishedStage(\cf2 hasNextStage)
\f1 \cf6 \
\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 \'c4\'c7\'ce\'d2\'cd\'ac\'d1\'f9\'d4\'da\'d0\'c2\'b0\'e6\'d6\'d0searchProvider\'c0\'ef\'c3\'e6\'a3\'ac\'d4\'dafetchRemoteMesage\'cf\'fb\'cf\'a2\'b7\'b5\'bb\'d8\'ca\'b1\'a3\'ac\'c5\'d0\'b6\'cf
\f0 hasNextStage
\f1 \'a3\'ac\'d4\'dasync\'cf\'fb\'cf\'a2\'b7\'b5\'bb\'d8\'ca\'b1\'a3\'ac\'cf\'c8\'c5\'d0\'b6\'cf\'c8\'e7\'b9\'fbremoteUid==0,\'d4\'f2\'c5\'d0\'b6\'cfhasNextStage\'a3\'ac\cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 \'d4\'daIMAP\'b5\'c4searchOperation\'d6\'d0\'bd\'ab\'b8\'f7\'d6\'d6search\'cf\'e0\'b9\'d8\'d0\'c5\'cf\'a2\'a3\'a8\'b0\'fc\'c0\'a8opkey\'a3\'ac
\f0 \cf2 previousResultSize
\f1 \'a3\'acfolder\'a3\'acfolderType\'b5\'c8\cf10 \'a3\'a9\cf2 \'bb\'d8\'b4\'ab\'b5\'bdProvider\'a3\'ac\'b1\'a3\'b4\'e6\'b5\'bdopSession\'d6\'d0\'a3\'ac  
\f0 hasNextStage
\f1 \'b5\'c4\'c5\'d0\'b6\'cf\'c4\'c3\'b5\'bdsearch
\f0 Provider
\f1 \'d6\'d0\'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 Cancel Operation\'b5\'c4\'b4\'a6\'c0\'ed\'b5\'f7\'d3\'c3\'ca\'b1\'bb\'fa\'a3\'ac\'c4\'bf\'c7\'b0\'d0\'c2\'b0\'e6cancel\'b5\'c4\'ce\'bb\'d6\'c3\'b2\'bb\'ba\'cf\'c0\'ed\'a3\'ac\'c0\'cf\'b0\'e6\'ca\'c7\'d0\'b4\'d4\'daexecute\'c0\'ef\'c3\'e6\'a3\'acmailcore\'cd\'f8\'c2\'e7\'b2\'d9\'d7\'f7\'d6\'ae\'c7\'b0\cf6 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 searchOperation\'d6\'d0\'b5\'c4search\'b7\'b5\'bb\'d8\'b5\'c4\'ca\'c7resultSize-\'cb\'d1\'cb\'f7\'b3\'f6\'c0\'b4\'b5\'c4\'bd\'e1\'b9\'fb\'bc\'af\'ca\'fd\'c1\'bf\'a3\'ac\'b7\'b5\'bb\'d8remoteUidCount\'a3\'aclocalUidCount\'a3\'acnextTag\cf6 \
\
\cf10 \'b8\'c4\'b6\'af\'a3\'ba\
1\'a1\'a2adapter\'bb\'d8\'b4\'ab\'b5\'bdprovider\'d3\'c3returnData\'a3\'acprovider\'cd\'b8\'b4\'ab\'b5\'bdadapter\'d4\'d9\'bb\'d8\'b4\'ab\'bb\'d8\'c0\'b4\'a3\'ac\'d3\'c3data\
2\'a1\'a2
\f0 \cf6 broadcastInfo
\f1 \cf6 \'d6\'d0\'b4\'ab
\f0 \cf2 parentOpKey\
3
\f1 \'a1\'a2\cf10 \
\
statusKey\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf6 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 fetchMessage .run,\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 SyncInfo
\f1 \'bd\'e1\'b9\'b9\'d6\'d0\'d6\'bb\'d3\'d0accountId\'a3\'ac\'c3\'bb\'d3\'d0path\

\f0 createOperations
\f1 \'d6\'d0\'a3\'ba\
1\'a1\'a2\'b5\'f7\'d3\'c3
\f0 \cf6 createPrimaryOperations
\f1 \cf6 \'a3\'ac\'b7\'b5\'bb\'d8ops\'ca\'fd\'d7\'e9
\f0 \cf6 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 2
\f1 \'a1\'a2\'d1\'ad\'bb\'b7\'b5\'f7\'d3\'c3
\f0 \cf2 op.\cf6 burst\cf2 ()
\f1 \'a3\'ac\'d2\'c0\'b4\'ce\'cc\'ed\'bc\'d3\'b5\'bd
\f0 result Operation
\f1 \'b6\'d3\'c1\'d0\cf10 \
2\'a1\'a2\'b5\'f7\'d3\'c3
\f0 \cf6 createSecondaryOperations
\f1 \cf6 \
\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 createPrimaryOperations
\f1 \'d6\'d0\'a3\'ba
\f0 \
1
\f1 \'a1\'a2\'b8\'f9\'be\'ddOperation\'c0\'e0\'b1\'f0opType\'c0\'b4\'c5\'d0\'b6\'cf\'cc\'ed\'bc\'d3\'c4\'c4\'d0\'a9Operation
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 \'d4\'da
\f0 \cf2 createPrimaryOperations
\f1 \'b5\'c4
\f0 fetchmessage case
\f1 \'d6\'d0\'a3\'ac\
1\'a1\'a2\'a3\'a8search\'a3\'a9\'c8\'e7\'b9\'fb
\f0 folderType
\f1 \'ca\'c7searchType\'a3\'ac\'d4\'f2\'b8\'b3\'d6\'b5searchFilter\'ba\'cdburst\'ca\'f4\'d0\'d4\'a3\'ac\
\'cc\'ed\'bc\'d3searchOperation\'a3\'acsearchOperation\'b5\'c4\'b2\'ce\'ca\'fd\'d4\'dafetch\'d6\'d0\'bb\'b9\'c9\'d9\'d2\'bb\'b8\'f6thsFolder\
\cf10 2\'a1\'a2\'a3\'a8nothing to do\'a3\'a9\'c8\'e7\'b9\'fb
\f0 \cf2 folderType
\f1 \cf10 \'ca\'c7
\f0 \cf5 noFetchServerData
\f1 \cf10 \'a3\'ac\'ca\'b2\'c3\'b4\'b6\'bc\'b2\'bb\'d7\'f6\
3\'a1\'a2\'a3\'a8fetch\'a3\'a9\'c8\'e7\'b9\'fbpath\'ce\'aa\'bf\'d5\'a3\'ac\'b8\'f9\'be\'ddaccountId\'bb\'f1\'c8\'a1folder\'a3\'acAll sent->\uc0\u160 sent. \'cc\'ed\'bc\'d3
\f0 \cf5 FetchEmailsOperation
\f1 \cf10 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 createSecondaryOperations
\f1 \'d3\'a6\'b8\'c3\'d4\'da
\f0 provider
\f1 \'d6\'d0\'bd\'f8\'d0\'d0\'b5\'f7\'b6\'c8\cf10 \
\
loadServerData\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\fs24 \cf0 \'d4\'daDataProvider\'d6\'d0\'b5\'c4
\f0\fs26 \cf2 initialLoadData
\f1 \'b7\'bd\'b7\'a8\'d6\'d0\'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2     
\f3\b \cf4 func
\f0\b0 \cf2  initialLoadData() \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 loadServerData\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 loadData\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}
\f2\fs24 \cf0 \
loadServerData
\f1 \'a3\'a8\'cf\'e0\'b5\'b1\'d3\'dafetch100\'a3\'a9\'a3\'ac\'ca\'c7\'d2\'bb\'b8\'f6\'d2\'ec\'b2\'bd\'b5\'c4fetchMessage\'a3\'ac\'bb\'b9\'c3\'bb\'d6\'b4\'d0\'d0\'cd\'ea\'a3\'ac\'d3\'d6\'bf\'aa\'ca\'bcloadData\'a3\'ac\

\f0\fs26 \cf2 loadData
\f1 \'b5\'f7\'c1\'cb\'ba\'dc\'b6\'e0\'b4\'ce
\fs24 \cf0 \
\'b5\'da\'d2\'bb\'b4\'ce\'a3\'ba 
\f2 EmailListViewController.viewDidLoad()->DataProvider.viewDidLoad()->DataProvider.initialLoadData()->ThreadListDataProvider.loadData\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \'b5\'da\'b6\'fe\'b4\'ce\'a3\'ba\'b4\'a5\'b7\'a2
\f2 TheadListProviderData
\f1 \'b5\'f7\'d3\'c3loaddata
\f2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\fs26 \cf2 \'a3\'ba
\f0 unsnoozeAll-
\f1 \'a1\'b7
\f0 \cf5 BroadcastCenter\cf2 .\cf6 postNotification\cf2 (.\cf6 EmailRestored\cf2 )-
\f1 \'a1\'b7EdoNotificationEmailEmailRestored-\'a1\'b7
\f2\fs24 \cf0 EmailSearchListDataProvider.loadData(notification:) \
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \'b5\'da\'c8\'fd\'b4\'ce\'a3\'baEdoNotificationEmailListDownloadUpdated\'cd\'a8\'d6\'aa\'cf\'fb\'cf\'a2\'b4\'a5\'b7\'a2\'b5\'f7\'d3\'c3
\f2 DataProvider.processNotification\
\pard\tx593\pardeftab593\pardirnatural\partightenfactor0

\f3\b \cf2 EdoNotificationEmailListDownloadUpdated
\f5 \'cf\'fb\'cf\'a2\'b5\'f7\'c1\'cb\'c1\'bd\'b4\'ce\'a3\'ac\'bd\'f4\'b8\'fa\'d7\'c5\'b5\'f7\'d3\'c3\'b5\'c4
\f2\b0 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf0 \
\pard\tx593\pardeftab593\pardirnatural\partightenfactor0

\f0 \cf2 Mail.ConversationListDataProvider
\f2 \cf0 \

\f0 \cf2 Mail.EmailSearchListDataProvider
\f2 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2 refreshControlValueChanged\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'cf\'c2\'c0\'ad\'cb\'a2\'d0\'c2\'c1\'f7\'b3\'cc\'a3\'ba
\f0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab593\pardirnatural\partightenfactor0

\f6\fs42 \cf14 \cb1 1\'a1\'a2\'d4\'da
\f7 EmailListFooterAndBGController
\f6 \'d6\'d0\'b7\'a2\'cf\'fb\'cf\'a2
\f0\fs26 \cf15 postNotification
\f7\fs42 \cf14 \uc0\u8232 
\f0\fs26 \cf2 refreshControlValueChanged\{\uc0\u8232 \cf16 BroadcastCenter\cf2 .\cf15 postNotification\cf2 (.\cf15 PullDownRefresh\cf2 , information: [.\cf15 Source\cf2 : \cf17 "\cf2 \\\cf17 (\cf2 type(of: dp)\cf17 )"\cf2 ])\uc0\u8232 \}\cb3 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 2
\f1 \'a1\'a2
\f0 DataProvider
\f1 \'d6\'d0\'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 \'c8\'e7\'b9\'fb\'d4\'da\'d7\'d3\'c0\'e0\'b7\'b5\'bb\'d8\'b5\'c4
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 registeredNotifications\cf2 ()
\f1 \'d6\'d0\'a3\'ac\'d4\'f2
\f0 \cf5 BroadcastCenter\cf2 .\cf6 addObserver
\f1 \cf6 \'a3\'a8
\f0 \cf5 DataProvider\cf2 .processNotification(
\f3\b \cf4 _
\f0\b0 \cf2 :)
\f1 \cf6 \'a3\'a9\
3\'a1\'a2
\f0 \cf2 DataProvider
\f1 \'b5\'c4
\f0 processNotification
\f1 \'b7\'bd\'b7\'a8\'d6\'d0\'a3\'ac\'c5\'d0\'b6\'cf
\f0 \cf8 "\cf2 \\\cf8 (\cf2 type(of: 
\f3\b \cf4 self
\f0\b0 \cf2 )\cf8 )\'94
\f1 \'c0\'e0\'d0\'cd\cf10 \'ba\'cd
\f0 \cf2 source
\f1 \'d2\'bb\'d6\'c2\'a3\'ac\'d4\'f2\'bc\'cc\'d0\'f8\'a3\'ac\'b5\'f7\'d3\'c3\'d7\'d3\'c0\'e0\'b5\'c4
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 loadServerData\cf2 ()
\f1 \
4\'a1\'a2
\f0 \cf6 loadServerData
\f1 \cf6 \'d6\'d0\'b5\'f7\'d3\'c3
\f0 \cf6 fetchMessages\cf2 (size: loadMore ? \cf5 EMAIL_LIST_MAX_SIZE\cf2  : \cf5 EMAIL_LIST_PAGE_SIZE\cf2 )\
5
\f1 \'a1\'a2\'b5\'f7\'d3\'c3
\f0 \cf5 SyncManager\cf2 .\cf5 sharedInstance\cf2 .\cf6 run\cf2 (.\cf6 fetchMessages
\f1 \cf6 \'a3\'ac
\f0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 let
\f0\b0 \cf2  ops = syncInfo.\cf6 createOperations\cf2 ()\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf6 addSyncOperation\cf2 (op)
\f1 \cf10 \
\
Run\'b7\'bd\'b7\'a8\'d6\'bb\'b7\'b5\'bb\'d8opkeys\'ca\'fd\'d7\'e9\'d6\'d0\'b5\'c4first opkey\'a3\'ac\'d5\'e2\'b8\'f6\'d3\'d0\'bf\'d3\'a3\'a1\'a3\'a1\'a3\'a1\
\'d0\'e8\'d2\'aa\'bd\'e2\'be\'f6\'b5\'c4\'ce\'ca\'cc\'e2\'a3\'ba\
1\'a1\'a2run\'b7\'bd\'b7\'a8\'d6\'bb\'b7\'b5\'bb\'d8opkeys\'ca\'fd\'d7\'e9\'d6\'d0\'b5\'c4first opkey\'a3\'ac\'d5\'e2\'b8\'f6\'d3\'d0\'bf\'d3\'a3\'ac\'d2\'aa\'b0\'d1opkey\'b7\'d6\'b1\'f0\'b4\'e6\'b4\'a2\
\'c4\'ac\'c8\'cfINBOX\'a3\'ac\'d3\'c3
\f0 \cf2 thsFolder
\f1 \'b2\'ce\'ca\'fd\cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 let
\f0\b0 \cf2  thsFolder = \cf5 EmailDAL\cf2 .\cf6 getFolderByType\cf2 (acctId:accountId, provider:account.\cf5 provider\cf2 , folderType:\cf5 FolderType\cf2 .\cf6 Inbox\cf2 )?.\cf6 threadSafeObj\cf2 ()
\f1 \cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 opKey = \cf5 SyncManager\cf2 .\cf5 sharedInstance\cf2 .\cf6 queryUnread\cf2 (accountId, thsFolder:thsFolder , start: loadIndex, startTag:startTag, size: size)\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 var
\f0\b0 \cf2  remoteMsgCount:\cf7 Int\cf2 ?\
    
\f3\b \cf4 var
\f0\b0 \cf2  thsFolder:\cf5 EdoTHSFolder\cf2 ?
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  folderType:\cf5 FolderType\cf2 ?
\f1 \cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 	self
\f0\b0 \cf2 .\cf5 size\cf2  = size
\f1 \cf10 \
\
\'d0\'c2\'b0\'e6queryMessage\'c1\'f7\'b3\'cc\'a3\'ba\
1\'a1\'a2\'c3\'bf\'b8\'f6\'d7\'d3opkey\'b6\'bc\'cc\'ed\'bc\'d3\'b5\'bdopkeys\'b6\'d3\'c1\'d0\'a3\'ac\'cd\'ea\'b3\'c9\'ba\'f3\'d2\'c6\'b3\'fd\'a3\'ac\'b5\'b1remoteMsgCount == 0\'a3\'acupdate\'bd\'e1\'ca\'f8\'ba\'f3\'a3\'ac\'b3\'fd\'c1\'cb\'d2\'c6\'b3\'fd\'d7\'d4\'bc\'ba\'d2\'b2\'a3\'ac\'d2\'c6\'b3\'fd\'b8\'b8opkey\'a3\'ac\'b5\'b1download\'bd\'e1\'ca\'f8\'a3\'ac\'b3\'fd\'c1\'cb\'d2\'c6\'b3\'fd\'d7\'d4\'bc\'ba\'d2\'b2\'d2\'c6\'b3\'fd\'b8\'b8opkey\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 2
\f1 \'a1\'a2
\f0 isSyncingWithServer
\f1 \'ba\'cd
\f0 isLoadingMoreFromServer
\f1 \'d6\'d0\'d4\'f6\'bc\'d3\'b6\'d4
\f0 querySessionOps
\f1 \'b5\'c4
\f0 \cf5 isSyncing
\f1 \cf5 \'b5\'c4\cf2 \'c5\'d0\'b6\'cf\'a3\'ac\'bd\'e2\'be\'f6\'cf\'c2\'c0\'ad\'cb\'a2\'d0\'c2\'ba\'cd\'bc\'d3\'d4\'d8\'b8\'fc\'b6\'e0\'b5\'c4\'d7\'b4\'cc\'ac\'ce\'ca\'cc\'e2\
3\'a1\'a20-50\'a3\'ac50-500\'c1\'bd\'bd\'d7\'b6\'ce\'bc\'d3\'d4\'d8\'b5\'c4\'ce\'ca\'cc\'e2\'a3\'ac\'d4\'dafetchByIds\'b5\'c4\'cd\'a8\'d6\'aa\'b4\'a6\'c0\'ed\'d6\'d0\'a3\'ac\'c5\'d0\'b6\'cfstartIndex == 0\'a3\'ac\'cc\'ed\'bc\'d3size=500\'b5\'c4fetch\'b2\'d9\'d7\'f7  ok\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 4\'a1\'a2\'c8\'e7\'b9\'fb\'c4\'b3\'b8\'f6operation\'ca\'a7\'b0\'dc\'a3\'ac\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1finished\'a3\'acfinished==true\'b4\'d3opkeys\'d6\'d0\'d2\'c6\'b3\'fd\'a3\'ac\'c8\'e7\'b9\'fb\'ca\'a7\'b0\'dc\'c1\'cb\'d2\'b2\'d2\'c6\'b3\'fd\'a3\'bf\
5\'a1\'a2server\'b7\'b5\'bb\'d8\'b5\'c4Uid\'ca\'b5\'bc\'ca\'c9\'cf\'ca\'c710\'b8\'f6\'a3\'ac\'b5\'ab\'ca\'c7\'c8\'e7\'b9\'fb\'b1\'be\'b5\'d8DB\'d3\'d0\'d5\'e2\'d0\'a9UID\'a3\'a8\'d2\'d1\'be\'ad\'cf\'c2\'d4\'d8\'a3\'a9\'b8\'fa\'b1\'be\'b5\'d8\'b1\'c8\'b6\'d4\'d6\'ae\'ba\'f3\'a3\'ac\'c4\'c7\'d5\'e210\'b8\'f6uid\'be\'cd\'ca\'c7localUid\'a3\'acremoteUid\'ce\'aa0\'a3\'ac
\f0 \cf5 remoteMsgCount==0
\f1 \cf10 \'a3\'ac\'c3\'bb\'b0\'ec\'b7\'a8\'bc\'cc\'d0\'f8\'d6\'b4\'d0\'d0\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf6 loadServerData
\f1 \cf6 \'a3\'a8fetch 1000\'a3\'a9\'c1\'cb\cf10 \'a3\'ac\
6\'a1\'a2\'c8\'eb\'bf\'dafetchMessage\'d6\'d0\'a3\'ac\'d2\'f2\'ce\'aa\'b2\'ce\'ca\'fd\'bb\'e1\'b1\'e4\'bb\'af\'a3\'a8
\f0 \cf2 startIndex
\f1 \'a3\'ac
\f0 startTag
\f1 \'a3\'ac
\f0 hasMore
\f1 \cf10 \'a3\'a9\'a3\'ac\'cb\'f9\'d2\'d4\'b4\'ab\'b2\'ce\'ca\'b1\'c7\'f8\'b7\'d6\'ca\'c7\'b7\'f1\'ca\'c7searchType\'a3\'ac\
\
queryMessage\'c1\'f7\'b3\'cc\'a3\'ba\
1\'a1\'a2\'b5\'f7\'d3\'c3fetchMessage\'a3\'a8initialLoadData->loadServerData\'bb\'f2\'d5\'df
\f0 \cf2 handleEmailsDownloaded
\f1 \'d6\'d0\'b5\'f7\'d3\'c3\cf10 \'a3\'a9\'a3\'ac\'ca\'b5\'bc\'ca\'b5\'f7\'d3\'c3\'b5\'c4\'ca\'c7searchOperation\'a3\'a8\'d2\'f2\'ce\'aa\'ca\'c7unread\'a3\'acflagged\'a3\'acattachment\'c0\'e0\'d0\'cd\'a3\'a9\
2\'a1\'a2\'ca\'d5\'b5\'bd
\f0 \cf6 EmailListSearchUpdated
\f1 \cf6 \'cf\'fb\'cf\'a2\'a3\'ac\'b5\'f7\'d3\'c3
\f0 \cf2 handleQueryConversations
\f1 \'b7\'bd\'b7\'a8\'b4\'a6\'c0\'ed\'cb\'f9\'d3\'d0\'b5\'c4
\f0 queryMessage
\f1 \'cf\'fb\'cf\'a2\'a3\'ac\'c7\'f8\'b7\'d6
\f0 opType
\f1 \'a3\'ac
\f0 \
	2.1
\f1 \'a1\'a2\'d4\'da
\f0 handleQueryConversations
\f1 \'b5\'c4
\f0 \cf6 searchMessages \cf10 case
\f1 \'d6\'d0\cf2 \'a3\'ac
\f0 localMsgIdsInfo.\cf7 count\cf2  > \cf12 0
\f1 \cf10 \'a3\'ac\'b5\'f7\'d3\'c3
\f0 \cf2 updateSearchMessageState
\f1 \'a3\'ac
\f0 remoteMsgIdsInfo>0,
\f1 \'b5\'f7\'d3\'c3
\f0 fetchRemoteMessagesByIds
\f1 \'a1\'a3\'b8\'fc\'d0\'c2\'b5\'b1\'c7\'b0session\'b5\'c4
\f0 \cf5 startTag
\f1 \cf5 \'a3\'ac
\f0 \cf5 remoteMsgCount
\f1 \cf5 \'a3\'ac
\f0 \cf5 hasMore
\f1 \cf10 \'b5\'c8\'b2\'ce\'ca\'fd\'a3\'a8\'b5\'b1\'c7\'b0session\'ca\'c7\'d2\'d4\'b6\'e0\'b8\'f6op\'b5\'c4\'c6\'f0\'ca\'bcop\'ce\'aakey\'a3\'ac
\f0 \cf5 EmailSearchInfoBase
\f1 \cf10 \'ce\'aavalue\'a3\'a9
\f0 \cf2 \
	2.
\f1 2\'a1\'a2\'d4\'da
\f0 handleQueryConversations
\f1 \'b5\'c4
\f0 \cf6 fetchMessagesByIds \cf10 case
\f1 \'d6\'d0\'a3\'ac\'c5\'d0\'b6\'cf
\f0 \cf2 remoteMsgIdsInfo
\f1 >0\'a3\'ac\'b5\'f7\'d3\'c3
\f0 \cf6 downloadSearchMsgBodies
\f1 \cf2 \'a3\'ac\cf10 \
	
\f0 \cf2 2.
\f1 3\'a1\'a2\'d4\'da
\f0 handleQueryConversations
\f1 \'b5\'c4
\f0 \cf6 updateMessages
\f1 \cf2  case\'d6\'d0\'a3\'ac\cf10 \'ce\'aa\'c1\'cb\'ce\'ac\'bb\'a4\'cf\'c2\'c0\'ad\'ba\'cd\'b7\'ad\'d2\'b3\'d7\'aa\'c8\'a6\'d7\'b4\'cc\'ac\'a3\'ac
\f0 \cf6 removeSessionOpKey
\f1 \cf10 \'a1\'a3\cf2 \
	
\f0 2.
\f1 4\'a1\'a2\'d4\'da
\f0 handleQueryConversations
\f1 \'b5\'c4
\f0 \cf6 downloadBodies
\f1 \cf2  case\'d6\'d0\'a3\'ac
\f0 \cf6 removeSessionOpKey
\f1 \cf2 \'b5\'f7\'d3\'c3
\f0 \cf6 handleUpdatedConversations
\f1 \cf2 \'b4\'a6\'c0\'edUI\'cb\'a2\'d0\'c2\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 \
queryMessage\'bf\'bc\'c2\'c7\'b5\'c4\'b5\'e3\'a3\'ba\
1\'a1\'a2\'cb\'e4\'c8\'bb\'c8\'eb\'bf\'da\'ca\'c7fetchMessage\'a3\'ac\'b5\'ab\'ca\'c7\'ca\'b5\'bc\'ca\'b5\'f7\'d3\'c3\'ce\'aasearchOperation\'a3\'ac\'b2\'a2\'c7\'d2folderType\'d2\'aa\'b9\'cc\'b6\'a8\'b4\'abINBOX\'a3\'ac\'c8\'e7\'b9\'fb\'b4\'abfolderType\'ce\'aaunread\'a3\'ac\'b7\'b5\'bb\'d8nil-
\f0 \cf5 EdoFolder\cf2 .\cf6 get\cf2 (by: \cf5 FolderType\cf2 .\cf6 Inbox\cf2 , accountId: \cf5 accountId\cf2 )
\f1 \'a3\'ac\cf10 folderType\'b5\'c4\'b4\'a6\'c0\'ed\'b8\'d0\'be\'f5\'ca\'c7\'b8\'f6\'c0\'fa\'ca\'b7\'d2\'c5\'c1\'f4\'ce\'ca\'cc\'e2\'a3\'ac\'b2\'bb\'cd\'b3\'d2\'bb\'a3\'ac\'d3\'d0\'b5\'c4\'b7\'bd\'b7\'a8\'b4\'abunread\'be\'cdOK\'a3\'ac\'d3\'d0\'b5\'c4\'d0\'e8\'d2\'aa\'b4\'abINBOX
\f0 \cf2 \
2
\f1 \'a1\'a2\'d4\'da
\f0 isSyncingWithServer
\f1 \'ba\'cd
\f0 isLoadingMoreFromServer
\f1 \'d6\'d0\'d4\'f6\'bc\'d3\'b6\'d4
\f0 querySessionOps
\f1 \'b5\'c4
\f0 \cf5 isSyncing
\f1 \cf5 \'b5\'c4\cf2 \'c5\'d0\'b6\'cf\'a3\'ac\'bd\'e2\'be\'f6\'cf\'c2\'c0\'ad\'cb\'a2\'d0\'c2\'ba\'cd\'bc\'d3\'d4\'d8\'b8\'fc\'b6\'e0\'b5\'c4\'d7\'b4\'cc\'ac\'ce\'ca\'cc\'e2\
3\'a1\'a2fetchMessage\'ca\'c7\'d3\'c3accountId\'c7\'f8\'b7\'d6msg\'a3\'acupdateMessage\'ca\'c7\'d3\'c3accountId+path\'c7\'f8\'b7\'d6msg\'a3\'acquery\'b5\'c3\'d3\'c3opkey\'c0\'b4\'c7\'f8\'b7\'d6\'a3\'ac\'d2\'d4\'d2\'bb\'b8\'f6session\'c0\'ef\'b6\'e0\'b8\'f6op\'b5\'c4\'b5\'da\'d2\'bb\'b8\'f6op\'b5\'c4opkey\'ce\'aakey\'a3\'ac\'d2\'d4\'ce\'aa
\f0 \cf5 EmailSearchInfoBase
\f1 \cf2 value\cf10 \
4\'a1\'a2\cf2 0-50\'a3\'ac50-500\'c1\'bd\'bd\'d7\'b6\'ce\'bc\'d3\'d4\'d8\'b5\'c4\'ce\'ca\'cc\'e2\'a3\'ac\'d4\'da\'cd\'a8\'d6\'aa\'b4\'a6\'c0\'ed\'d6\'d0\'b5\'c4
\f0 \cf6 fetchMessagesHeaderByIds \cf10 case
\f1 \'d6\'d0\cf2 \'a3\'ac\'c5\'d0\'b6\'cfstartIndex == 0\'a3\'ac\'cc\'ed\'bc\'d3size=500\'b5\'c4fetch\'b2\'d9\'d7\'f7\'a3\'ac\'b2\'a2\'c7\'d2\'b4\'ab\'b5\'dd
\f0 \cf5 startTag
\f1 \cf2 \'a3\'ac
\f0 \cf5 hasMore
\f1 \cf5 \'a3\'ac
\f0 \cf5 remoteMsgCount
\f1 \cf10 \'b5\'c8\'b2\'ce\'ca\'fd\'b8\'f8
\f0 fetchMessage\
5
\f1 \'a1\'a2\'d3\'d0\'b8\'f6case\'a3\'ac\'b1\'c8\'c8\'e7\'b1\'be\'b5\'d8\'d3\'d010\'b8\'f6msg\'a3\'acsearch\'b7\'b5\'bb\'d8uid\'ca\'c710\'a3\'ac\'b5\'ab\'ca\'c7\'c8\'e7\'b9\'fb\'b1\'be\'b5\'d8DB\'d3\'d0\'d5\'e2\'d0\'a9UID\'a3\'a8\'d2\'d1\'be\'ad\'cf\'c2\'d4\'d8\'a3\'a9\'b8\'fa\'b1\'be\'b5\'d8\'b1\'c8\'b6\'d4\'d6\'ae\'ba\'f3\'a3\'ac\'c4\'c7\'d5\'e210\'b8\'f6uid\'be\'cd\'ca\'c7localUid\'a3\'acremoteUid\'ce\'aa0\'a3\'ac
\f0 \cf5 remoteMsgCount==0
\f1 \cf10 \'a3\'ac\'c3\'bb\'b0\'ec\'b7\'a8\'bc\'cc\'d0\'f8\'d6\'b4\'d0\'d0
\f0 \cf6 loadServerData
\f1 \cf6 \'a3\'a8fetch 1000\'a3\'a9\'c1\'cb\cf10 \'a3\'ac\'d5\'e2\'b8\'f6\'d0\'e8\'d2\'aa\'bc\'d3\'c8\'ebhasMore\'b5\'c4\'c5\'d0\'b6\'cf\
6\'a1\'a2queryMessage\'d0\'e8\'d2\'aa\'b8\'fafetchMessage\'d2\'bb\'d1\'f9\'b5\'c42\'bd\'d7\'b6\'ce\'c0\'ad\'c8\'a1\'a3\'a8\'b7\'ad\'d2\'b3\'c2\'df\'bc\'ad\'a3\'a9\'a3\'ac\'cf\'c8\'c0\'ad\'d2\'bb\'d2\'b3\'a3\'a80-50\'a3\'a9\'a3\'ac\'d4\'d9\'c0\'ad\'c6\'e4\'d3\'e0\'cb\'f9\'d3\'d0\'a3\'a850-500\'a3\'a9\'a3\'acsearchMessage\'d0\'c2\'c0\'cf\'b0\'e6\'b1\'be\'c4\'bf\'c7\'b0\'b6\'bc\'c3\'bb\'d3\'d0\'b7\'ad\'d2\'b3\'c2\'df\'bc\'ad\'a3\'ac\'d3\'d0\'bd\'d7\'cc\'dd\'d4\'f6\'b4\'f3timeFilter\'b5\'c4\'b4\'f3Folder\'b5\'c4\'d3\'c5\'bb\'af\'b4\'a6\'c0\'ed\
\
\'b7\'a2\'cf\'d6\'c0\'cf\'b0\'e6\'b1\'bequeryMessage\'d3\'d0\'b8\'f6bug\'a3\'ba\
\'c0\'cf\'b0\'e6\'b1\'be\'b5\'c4queryMessageOperation\'b8\'fasearch\'c1\'f7\'b3\'cc\'bc\'b8\'ba\'f5\'d2\'bb\'d1\'f9\'a3\'ac\'b5\'ab\'ca\'c7\'c3\'bb\'d3\'d0\'cd\'ac\'b2\'bd\'d3\'ca\'bc\'fe\'ca\'b1\'b5\'c4\'c9\'be\'b3\'fd\'c2\'df\'bc\'ad\'a1\'aa
\f0 \cf2 syncMessages20
\f1 \'d6\'d0\'b5\'c4\'b7\'ad\'d2\'b3\'c9\'be\'b3\'fd\'c2\'df\'bc\'ad\cf10 \'a3\'ac\'d2\'d4\'d6\'c1\'d3\'da\'c8\'e7\'b9\'fbweb\'b6\'cb\'b0\'d1INBOX\'c0\'ef\'c3\'e6\'b5\'c4unread\'d3\'ca\'bc\'fe\'d2\'c6\'b5\'bd\'c6\'e4\'cb\'fbfolder\'a3\'ac\'d4\'daunread list\'d2\'b3\'c3\'e6\'cf\'c2\'c0\'ad\'cb\'a2\'d0\'c2\'bb\'f2\'d5\'df\'d4\'d9\'b4\'ce\'b5\'e3\'bb\'f7\'d7\'f3\'b1\'df\'c0\'b8\'b5\'c4unread\'a3\'ac\'b6\'bc\'c3\'bb\'b0\'ec\'b7\'a8\'c9\'be\'b3\'fdunread\'c1\'d0\'b1\'ed\'d5\'fd\'d4\'da\'cf\'d4\'ca\'be\'b5\'c4unread\'d3\'ca\'bc\'fe\'a1\'a3\
\'d5\'e2\'b8\'f6\'ce\'ca\'cc\'e2\'d4\'da\'cf\'df\'c9\'cf\'ca\'b5\'bc\'ca\'b2\'a2\'b2\'bb\'d1\'cf\'d6\'d8\'b5\'c4\'d4\'ad\'d2\'f2\'ca\'c7inbox\'d6\'d0\'b5\'c4\'d3\'ca\'bc\'fe\'b1\'e4\'b6\'af\'bb\'e1\'ca\'d5\'b5\'bd\'cd\'a8\'d6\'aa\'a3\'ac\'b1\'be\'b5\'d8\'bb\'e1\'bc\'b0\'ca\'b1\'b5\'c4\'cd\'ac\'b2\'bd\'a3\'ac\'c4\'bf\'c7\'b0\'d0\'c2\'b0\'e6\'ba\'cd\'c0\'cf\'b0\'e6\'b5\'c4\'b4\'a6\'c0\'ed\'b7\'bd\'ca\'bd\'d2\'bb\'d1\'f9\
\
queryMessage\'b8\'fasearchMessage\'b5\'c4\'c7\'f8\'b1\'f0\'a3\'ba\
1\'a1\'a2queryMessage\'d0\'e8\'d2\'aa\'b8\'fafetchMessage\'d2\'bb\'d1\'f9\'b5\'c42\'bd\'d7\'b6\'ce\'c0\'ad\'c8\'a1\'a3\'a8\'b7\'ad\'d2\'b3\'c2\'df\'bc\'ad\'a3\'a9\'a3\'ac\'cf\'c8\'c0\'ad\'d2\'bb\'d2\'b3\'a3\'a80-50\'a3\'a9\'a3\'ac\'d4\'d9\'c0\'ad\'c6\'e4\'d3\'e0\'cb\'f9\'d3\'d0\'a3\'a850-500\'a3\'a9\'a3\'acsearchMessage\'d0\'c2\'c0\'cf\'b0\'e6\'b1\'be\'c4\'bf\'c7\'b0\'b6\'bc\'c3\'bb\'d3\'d0\'b7\'ad\'d2\'b3\'c2\'df\'bc\'ad\'a3\'ac\'d3\'d0\'bd\'d7\'cc\'dd\'d4\'f6\'b4\'f3timeFilter\'b5\'c4\'b4\'f3Folder\'b5\'c4\'d3\'c5\'bb\'af\'b4\'a6\'c0\'ed\
\
queryMessage\'d6\'f7\'d2\'aa\'b5\'c4\'c1\'f7\'b3\'cc\'b8\'fasearchMessage\'b2\'ee\'b2\'bb\'b6\'e0\'a3\'ac\'b5\'ab\'ba\'dc\'b6\'e0\'b4\'a6\'c0\'ed\'b6\'bc\'b2\'bb\'cf\'e0\'cd\'ac\'a3\'ba\
	1\'a1\'a2\'cf\'c8search\'a3\'ac\'bd\'e1\'b9\'fb\'d4\'da\'b1\'be\'b5\'d8\'d3\'d0\'b5\'c4\'a3\'ac\'bc\'d3\'b5\'bdlocalUids\'a3\'ac\'c3\'bb\'d3\'d0\'b5\'c4\'bc\'d3\'b5\'bdremoteUids\'a3\'acnotify\'b5\'bdprovider\
	2\'a1\'a2\
\
\'be\'c9\'b0\'e6\'b5\'c4query(
\f0 \cf2 QueryMessagesWithIndexOperation
\f1 \cf10 )\'b4\'ab\'b5\'c4\'b2\'ce\'ca\'fd\'d6\'bb\'d3\'d0
\f0 \cf2 thsFolder
\f1 \'ba\'cd
\f0 folderType
\f1 \'a3\'ac\'c6\'e4\'d6\'d0
\f0 folderType
\f1 \'ce\'aa
\f0 nil
\f1 \'a3\'ac
\f0 search
\f1 \'d6\'d0\'d2\'b2\'ca\'c7\'a3\'ac\'d6\'bb\'d3\'d0
\f0 thsFolder
\f1 \'ba\'cd
\f0 folderType
\f1 \'a3\'ac
\f0 folderType
\f1 \'ce\'aa
\f0 INBOX
\f1 \'a3\'a8inbox\'d6\'d0\'cb\'d1\'cb\'f7\'a3\'a9\'bb\'f2\'d5\'df
\f0 unread
\f1 \'a3\'a8unread\'d6\'d0\'cb\'d1\'cb\'f7\'a3\'a9\cf10 \
folderPath\'ba\'cdfolderType\'b6\'bc\'c0\'b4\'d7\'d4thsFolder\'a3\'ac\cf13 \'b9\'caquery\'ba\'cdsearch\'b2\'bb\'d0\'e8\'d2\'aapath\'b2\'ce\'ca\'fd\'ba\'cdfolderType\'b2\'ce\'ca\'fd\'a3\'ac\'d6\'bb\'d0\'e8\'d2\'aathsFolder\'b2\'ce\'ca\'fd\cf10 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 updateMessageState
\f1 \'d6\'d0\'b5\'c4
\f0 \cf5 EmailConversationInfo\cf2 .\cf6 msgIdInfoGroups
\f1 \cf6 \'be\'df\'cc\'e5\'d2\'aa\'d7\'f6\'ca\'b2\'c3\'b4\'a3\'bf\cf10 \
\
\
\
\'ca\'b5\'cc\'e5folder\'a3\'ba\
folderPath\'a3\'acfolderType\'a3\'acfolder\'b6\'bc\'bb\'e1\'b4\'ab\'b8\'f8\'c4\'e3\
\'d0\'e9\'c4\'e2folder\'a3\'ba\
\'b5\'e3\'bb\'f7\'d7\'f3\'b1\'df\'c0\'b8\'a3\'ac\'b4\'ab\'b9\'fd\'c0\'b4\'b5\'c4folderPath\'ca\'c7\'bf\'d5\'a3\'acfolderType\'a3\'ac\
custom folder\'a3\'ba\
folderPath\'be\'cd\'ca\'c7custom folderPath\'a3\'acfolderType=custom\
\
\
\
\'d4\'da\'ba\'ce\'ca\'b1\'b4\'a6\'c0\'ed\'c0\'ad\'c8\'a1\'cf\'c2\'d2\'bb\'b8\'f6500\'b7\'e2\'d3\'ca\'bc\'fe\'b5\'c4\'c2\'df\'bc\'ad\'a3\'bffetch\'a3\'bfupdate\'a3\'bf\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf5 fetchNewMailOps
\f1 \cf10 \'a3\'ac\'d4\'da
\f0 \cf2 fetchMessages
\f1 \'ca\'b1\'ca\'b9\'d3\'c3\'a3\'ac\'d6\'bb\'d3\'c3accountId\'c0\'b4\'c7\'f8\'b7\'d6\'b2\'bb\'cd\'ac\'b5\'c4Operation\'a3\'ac\'d3\'d0\'c1\'bd\'b4\'cefetch\'a3\'ac\'b5\'da\'d2\'bb\'b4\'ce\'ca\'c70-50\'a3\'ac\'b5\'da\'b6\'fe\'b4\'ce50-500\'a3\'ac\'b5\'da\'d2\'bb\'b4\'cefinished\'ca\'d5\'b5\'bd\'ba\'f3\'a3\'ac\'bb\'e1\'d6\'c3\'bf\'d5\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 syncInfo
\f1 -
\f0 syncInfo.\cf5 opKey\cf2  = \cf8 \'93\'94,\cf5 fetchNewMailOps\cf2 [accountId] = syncInfo
\f1 \'a1\'a3\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf5 updateMailOps
\f1 \cf2 \'a3\'ac\'d4\'daupdateMessageState\'d6\'d0\'ca\'b9\'d3\'c3\'a3\'ac\'d3\'c3accountId+path\'c0\'b4\'c7\'f8\'b7\'d6\'b2\'bb\'cd\'ac\'b5\'c4Operation\
\'a1\'aa
\f3\b \cf4 var
\f0\b0 \cf2  syncState = \cf5 updateMailOps\cf2 [accountId + folderPath] ?? \cf5 EmailSyncInfo\cf2 ()\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 syncState.\cf5 isSyncing
\f1 \cf10 \'a3\'ac\'ce\'aatrue\'a3\'ac\'d5\'fd\'d4\'da\'cd\'ac\'b2\'bd\'a3\'ac\'bc\'cc\'d0\'f8\'cf\'c2\'d2\'bb\'b8\'f6Operation\

\f0 \cf2 downloadMessagesBody
\f1 \cf10 \'b2\'bb\'d0\'e8\'d2\'aa\'b4\'a6\'c0\'ed\'d7\'b4\'cc\'ac\'a3\'ac\'d6\'bb\'b0\'b4\'d5\'d5accountId\'b7\'d6\'a3\'acrun\'b7\'bd\'b7\'a8\'c4\'da\'b2\'bf\'b7\'d6folder\'a3\'ac\'b4\'ab\'b8\'f8download\'b5\'c4\'b6\'bc\'ca\'c7\'d6\'b8\'b6\'a8\'b5\'c4msgId\'a3\'ac\'d4\'da
\f0 \cf5 conversations
\f1 \cf10 \'d6\'d0\'b9\'fd\'c2\'cbaccountId\'ba\'f3\'b5\'c4\'c4\'c7\'d0\'a9\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 \'c3\'bb\'d3\'d0
\f0 body
\f1 \'b5\'c4
\f0 msg
\f1 \'a3\'a8
\f0 msgsMissingBodyIdInfo
\f1 \'a3\'a9\'a3\'ac\cf10 \
\
\cf2 \'d7\'b4\'cc\'ac\'cf\'d4\'ca\'be\'b5\'c4\'d6\'d8\'d2\'aa\'b2\'ce\'ca\'fd\'a1\'aa
\f0 isSyncingWithServer
\f1 \'a3\'ac\'d3\'c9
\f0 provider
\f1 \'b5\'c4
\f0 updateResult
\f1 \'b5\'f7\'d3\'c3\'a3\'ac\'b5\'f7\'b5\'bd
\f0 \cf5 delegate\cf2 ?.\cf6 dataUpdated\cf2 ()
\f1 ->
\f0 \cf6 doUpdateOtherUI\cf2 ()
\f1 ->
\f0 doUpdateOtherUI->
\f1 \cf10 \

\f3\b \cf4 if
\f0\b0 \cf2  \cf5 dp\cf2 .\cf5 isSyncingWithServer\cf2  == 
\f3\b \cf4 false
\f0\b0 \cf2  \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2             \cf5 viewsController\cf2 .\cf6 endRefreshSpinner\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 \
\
\'d7\'ee\'bf\'aa\'ca\'bc\'b5\'f7\'d3\'c3
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 loadServerData
\f1 \cf6 \'a3\'ac
\f0 \cf2 loadMore=
\f3\b \cf4 false
\f1\b0 \cf2 \'a3\'ac
\f0 \cf6 fetchMessages\cf2 (size:\cf5 EMAIL_LIST_PAGE_SIZE
\f1 \cf5 \'a3\'a90-50\'a3\'ac
\f0 \cf5 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf5 \'b5\'da\'b6\'fe\'b4\'ce\'ca\'c7\'ca\'d5\'b5\'bdfetchMessage\'b5\'c4Notification\'d6\'ae\'ba\'f3\'a3\'ac\'b5\'f7\'d3\'c3
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 loadServerData
\f1 \cf6 \'a3\'acloadmore=true\'a3\'ac
\f0 \cf6 fetchMessages\cf2 (size:\cf5 EMAIL_LIST_MAX_SIZE
\f1 \cf5 \'a3\'a9\'a3\'ac50-500\cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2     
\f3\b \cf4 func
\f0\b0 \cf2  initialLoadData() \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \cf6 EdoLog\cf2 (.\cf6 DP_Log\cf2 ,\cf8 "[\cf2 \\\cf8 (\cf2 type(of: 
\f3\b \cf4 self
\f0\b0 \cf2 )\cf8 )] initialLoadData"\cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 loadServerData\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 loadData\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}
\f1 \cf10 \
\
\'cf\'c2\'c0\'ad\'cb\'a2\'d0\'c2\'b5\'c4\'d7\'aa\'c8\'a6\'d7\'b4\'cc\'ac\'ba\'ce\'ca\'b1\'bd\'e1\'ca\'f8\'d3\'c9
\f0 \cf2 isSyncingWithServer
\f1 \'c0\'b4\'bf\'d8\'d6\'c6\'a3\'ac
\f0 isSyncingWithServer
\f1 \'b5\'c4\'d6\'b5\'ca\'b1
\f0 sync.\cf5 isSyncing
\f1 \cf10 \'a3\'ac\'c0\'b4\'bf\'d8\'d6\'c6\
\

\f0 \cf2 initialLoadData
\f1 \'b5\'f7
\f0 \cf6 loadServerData
\f1 \cf6 \'a3\'ac
\f0 \cf6 loadServerData
\f1 \cf10 \'bb\'e1\'b5\'f7\'d2\'bb\'b4\'cefetch\'a3\'ac\'bd\'d3\'d7\'c5\'b5\'f7
\f0 \cf6 loadData
\f1 \cf10 \'a3\'ac\
mailboxListviewController\'d6\'d0\'b5\'c4
\f0 \cf2 viewDidLoad->initialLoadData\
ConversationListViewController
\f1 \'d6\'d0\'b5\'c4
\f0 viewDidLoad->initialLoadData\
\
\
    
\f3\b \cf4 var
\f0\b0 \cf2  isSyncingWithServer: \cf7 Bool\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 for
\f0\b0 \cf2  sync 
\f3\b \cf4 in
\f0\b0 \cf2  \cf5 fetchNewMailOps\cf2 .\cf7 values\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 if
\f0\b0 \cf2  sync.\cf5 isSyncing\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 
\f3\b \cf4 return
\f0\b0 \cf2  
\f3\b \cf4 true
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2             \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  
\f3\b \cf4 false
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2     \}\
isSyncingWithServer\'97-
\f1 \'b8\'ba\'d4\'f0\'cf\'c2\'c0\'ad\'cb\'a2\'d0\'c2\'c9\'cf\'c3\'e6\'b5\'c4\'d7\'aa\'c8\'a6\'a3\'actrue-\'d7\'aa\'c8\'a6\'a3\'acfalse-\'d2\'fe\'b2\'d8\'d7\'aa\'c8\'a6
\f0 \
isLoadingMoreFromServer
\f1 \'a1\'aa\'b8\'ba\'d4\'f0\'c1\'d0\'b1\'ed\'cf\'c2\'c3\'e6\'b5\'c4\'d7\'aa\'c8\'a6\'a3\'actrue-\'d7\'aa\'c8\'a6\'a3\'acfalse-\'d2\'fe\'b2\'d8\'d7\'aa\'c8\'a6\cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf5 isLoadingMoreFromLocal
\f1 \cf10 \

\f0 \cf5 loadedConversationsCount
\f1 \cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 loadData
\f1 \'bc\'d3\'d4\'d8\'ca\'fd\'be\'dd\'b1\'bb\'b6\'e0\'b4\'ce\'b5\'f7\'d3\'c3\'a3\'ac\'c7\'b01-2\'b4\'ce\'cd\'a8\'d6\'aa\'b2\'ce\'ca\'fd\'ce\'aa\'bf\'d5\'a3\'ac
\f0 notify==nil,DataProvider
\f1 \'d6\'d0\'b5\'c4
\f0 initialLoadData
\f1 \'b5\'f7\'b9\'fd\'c0\'b4\'b5\'c4\'a3\'acfetch 50\'b5\'f7\'d2\'bb\'b4\'ce\'a3\'ac\'bd\'f4\'bd\'d3\'d7\'c5update \'b5\'f7\'d2\'bb\'b4\'ce\
\'c8\'bb\'ba\'f3fetch 50-500\'b5\'f7\'d2\'bb\'b4\'ce\'a3\'acdownload\'b5\'c4handler\'b7\'b5\'bb\'d8false\'a3\'ac\'b2\'bb\'b5\'f7\'d3\'c3loadData\'a3\'ac\'d6\'bb\'b5\'f7\'d3\'c3
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 delegate\cf2 ?.\cf6 updateItems
\f1 \cf2 \'cb\'a2\'d0\'c2UI\

\f0 updateLoadingMoreState
\f1 \'ca\'c7\'b8\'fc\'d0\'c2\'d7\'ee\'cf\'c2\'c3\'e6
\f0 xxx Conversations
\f1 \'b5\'c4\'b7\'bd\'b7\'a8\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf6 \'d4\'da
\f0 \cf2 createPrimaryOperations
\f1 \'d6\'d0\'a3\'ac
\f0 \cf6 downloadBodies
\f1 \cf6 \'ba\'cd
\f0 \cf6 updateMessages
\f1 \cf10 \'b7\'d6
\f0 folder
\f1 \'c1\'cb\'a3\'a8\'cd\'a8\'b9\'fd
\f0 \cf5 MsgIdInfo\cf2 .\cf6 folderInfoMap
\f1 \cf10 \'a3\'a9\'a3\'ac\
fetchMessage\'d6\'d0\'b7\'d6search\'ba\'cdfetch\'a3\'ac\
1\'a1\'a2search\'d2\'f2\'ce\'aa\'b6\'bc\'ca\'c7\'cb\'d1\'cb\'f7\'b5\'c4INBOX\'a3\'ac\'b2\'bb\'d0\'e8\'d2\'aa\'b7\'d6folder\'a3\'ac\
2\'a1\'a2Fetch\'d3\'d0\'c1\'bd\'d6\'d6\'c7\'e9\'bf\'f6\'a3\'ac\
	2.1\'a1\'a2\'b5\'e3\'bb\'f7\'b5\'a5\'d2\'bbfolder\'bd\'f8\'c8\'eb\'a3\'ac\'d4\'da\'b5\'a5\'d2\'bbfolder\'d6\'d0\'c0\'ad\'d3\'ca\'bc\'fe\'a3\'bb\
	2.2\'a1\'a2\'b5\'e3\'bb\'f7\'be\'db\'ba\'cfmailbox\'a3\'ac\'d4\'da\'be\'db\'ba\'cfmailbox\'d6\'d0\'c0\'ad\'d3\'ca\'bc\'fe\'a3\'ac\'be\'db\'ba\'cfmailbox\'d2\'b2\'ca\'c7\'b6\'e0\'d5\'cb\'ba\'c5\'cf\'c2\'b5\'c4INBOX\'d3\'ca\'cf\'e4\
		2.2.1\'a1\'a2\'be\'db\'ba\'cf\'d4\'daprovider\'b5\'c4fetchMessage\'b7\'bd\'b7\'a8\'d6\'d0\'a3\'ac\'cf\'c8\cf18 \'b7\'d6\'d5\'cb\'ba\'c5\cf10 -accountId\'a3\'ac\'c8\'bb\'ba\'f3\'b5\'f7\'d3\'c3run\'b7\'bd\'b7\'a8\
		2.2.2\'a1\'a2\'be\'db\'ba\'cffolder\'d4\'daprovider\'b5\'c4update\'ba\'cddownload\'b7\'bd\'b7\'a8\'d6\'d0\'a3\'ac\'cf\'c8\cf18 \'b7\'d6\'d5\'cb\'ba\'c5\cf10 -accountId\'a3\'ac\
			2.2.2.1\'a1\'a2update\cf18 \'b7\'d6\'cd\'ea\'d5\'cb\'ba\'c5\cf10 \'ba\'f3\'a3\'ac\'d7\'f6\'c1\'cb\'d2\'bb\'b8\'f6accountId\'ba\'cdfolderpath\'b5\'c4\'d3\'b3\'c9\'e4-
\f0 \cf5 folderPaths
\f1 \cf10 \
			2.2.2.2\'a1\'a2download\'d4\'da\cf18 \'b7\'d6\'cd\'ea\'d5\'cb\'ba\'c5\cf10 \'ba\'f3\'a3\'ac\'d4\'da\'c3\'bf\'d2\'bb\'b8\'f6\'d5\'cb\'ba\'c5\'d6\'d0\'a3\'ac\'b0\'d1
\f0 \cf5 conversations
\f1 \cf10 \'c0\'ef\'c3\'e6\'b5\'c4\'c3\'bb\'d3\'d0body\'b5\'c4message\'b6\'bc\'bc\'d3\'b5\'bd
\f0 \cf2 msgsMissingBodyIdInfo
\f1 \'ca\'fd\'d7\'e9\cf10 \'a3\'ac\'c8\'bb\'ba\'f3\'b5\'f7\'d3\'c3run\'a3\'ac\'b4\'ab
\f0 \cf2 msgsMissingBodyIdInfo
\f1 \'b2\'ce\'ca\'fd\cf10 \
\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 EmailAdapter\'d6\'d0\'b5\'c4
\f0 create
\f1 \'b7\'bd\'b7\'a8\'bb\'e1
\f0 crash
\f1 \cf10 \
\
\'d1\'a1\'b5\'b1\'c7\'b0folderPath\'ce\'aa\'d7\'ee\'bc\'d1\'d1\'a1\'d4\'f1path\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 msgIdInfoGroups
\f1 \cf10 \'e4\'af\'c0\'c0\'cb\'f9\'d3\'d0\'b6\'d4\'bb\'b0\'b2\'a2\'b0\'b4\'d5\'ca\'bb\'a7\'ba\'cd\'ce\'c4\'bc\'fe\'bc\'d0\'b7\'d6\'d7\'e9\'a3\'ac\
\'ca\'d7\'cf\'c8\'a3\'ac\'c3\'b6\'be\'d9\'b8\'c3\'d5\'ca\'bb\'a7\'a3\'ac\'c8\'bb\'ba\'f3\'bd\'ab\'b8\'c3\'d5\'ca\'bb\'a7\'cf\'c2\'b5\'c4\'c3\'bf\'b8\'f6\'ce\'c4\'bc\'fe\'bc\'d0\'cc\'ed\'bc\'d3\'b5\'bd\'b2\'bb\'cd\'ac\'b5\'c4\'d7\'e9\'d6\'d0\
\
\
\

\f0 \cf2 msgIdInfoGroups
\f1 \'b5\'c4\'d7\'f7\'d3\'c3\'be\'cd\'ca\'c7\'b0\'d1UI\'b5\'c4
\f0 ConversationsInfo
\f1 \'c1\'d0\'b1\'ed\'d6\'d0\'d2\'d4
\f0 ConversationInfo
\f1 \'ce\'aa\'ce\'ac\'b6\'c8\'a3\'a8folderPath:uid\'b5\'c4\'d7\'d6\'b5\'e4\'ca\'fd\'d7\'e9\'a3\'a9\'b5\'c4data\'a3\'ac\'d7\'aa\'bb\'bb\'b3\'c9\
\'d2\'d4folder\'ce\'aa\'ce\'ac\'b6\'c8\'a3\'a8folderPath\'ce\'aakey\'a3\'acvalue\'ca\'c7MsgIdInfo\'ca\'fd\'d7\'e9\'a3\'a9\'b5\'c4
\f0 groups
\f1 \'a3\'ac\'b1\'e3\'d3\'da\'d3\'c3mailcore\'d2\'d4folder\'ce\'aa\'b5\'a5\'ce\'bb\'c0\'ad\'c8\'a1\'d3\'ca\'bc\'fe\'a3\'ac\

\f0 msgIdInfoGroups
\f1 \'b0\'d1\'d6\'b8\'b6\'a8folder\'b5\'c4message\'b4\'e6\'b5\'bd
\f0 groups
\f1 \'d6\'d0\'a3\'ac
\f3\b \cf4 var
\f0\b0 \cf2  groups = [\cf7 String\cf2 : [\cf5 MsgIdInfo\cf2 ]]()
\f1 \'a1\'a3\'c8\'e7\'b9\'fbuid\'ce\'aa0\'a3\'ac\'d4\'f2
\f0 backupChoice = folderPath
\f1 \'a3\'ac\'c1\'ed\'cd\'e2\'c3\'b6\'be\'d9\'b8\'c3
\f0 message
\f1 \'c6\'e4\'cb\'fb\'b5\'c4ref\'a3\'ac\'c8\'e7\'b9\'fb
\f0 uid
\f1 \'ce\'aa
\f0 0
\f1 \'a3\'ac\'d4\'f2\'b0\'d1\'ce\'aa0\'b5\'c4\'d5\'e2\'b8\'f6path\'c9\'e8\'ce\'aa
\f0 backupChoice
\f1 \'a3\'ac
\f0 backupChoice = path
\f1 \'a1\'a3\cf10 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf13 msgIdInfoGroups
\f1 \cf2 \'c1\'f7\'b3\'cc\'a3\'ba
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 1\'a1\'a2
\f0 \cf2 conversations-threadInfo
\f1 \'b5\'c4\cf10 for\'d1\'ad\'bb\'b7\'a3\'ac\'d4\'da\'c3\'bf\'d2\'bb\'b8\'f6ConversationInfo\'d6\'d0\'a3\'ac\'b6\'d4\'d2\'bb\'b8\'f6Conversation\'b5\'c4\'c3\'bf\'b8\'f6folderPath\'bd\'f8\'d0\'d0for\'d1\'ad\'bb\'b7-
\f0 \cf2 conv.\cf5 msgIdInfoMaps,\cf10 [path:[msgInfo]]
\f1 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 msgIdInfoMaps
\f1 \'ca\'c7folder
\f0 Path
\f1 \'ce\'aa
\f0 key
\f1 \'a3\'acvalue\'ce\'aa
\f0 \cf5 MsgIdInfo
\f1 \cf5 \'b5\'c4\cf10 \'d7\'d6\'b5\'e4\'b5\'c4\'ca\'fd\'d7\'e9\cf2 \'a3\'ac\cf10 \
\

\f0 \cf2 conv.\cf5 msgIdInfoMaps
\f1 \cf10 \'ca\'c7\'d2\'bb\'b8\'f6\'d7\'d6\'b5\'e4\'ca\'fd\'d7\'e9\'a3\'ac\'c6\'e4\'d6\'d0\'b5\'c4\'c3\'bf\'d2\'bb\'b8\'f6
\f0 \cf2 msgIdsInfo
\f1 \'ca\'c7\'d2\'bb\'b8\'f6\'d7\'d6\'b5\'e4\'a3\'ac
\f0 key
\f1 \'ce\'aa
\f0 path
\f1 \'a3\'ac
\f0 value
\f1 \'ce\'aa
\f0 \cf5 MsgIdInfo\
\
\cf2 info.\cf5 msgIdInfoMaps\cf2  = messages.\cf19 map\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             $0.\cf5 msgIdInfoMap
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf5 msgIdInfoMaps
\f1 \cf10 \'ca\'c7\'d2\'bb\'b8\'f6Conversation\'a3\'a8thread\'a3\'a9\'d6\'d0\'b5\'c4messages\'b5\'c4
\f0 \cf2 msgIdInfoMap
\f1 \'ca\'f4\'d0\'d4\'c3\'b6\'be\'d9\'a3\'a8map\'a3\'a9\'a3\'ac
\f0 msgIdInfoMap
\f1 \'ca\'f4\'d0\'d4\'ca\'c7[
\f0 \cf7 String\cf2 : \cf5 MsgIdInfo
\f1 \cf2 ]\'c0\'e0\'d0\'cd\
,\'ca\'c7message\'b5\'c4
\f0 \cf5 imapRefs
\f1 \cf2 \'ca\'f4\'d0\'d4\'d6\'d0\'b5\'c4\'b6\'e0\'b8\'f6folderPath\'ba\'cduid\'b5\'c4\'bc\'af\'ba\'cf\'a3\'ac\'be\'cd\'ca\'c7\'d2\'bb\'b8\'f6message\'b5\'c4\'b6\'e0\'b8\'f6uid\'d6\'b5\

\f0 \cf5 msgIdInfoMaps
\f1 \cf10 \'be\'cd\'ca\'c7
\f0 \
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 msgIdInfoMap\'97\'97
\f1 \'ca\'d5\'bc\'af\'d2\'bb\'b8\'f6message\'b5\'c4\'cb\'f9\'d3\'d0ref\'a3\'a8path+uid\'a3\'a9\'a3\'ac
\f0 [\cf7 String\cf2 : \cf5 MsgIdInfo\cf2 ]()
\f1 \'d7\'d6\'b5\'e4\'ca\'fd\'d7\'e9\

\f0 msgIdInfoMaps\'97\'97
\f1 \'ca\'d5\'bc\'af\'d2\'bb\'b8\'f6
\f0 thread
\f1 \'cb\'f9\'d3\'d0\'b5\'c4
\f0 message
\f1 \'b5\'c4
\f0 msgIdInfoMap
\f1 \'a3\'ac
\f0 msgIdInfoMap
\f1 \'ca\'fd\'d7\'e9\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf13 group
\f1 \'a3\'a8
\f0 msgIdInfoGroups
\f1 \'a3\'a9\'c2\'df\'bc\'ad\cf10 \'a3\'ba\
\'ca\'e4\'c8\'eb\'b5\'c4\'ca\'c7\'c1\'d0\'b1\'ed\'d6\'d0\'b5\'c4
\f0 ConversationInfos
\f1 \'ca\'fd\'d7\'e9\'a3\'ac\'d5\'e2\'c0\'ef\'c3\'e6\'d3\'d0\'b6\'e0\'b8\'f6thread\'a3\'ac\'b6\'e0\'b8\'f6account\'a3\'ac\'b6\'e0\'b8\'f6folder\'a1\'a3\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 conv.\cf5 msgIdInfoMaps
\f1 \cf5 \'ca\'fd\'d7\'e9\'d6\'d0\'b0\'fc\'ba\'ac\'b6\'e0\'b8\'f6message\'b5\'c4
\f0 \cf2 msgIdsInfo
\f1 \'a3\'ac\'c3\'bf\'b8\'f6
\f0 msgIdsInfo
\f1 \'ca\'c7\'d2\'bb\'b8\'f6
\f0 message
\f1 \'b5\'c4\'b6\'e0\'b8\'f6
\f0 ref
\f1 \cf10 \
\'d1\'ad\'bb\'b7\'c3\'b6\'be\'d9\'c3\'bf\'b8\'f6Conversation\'a3\'ac\'d3\'c3accountId+folderPath\'a3\'a8folderId\'a3\'a9\'d7\'f7\'ce\'aakey\'a3\'ac\'c8\'e7\'b9\'fb\'b5\'b1\'c7\'b0
\f0 \cf2 msgIdInfo 
\f1 \cf10 path\'b5\'c4uid>0\'a3\'ac\'d4\'f2\'b1\'a3\'b4\'e6group[folderId].append(
\f0 \cf2 msgIdInfo
\f1 \cf10 )\'a3\'ac\'bd\'d3\'d7\'c5\'d1\'ad\'bb\'b7\'a3\'ac\
\'b7\'f1\'d4\'f2\'b2\'e9\'bf\'b4\'b5\'b1\'c7\'b0\'d5\'e2\'b8\'f6message\'ca\'c7\'b7\'f1\'d3\'d0\'c6\'e4\'cb\'fbuid>0\'b5\'c4path\'a3\'ac\'d3\'d0\'b5\'c4\'bb\'b0\'a3\'ac\'b1\'a3\'b4\'e6\'a3\'bb\'c3\'bb\'d3\'d0\'b5\'c4\'bb\'b0\'a3\'ac\'b1\'a3\'b4\'e6\'c6\'e4\'cb\'fbuid=0\'b5\'c4path\'a1\'a3\
\'d5\'fb\'b8\'f6\'b7\'bd\'b7\'a8\'ca\'b5\'bc\'ca\'c9\'cf\'be\'cd\'ca\'c7\'b0\'d1Conversation\'d6\'d0\'c3\'bf\'b8\'f6message\'be\'a1\'c1\'bf\'cc\'f4\'d1\'a1\'b5\'b1\'c7\'b0folder\'cf\'c2\'b5\'c4ref\'a3\'ac\'c8\'e7\'b9\'fb\'c3\'bb\'d3\'d0\'d4\'d9\'d1\'a1\'c6\'e4\'cb\'fbuid>0\'b5\'c4\'a3\'ac\'c8\'e7\'b9\'fb\'bb\'b9\'c3\'bb\'d3\'d0\'be\'cd\'d1\'a1uid=0\'b5\'c4path\'a1\'a3\
\'bd\'d3\'cf\'c2\'c0\'b4\'d5\'e2\'b8\'f6group\'d7\'d6\'b5\'e4
\f0 \
\
-ConversationInfos\
		-\cf5 msgIdInfoMaps1\
			-\cf2 msgIdsInfo1\
				-ref1	INBOX\
				-ref2	F1\
			-msgIdsInfo2\
				-ref1	INBOX\
				-ref2	SENT\cf10 \
		-\cf5 msgIdInfoMaps2\cf10 \
\
-groups\
	-folderId1:msgIdsInfo(Array). folderId(accountId+path)\
			  :msgIdsInfo1	\
			  :msgIdsInfo2\
			  :msgIdsInfo3\
			  :\'85 \'85\
	-folderId2:msgIdsInfo1\
			  :msgIdsInfo1\
			  :\'85 \'85\
\
\
[\'93INBOX\'94:uid=1]\
[\'93INBOX\'94:uid=2]\
[\'93INBOX\'94:uid=3]\
[\'93SentBox\'94:uid=4]\
[\'93SentBox\'94:uid=5]
\f1 \
\
#0	0x000000010e9a2f93 in ThreadListDataProvider.loadData(notification:) at /Users/liuhui/Work/EdisonEmail/veyron/Mail/Mail/ThreadListDataProvider.swift:212\
\
\
EmailListViewController.viewDidLoad() \
 DataProvider.viewDidLoad() \
DataProvider.initialLoadData()\
ThreadListDataProvider.loadServerData(loadMore:)\

\f0 \cf2 loadServerData->\cf6 fetchMessages->
\f1 \cf10 ThreadListDataProvider.loadData(notification:)->
\f0 \cf2 handleEmailsDownloaded->\cf6 loadServerData\cf2 (loadMore: 
\f3\b \cf4 true
\f0\b0 \cf2 )->\cf6 fetchMessages(\cf12 500\cf6 )\cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf6 ->updateMessageState\cf2 ()->handleEmailsDownloaded(
\f4\i \cf9 fetchMessage
\f0\i0 \cf2 )->loadData(
\fs24 fetchMessages 0-50
\fs26 )->handleEmailsDownloaded(
\fs24 fetchMessages 50-500
\fs26 )
\f1 \cf10 \
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 filter
\f1 \'d6\'d0\'d2\'d1\'be\'ad\'ba\'ac\'d3\'d0
\f0 searchkey
\f1 \'c1\'cb\'a3\'ac\'d2\'bb\'b8\'f6
\f0 filter
\f1 \'d6\'d0\'d3\'d0\'c1\'bd\'b8\'f6\'d7\'d3
\f0 \cf5 MCOIMAPSearchKind
\f1 \cf5 \'a3\'ac\'d2\'bb\'b8\'f6\'ca\'c7\'b9\'d8\'bc\'fc\'d7\'d6
\f0 \cf5 key
\f1 \cf5 \'a3\'ac\'c1\'ed\'d2\'bb\'b8\'f6\'ca\'c7
\f0 \cf6 kindUnread
\f1 \cf6 \'a1\'a2
\f0 \cf6 kindFlagged
\f1 \cf6 \'a1\'a2
\f0 \cf6 kindSinceReceivedDate
\f1 \cf5 \'b5\'c8
\f0 \cf2 \
    
\f3\b \cf4 func
\f0\b0 \cf2  hasNextStage(
\f3\b \cf4 _
\f0\b0 \cf2  thsFolder: \cf5 EdoTHSFolder\cf2 , previousResultSize: \cf7 Int\cf2 ? = 
\f3\b \cf4 nil
\f0\b0 \cf2 ) -> \cf7 Bool\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  pResultSize = previousResultSize \{\
			//A
\f2\fs24 \cf0 \

\f0\fs26 \cf2 		\} 
\f3\b \cf4 else
\f0\b0 \cf2  \{\
			//B		 \
		 
\f3\b \cf4 return
\f0\b0 \cf2  
\f3\b \cf4 true
\f0\b0 \cf2 \
		 \}\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 	\'b5\'f7\'d3\'c3
\f0 hasNextStage(thsFolder), previousResultSize=nil
\f1 \'d4\'f2\'bb\'e1\'d6\'b4\'d0\'d0\'b4\'fa\'c2\'eb\'bf\'e9B\'a3\'ac\'c8\'e7\'b9\'fb\'b5\'f7\'d3\'c3
\f0 hasNextStage(thsFolder
\f1 , 
\f0 previousResultSize:0),
\f1 \'d4\'f2\'bb\'e1\'d6\'b4\'d0\'d0\'b4\'fa\'c2\'eb\'b6\'ce
\f0 A\
	
\f1 \'d4\'ad\'d2\'f2\'ca\'c7
\f0 previousResultSize
\f1 \'ca\'c7\'b7\'f1\'d3\'d0\'d6\'b5\'a3\'ac
\f0 nil
\f1 \'ba\'cd
\f0 0
\f1 \'b2\'bb\'cd\'ac\'a3\'ac
\f0 nil
\f1 \'ca\'c7\'ce\'de\'d6\'b5\'a3\'ac0\'ca\'c7\'d3\'d0\'d6\'b5\'a3\'ac\'d3\'ef\'be\'e4
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  pResultSize = previousResultSize\{\},
\f1 \'b5\'b1
\f0 pResultSize
\f1 \'d3\'d0\'d6\'b5\'ca\'b1\'a3\'ac\'ce\'aa
\f0 true
\f1 \'a3\'ac\'ce\'de\'d6\'b5(nil)\'ca\'b1\'ce\'aafalse
\f0 \
\
    
\f3\b \cf4 func
\f0\b0 \cf2  finishedStage(
\f3\b \cf4 _
\f0\b0 \cf2  error: \cf7 NSError\cf2 ? = 
\f3\b \cf4 nil
\f0\b0 \cf2 , resultSize: \cf7 Int\cf2  = \cf12 0\cf2 , thsFolder: \cf5 EdoTHSFolder\cf2 , adapter: \cf5 EmailAdapter\cf2 ) \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2         
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  err = error \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             
\f4\i \cf9 //err out, do not execute other stages
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 start\cf2  == \cf12 0\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 removeOperationFromStatusBar\cf2 (
\f3\b \cf4 false
\f0\b0 \cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \cf6 QueryLog\cf2 (\cf8 "QueryMessages finished error=\cf2 \\\cf8 (\cf2 err\cf8 )"\cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \} 
\f3\b \cf4 else
\f0\b0 \cf2  
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 hasNextStage\cf2 (thsFolder, previousResultSize: resultSize) \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             //
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 doQueryMessagesInFolder\cf2 (thsFolder, adapter: adapter)\
			searchOperation
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \} 
\f3\b \cf4 else
\f0\b0 \cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 start\cf2  == \cf12 0\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 removeOperationFromStatusBar\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \cf6 QueryLog\cf2 (\cf8 "QueryMessages finished"\cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'d7\'a2\'d2\'e2\'a3\'ba
\f0 \

\f1 \'d4\'daGmail trash\'c0\'ef\'c3\'e6\'b5\'c4\'d3\'ca\'bc\'fe\'a3\'ac\'d6\'bb\'ca\'c7\'b0\'d1Inbox label\'c8\'a5\'b5\'f4\'c1\'cb\'a3\'ac\'c6\'e4\'cb\'fblabel\'bb\'b9\'d4\'da\'a3\'ac\'b5\'ab\'ca\'c7\'d4\'da\'c6\'e4\'cb\'fblabel\'cf\'c2\'b2\'bb\'cf\'d4\'ca\'be\'a3\'ac\'d2\'b2\'b2\'bb\'cf\'d4\'ca\'be\'d4\'daallmail\'cf\'c2\'a3\'ac\'d0\'e8\'d2\'aa\'bc\'d3\'d2\'bb\'b8\'f6\'b1\'ea\'ca\'b6\'a3\'acisAllMail\'bb\'f2\'d5\'dfisInTrash
\f0 \
\
MsgIdInfo
\f1 \'b8\'fa\'c0\'cf\'b0\'e6\'b5\'c4PId\'b1\'c8\'bd\'cf\'a3\'ac\'c9\'d9\'c1\'cb
\f0 \cf8 "0x"
\f1 \'a3\'ac
\f0 "eid=\'93
\f1 \'a3\'ac
\f0 "\{\\"_Id\'94
\f1 \'b5\'c8\'c7\'b0\'d7\'ba\'a3\'ac\'c8\'e7\'ba\'ce\'c5\'d0\'b6\'cf\'b8\'c3Id\'ca\'c7\'c4\'c4\'b8\'f6\'c0\'e0\'d0\'cd\'b5\'c4\'d5\'cb\'ba\'c5\'a3\'bf
\f0 \cf2 \
MsgIdInfo
\f1 \cf8 \'d7\'d6\'b6\'ce\cf2 \'d6\'d0\'b5\'c4msgId\'d6\'bb\'b4\'e6\'b7\'c5gmailId\'bb\'b9\'ca\'c7\'b4\'e6\'b7\'c5gmailId\'ba\'cdfolderPath+uid\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 MsgIdInfo\'ce\'ca\'cc\'e2\'ca\'e9\'ba\'c0\'bb\'d8\'b8\'b4\'a3\'ba
\f0 \cf2 \
MsgIdInfo
\f1 \'ca\'c7\'d7\'d4\'b6\'a5\'cf\'f2\'cf\'c2\'b4\'ab\'b5\'dd\'b5\'c4\'a3\'ac\'d3\'c9conversationInfo\'c9\'fa\'b3\'c9\'a3\'ac\'b4\'ab\'b5\'dd\'b8\'f8adapter\'ca\'b9\'d3\'c3\'b5\'c4\'a3\'ac\'b4\'d3\'cf\'c2\'cd\'f9\'c9\'cf\'b4\'ab\'b5\'ddconversation\'a3\'a8\'cc\'d8\'ca\'e2\'c7\'e9\'bf\'f6\'cf\'c2\'b4\'ab\'b5\'ddPId\'a3\'a9\'b2\'bb\'b4\'ab\'b5\'ddMsgIdInfo\'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'d2\'f2\'ce\'aa\'d6\'bb\'d4\'dasearch\'ba\'cdThreadView\'d6\'d0\'ca\'b9\'d3\'c3GmailAPI\'a3\'ac\'cb\'f9\'d2\'d4\'d4\'da\'b4\'ab\'b5\'dd\'b9\'fd\'b3\'cc\'d6\'d0\'a3\'ac\'b4\'ab\'b5\'dduid\'a3\'ac\'c8\'e7\'b9\'fbuid\'ce\'aa0\'a3\'ac\'cf\'c8\'c0\'ad\'c8\'a1uid\
\'d4\'da
\f0 search
\f1 \'d6\'d0\'b4\'d3Adapter\'b4\'ab\'b5\'bdprovider\'b5\'c4Notification\'b3\'fd\'c1\'cb\'b4\'ab\'b5\'ddConversationIds\'bb\'b9\'d0\'e8\'d2\'aa\'b4\'ab\'b5\'ddMsgIdInfo\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
Provider
\f1 \'cc\'e1\'b9\'a9\'d5\'cb\'ba\'c5\'d0\'c5\'cf\'a2\'a3\'ac\'ca\'c7\'b7\'f1\'ca\'c7Gmail\'d5\'cb\'ba\'c5\
IdType\'cc\'e1\'b9\'a9MsgIdInfo\'d6\'d0\'b5\'c4msgId\'b4\'e6\'b7\'c5\'b5\'c4\'ca\'c7gmailId\'bb\'b9\'ca\'c7path+uid\
\

\f0 \
createPrimaryOperations
\f1 \'d6\'d0\'bb\'e1\'b8\'f9\'be\'ddfetchMessage\'a3\'acupdateMessage\'ba\'cddownloadbody\'c0\'b4\'bd\'ab\'cf\'fb\'cf\'a2\'b7\'d6\'d7\'e9\'a3\'ac\'b7\'d6\'d7\'e9\'b5\'c4\'b9\'fd\'b3\'cc\'d6\'d0\'a3\'acinfo\'d2\'aa\'ce\'de\'cb\'f0\'cd\'b8\'b4\'ab
\f0 \
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 protocol
\f0\b0 \cf2  DataProviderDelegate: \cf7 NSObjectProtocol\cf2  \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2     
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 func
\f0\b0 \cf2  willUpdateData(forIDs msgIDs: [\cf7 String\cf2 ], byIDs updatedMsgIDs: [\cf7 String\cf2 ])
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 func
\f0\b0 \cf2  dataUpdated()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 func
\f0\b0 \cf2  dataProviderStatusUpdated()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 func
\f0\b0 \cf2  updateItems(additions:[\cf7 Int\cf2 ], deletions:[\cf7 Int\cf2 ], updates:[\cf7 Int\cf2 ], inSection section: \cf7 Int\cf2 , info: \cf5 UpdateInfo\cf2 ) 
\f4\i \cf9 //info: abitary info passed by caller
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2 \}\
\
DataProvider
\f1 \'d6\'d0\'b5\'c4
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 delegate
\f1 \cf10 \'ca\'c7
\f0 xxxViewController
\f1 \'a3\'ac
\f0 \cf2 \
EmailListViewController
\f1 \'bc\'d3\'d4\'d8\'b5\'f7\'d3\'c3\'c1\'f7\'b3\'cc\'a3\'ba
\f0 \
\
1
\f1 \'a1\'a2
\f0 EmailListViewController
\f1 \'b5\'c4
\f0 Init
\f1 \'d6\'d0\'a3\'ac\'b4\'b4\'bd\'a8ThreadListDataProvider,
\f0 \cf5 dp\cf2  = \cf5 ThreadListDataProvider\cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 2\'a1\'a2\'d7\'a2\'b2\'e1\'c1\'bd\'b8\'f6\'cd\'a8\'d6\'aa\'b7\'bd\'b7\'a8
\f0 \cf6 previewLinesChanged
\f1 \cf10 \'ba\'cd
\f0 \cf6 accountDeleted\cf2 \

\f1 3\'a1\'a2\'b4\'b4\'bd\'a8
\f0 TableView
\f1 -
\f0 \cf6 setupTableView\cf2 \
4
\f1 \'a1\'a2
\f0 viewDidLoad
\f1 \'d6\'d0\'a3\'ac\'d1\'ad\'bb\'b7\'b5\'f7\'d3\'c3\'c6\'e4
\f0 controllers
\f1 \'b0\'fc\'ba\'ac\'b5\'c4\'c3\'bf\'b8\'f6ViewController\'b5\'c4viewDidLoad\'a3\'ac\'d5\'e2\'d0\'a9VC\'b0\'fc\'c0\'a8\'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf5 EmailListActionsController
\f1 \cf5 \'a3\'ac
\f0 \cf5 EmailListEditControllerEmailListPageNavController
\f1 \cf5 \'a3\'ac\

\f0 \cf5 EmailListFooterAndBGController
\f1 \cf5 \'a3\'ac
\f0 \cf5 EmailListTopBarController
\f1 \cf5 \'a3\'ac
\f0 \cf5 EmailListSearchController\cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 5\'a1\'a2\'b8\'f8
\f0 dp
\f1 \'b5\'c4\'ca\'f4\'d0\'d4
\f0 \cf5 delegate
\f1 \cf5 \'b8\'b3\'d6\'b5\'a3\'ac
\f0 \cf5 dp\cf2 .\cf5 delegate\cf2  = 
\f3\b \cf4 self
\f5 \cf4 \'a3\'ac
\f1\b0 \cf10 \'bc\'b4dp\'d6\'d0\'b5\'c4delegate\'ca\'c7xxxViewController\
\cf2 6\'a1\'a2\'b5\'f7\'d3\'c3
\f0 dp
\f1 \'b5\'c4
\f0 viewDidLoad()
\f1 \'b7\'bd\'b7\'a8\'a3\'ac
\f0 DataProvider
\f1 \'d6\'d0\'b5\'c4
\f0 viewDidLoad
\f1 \'b7\'bd\'b7\'a8\'b5\'f7\'d3\'c3
\f0 \cf6 initialLoadData
\f1 \cf6 \'a3\'a8\'bc\'d3\'d4\'d8\'ca\'fd\'be\'dd\'a3\'a9\'ba\'cd
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 delegate\cf2 ?.\cf6 dataUpdated\cf2 (
\f1 \'cb\'a2\'d0\'c2
\f0 VC
\f1 \'bd\'e7\'c3\'e6
\f0 )
\f1 \'a3\'ac
\f0 \

\f1 	6.1\'a1\'a2\'c6\'e4\'d6\'d0
\f0 \cf6 initialLoadData
\f1 \cf6 \'d6\'d0\'b5\'f7\'d3\'c3
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 loadServerData\cf2 ()
\f1 \'ba\'cd
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 loadData\cf2 ()
\f1 \'a3\'ac
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 delegate\cf2 ?.\cf6 dataUpdated\cf2 ()
\f1 \'b5\'f7\'d3\'c3\'b5\'c4\'ca\'c7
\f0 ViewController
\f1 \'d6\'d0\'b5\'c4
\f0 \cf6 dataUpdated
\f1 \cf6 \'b7\'bd\'b7\'a8
\f0 \cf2 \

\f3\b \cf4 	
\f1\b0 \cf2 6.2\'a1\'a2
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 loadServerData
\f1 \cf10 \'d7\'ee\'d6\'d5\'bb\'e1\'b5\'f7\'d3\'c3\cf6 ThreadListDataProvider\'b5\'c4
\f0 \cf6 fetchMessages
\f1 \cf6 \'a3\'a8\'cf\'c2\'d4\'d8500\'b7\'e2\'d3\'ca\'bc\'fe\'a3\'a9\'a3\'ac
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 loadData
\f1 \cf10 \'d7\'ee\'d6\'d5\'b5\'f7\'d3\'c3\cf6 ThreadListDataProvider\'d6\'d0\'b5\'c4loadData
\f0 \cf2 \
\
Notification
\f1 \'b5\'c4\'b4\'a6\'c0\'ed\'a3\'ba\
1\'a1\'a2
\f0 DataProvider
\f1 \'d6\'d0\'b5\'c4
\f0 delegate
\f1 \'ca\'f4\'d0\'d4\'d4\'da\'b3\'f5\'ca\'bc\'bb\'af
\f3\b \cf4 didSet
\f1\b0 \cf2 \'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ac\'b5\'f7\'d3\'c3\'d7\'d3\'c0\'e0\'b5\'c4
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 registeredNotifications\cf2 ()
\f1 \'a3\'ac\'d7\'a2\'b2\'e1\'b8\'f7\'b8\'f6\'d7\'d3\'c0\'e0Provider\'b5\'c4\'cd\'a8\'d6\'aa\'a3\'ac\'bd\'ab\
\'cd\'a8\'d6\'aa\'cd\'b3\'d2\'bb\'d7\'a2\'b2\'e1
\f0 \cf5 DataProvider\cf2 .processNotification(
\f3\b \cf4 _
\f0\b0 \cf2 :)
\f1 \'b7\'bd\'b7\'a8\'c0\'b4\'b4\'a6\'c0\'ed
\f0 \
2
\f1 \'a1\'a2\'d3\'d0\'d7\'a2\'b2\'e1\'b5\'c4\'cf\'fb\'cf\'a2\'b5\'bd\'c0\'b4\'ca\'b1\'a3\'ac\'b5\'f7\'d3\'c3
\f0 processNotification
\f1 \'b7\'bd\'b7\'a8\'a3\'ac\'b7\'bd\'b7\'a8\'d6\'d0\'b5\'f7\'d3\'c3\'d7\'d3\'c0\'e0
\f0 \cf6 shouldProcessNotification
\f1 \cf2 \'b7\'bd\'b7\'a8\'a3\'ac\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'d0\'e8\'d2\'aa\'bc\'cc\'d0\'f8\'b4\'a6\'c0\'ed\'a3\'ac\'c8\'e7\'b9\'fb\'d7\'d3\'c0\'e0Provider\'b8\'c3\'b7\'bd\'b7\'a8\'b7\'b5\'bb\'d8true\'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 3
\f1 \'a1\'a2\'c8\'e7\'b9\'fb\'d7\'d3\'c0\'e0\cf10 provider\cf2 \'b5\'c4
\f0 \cf6 shouldProcessNotification
\f1 \cf10 \'b7\'b5\'bb\'d8
\f0 true
\f1 \'a3\'ac\'b5\'f7\'d3\'c3\'d7\'d3\'c0\'e0\'b5\'c4
\f0 \cf6 loadData
\f1 \cf10 \'b7\'bd\'b7\'a8\'a3\'ac\
4\'a1\'a2\'b5\'f7\'d3\'c3\'d7\'d3\'c0\'e0provider\'b5\'c4
\f0 \cf6 shouldLoadDataAsync\cf2 ()
\f1 \'b7\'bd\'b7\'a8\'a3\'ac\'c8\'e7\'b9\'fb\'b7\'b5\'bb\'d8false\'a3\'ac\'be\'cd\'ca\'c7\'cd\'ac\'b2\'bdloadData\'a3\'ac\'be\'cd\'b5\'f7\'d3\'c3\'d7\'d3\'c0\'e0VC\'b5\'c4
\f0 \cf6 dataUpdated
\f1 \cf6 \'a3\'a8\'cb\'a2\'d0\'c2UI\'a3\'a9\cf10 \'ba\'cd\'d7\'d3\'c0\'e0provider\'b5\'c4
\f0 \cf6 postUpdateData
\f1 \cf10 \'b7\'bd\'b7\'a8
\f0 \cf2 \
5
\f1 \'a1\'a2\'d4\'da\'d7\'d3\'c0\'e0VC\'b5\'c4
\f0 \cf6 dataUpdated
\f1 \cf10 \'b7\'bd\'b7\'a8\'d6\'d0\'a3\'ac\'c8\'e7
\f0 EmailListViewController
\f1 \'a3\'ac\
	5.1\'a1\'a2
\f0 \cf6 dataUpdated
\f1 \cf6 \'d6\'d0\cf10 \'b5\'f7\'d3\'c3
\f0 \cf6 updateSelectedMsgIdList-
\f1 \cf6 \'d4\'da\'b1\'e0\'bc\'ad\'c4\'a3\'ca\'bd\'cf\'c2\'d1\'a1\'d6\'d0
\f0 \cf6 msg
\f1 \cf6 \'a3\'ac
\f0 \cf7 tableView\cf2 .\cf19 reloadData\cf2 ()
\f1 \'a3\'ac
\f0 \
	5.2
\f1 \'a1\'a2
\f0 autoSelectMessageForExpandedSplitView
\f1 \'a3\'ac\'d7\'d4\'b6\'af\'d5\'b9\'bf\'aasplitView
\f0 \
	5.3
\f1 \'a1\'a2
\f0 doUpdateOtherUI\
\
\
fetchMessagesHeaderByIds\
.broadcastInfo\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'c8\'e7\'b9\'fb
\f0 broadcastInfo
\f1 \'b4\'ab\'b5\'c4 opkey\'ce\'aa\'a1\'b1\'a1\'b1\'a3\'ac\'b4\'ab\'b5\'dd\'b5\'c4opkey\'a3\'ac\'b8\'f8parentKey\'b8\'b3\'d6\'b5
\f0 \
parentOpkey\
opKey\
\

\f1 \'ce\'b4\'cd\'ea\'b3\'c9
\f0 Operation
\f1 \'a3\'ba
\f0 QueryThreadCountOperation\

\f1 \'bb\'d8\'b4\'ab\'b5\'c4
\f0 msgId
\f1 \'d3\'c3conversationId\'b0\'fc\'d7\'b0\'a3\'acMsgId\'b5\'a5\'b6\'c0\'b0\'fc\'d7\'b0\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\
ThreadListDataProvider
\f1 \'d6\'d0\'ce\'aa\'c9\'b6\'d6\'bb\'d3\'d0\'b5\'a5\'d5\'cb\'ba\'c5\'a3\'bfEmailListDataProvider\'ca\'c7\'b6\'e0\'d5\'cb\'ba\'c5\

\f0 \
ThreadListDataProvider
\f1 \'c1\'f7\'b3\'cc\'a3\'ba\

\f0 ThreadListDataProvider
\f1 \'b5\'c4\'ca\'f4\'d0\'d4\'a3\'ba
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 private(set)
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  conversations = [\cf5 EmailConversationInfo\cf2 ]()
\f1 \'a3\'bb
\f0 \cf5 EmailConversationInfo
\f1 \cf10 \'b5\'c4\'ca\'fd\'d7\'e9\cf2 \'d3\'c3\'d3\'da\'d3\'ca\'bc\'feThread\'c1\'d0\'b1\'ed\'b5\'c4\'cf\'d4\'ca\'be\'a3\'acConversations\'b5\'c4\'cb\'b3\'d0\'f2\'be\'cd\'ca\'c7\'cf\'d4\'ca\'be\'b5\'c4\'cb\'b3\'d0\'f2\

\f3\b \cf4 var
\f0\b0 \cf2  accountIdsToSync: [\cf7 String\cf2 ]
\f1 \'a3\'bb\'be\'db\'ba\'cf\'d3\'ca\'cf\'e4(\'c8\'e7\'a1\'b0\'cb\'f9\'d3\'d0\'ca\'d5\'bc\'fe\'cf\'e4\'a1\'b1)\'d6\'d0\'b5\'c4\'d3\'d0\'d0\'a7\'d5\'ca\'bb\'a7\'a3\'ac\'cb\'f9\'d3\'d0\'b7\'a2\'cb\'cd\'b5\'c4\'c4\'b3\'d0\'a9\'d5\'ca\'bb\'a7\'b6\'bc\'bf\'c9\'c4\'dc\'b1\'bb\'d3\'c3\'bb\'a7\'c9\'e8\'d6\'c3\'c5\'c5\'b3\'fd\'b5\'f4\

\f3\b \cf4 var
\f0\b0 \cf2  folderPaths: [\cf7 String\cf2 : \cf7 String\cf2 ]
\f1 \'a3\'bb
\f4\i \cf9 key is accountId
\f1\i0 \'a3\'ac
\f4\i value is folderPath
\f1\i0 \'a3\'ac\cf2 \'ce\'ac\'bb\'a4\'d2\'bb\'b8\'f6
\f0 folderPath map
\f1 \'a3\'ac\'d5\'e2\'b8\'f6\'d4\'da\'be\'db\'ba\'cf\'b5\'c4mailbox\'a3\'a8\'c8\'e7\'a3\'baAllInbox\'a3\'acAllSent\'a3\'a9\'ba\'dc\'d3\'d0\'d3\'c3
\f0 \
\
\
shouldProcessNotification
\f1 \'d6\'d0\'b4\'a6\'c0\'ed\'d0\'e8\'d2\'aa\'b4\'a6\'c0\'ed\'c4\'c7\'d0\'a9\'cf\'fb\'cf\'a2\'a3\'ac\'b4\'a6\'c0\'ed\'b7\'b5\'bb\'d8true\'a3\'ac\'b2\'bb\'b4\'a6\'c0\'ed\'a3\'a8\'b2\'bbloadData\'a3\'ac\'b2\'bb\'cb\'a2\'d0\'c2UI\'a3\'a9\'be\'cd\'b7\'b5\'bb\'d8false\
\'b4\'a6\'c0\'ed\'b5\'c4\'cf\'fb\'cf\'a2\'b7\'d6\'bc\'b8\'c0\'e0\'a3\'acfetchMessage\'a3\'acupdateMessageState\'a3\'acdownloadMessageBody\
\
loadData\'c1\'f7\'b3\'cc\'a3\'ba\
1\'a1\'a2\'d4\'da\'ba\'f3\'cc\'a8\'d7\'d3\'cf\'df\'b3\'cc\'d6\'d0--
\f0 \cf6 EDOFastBGthread
\f1 \cf6 \'a3\'ac\cf10 \'b4\'d3
\f0 DB
\f1 \'d6\'d0\'b8\'f9\'be\'dd
\f0 accountId
\f1 \'a1\'a2
\f0 folderPath
\f1 \'ba\'cdfolderType\'b6\'c1\'c8\'a1\'d2\'bb\'b8\'f6\'b6\'fe\'ce\'ac\'ca\'fd\'d7\'e9\'a3\'ba
\f0 \cf2 results
\f1 \'a3\'ac
\f0 results
\f1 \'d6\'d0\'d3\'d0\'b6\'e0\'b8\'f6\'b0\'b4\'d5\'d5accountId\'ba\'cd\'d6\'b8\'b6\'a8\'b5\'c4folder\'b7\'d6\'b5\'c4Conversations\'a3\'ac\'d2\'bb\'b8\'f6account\'ba\'cdfolder\'cf\'c2\'d3\'d0\'b6\'e0\'b8\'f6Conversations\'a3\'ac\'be\'cd\'ca\'c7\'ce\'d2\'c3\'c7\'d4\'da\'c1\'d0\'b1\'ed\'bf\'b4\'b5\'bd\'b5\'c4\'d5\'e2\'d0\'a9Conversations\'a3\'ac\
2\'a1\'a2\'bd\'d3\'d7\'c52\'b8\'f6for\'d1\'ad\'bb\'b7\'bd\'ab\'d2\'bb\'b8\'f6\'b6\'fe\'ce\'ac\'b5\'c4ConversationInfo add\'b5\'bd\'d2\'bb\'b8\'f6\'d2\'bb\'ce\'ac\'b5\'c4result\'ca\'fd\'d7\'e9\'d6\'d0\'a3\'ac\'bd\'abresult\'ca\'fd\'d7\'e9\'c5\'c5\'d0\'f2-
\f0 result.\cf19 sort\cf2  \{ info, info2 
\f3\b \cf4 in
\f2\b0\fs24 \cf0  
\f3\b\fs26 \cf4 return
\f0\b0 \cf2  info.\cf5 keyMsgDate\cf2 .\cf6 isGreaterThanDate\cf2 (info2.\cf5 keyMsgDate\cf2 )
\f2\fs24 \cf0  
\f0\fs26 \cf2 \}\
3
\f1 \'a1\'a2\'c7\'d0\'bb\'d8\'b5\'bd\'d6\'f7\'cf\'df\'b3\'cc\'d6\'d0--
\f0 \cf6 EDOMainthread
\f1 \cf2 \'a3\'ac\'b5\'f7\'d3\'c3
\f0 updateResult
\f1 \'a3\'ac\'b1\'c8\'b6\'d4\'d0\'c2\'b5\'c4
\f0 Conversations
\f1 \'ba\'cd\'b5\'b1\'c7\'b0\'cf\'d4\'ca\'be\'b5\'c4Conversations\'b5\'c4\'c7\'f8\'b1\'f0\'a1\'aa
\f0 \cf6 getDiff\cf2 (\cf5 conversations\cf2 , newIds: newList)
\f1 \'a3\'ac\'b8\'f8\'b5\'b1\'c7\'b0\'b5\'c4Conversation\'b8\'b3\'d6\'b5--
\f0 \cf5 conversations\cf2  = newList
\f1 \'a3\'ac\'c8\'e7\'b9\'fb\'d3\'d0\'b1\'e4\'bb\'af\'a1\'aa
\f0 diffCount
\f1 >0\'a3\'ac\'b5\'f7\'d3\'c3ViewController\'b5\'c4updateItems---
\f0 \cf5 delegate\cf2 ?.\cf6 updateItems
\f1 \cf6 \'a3\'ac
\f0 \cf6 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 4
\f1 \'a1\'a2\cf2 updateItems\'b7\'bd\'b7\'a8\'d6\'d0\'a3\'ac\'b4\'ab\'c8\'eb\'b5\'c4\'b2\'ce\'ca\'fd\'d3\'d0\'c8\'fd\'b8\'f6\'a3\'ba
\f0 additions-
\f1 \'cc\'ed\'bc\'d3
\f0 index
\f1 \'ca\'fd\'d7\'e9\'a3\'ac
\f0 deletions-
\f1 \'c9\'be\'b3\'fd
\f0 index
\f1 \'ca\'fd\'d7\'e9\'a3\'ac
\f0 updates-
\f1 \'b8\'fc\'d0\'c2
\f0 index
\f1 \'ca\'fd\'d7\'e9\'a3\'ac\
\'d5\'e2\'b8\'f6index\'ca\'c7Conversations\'ca\'fd\'d7\'e9\'b5\'c4\'cb\'b3\'d0\'f2Id\'a3\'ac\'d2\'b2\'ca\'c7
\f0 tablview
\f1 \'b6\'d4\'d3\'a6\'b5\'c4index\'a3\'ac\
	4.1\'a1\'a2\'d3\'c9\'d5\'e2\'d0\'a9index\'ca\'fd\'d7\'e9\'c9\'fa\'b3\'c9tableview\'b5\'c4\'cb\'f7\'d2\'fdArray--
\f3\b \cf4 return
\f0\b0 \cf2  \cf7 IndexPath\cf2 (row: idx, section: section)\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 	4.2\'a1\'a2\'bf\'aa\'ca\'bc\'b8\'fc\'d0\'c2
\f0 tableview\cf7 tableView\cf2 .\cf19 beginUpdates\cf2 () \cf19 insertRows
\f1 \cf19 \'a3\'bb
\f0 \cf19 deleteRows
\f1 \cf19 \'a3\'bb
\f0 \cf19 reloadRows\cf2  \cf7 tableView\cf2 .\cf19 endUpdates\cf2 ()\

\f1 	4.3\'a1\'a2\'b5\'f7\'d3\'c3
\f0 editController.updateSelectedMsgIdList()
\f1 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 	4.4
\f1 \'a1\'a2
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 pageNavController\cf2 .\cf6 autoSelectMessageForExpandedSplitView\cf2 ()\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 	4.5\'a1\'a2\'b5\'f7\'d3\'c3
\f0 doUpdateOtherUI()\'97-
\f1 \'c4\'da\'b2\'bf\'b5\'f7\'d3\'c3
\f0 EmailListFooterAndBGController
\f1 \'b5\'c4\'cf\'e0\'b9\'d8
\f0 update
\f1 \'b2\'d9\'d7\'f7\
5\'a1\'a2\'c8\'e7\'b9\'fbdiffcount == 0\'a3\'ac\'b5\'f7\'d3\'c3ViewController\'b5\'c4
\f0 dataUpdated()--\cf5 delegate\cf2 ?.\cf6 dataUpdated\cf2 ()
\f1 \'a3\'ac\
	VC\'b5\'c4
\f0 \cf6 dataUpdated
\f1 \cf6 \'a3\'a8\'a3\'a9\'b7\'bd\'b7\'a8\'d6\'d0\'b5\'f7\'d3\'c3\cf2 \'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 	5.1
\f1 \'a1\'a2
\f0 \cf5 editController\cf2 .\cf6 updateSelectedMsgIdList\cf2 () 
\f4\i \cf9 // Selected msg in edit mode
\f0\i0 \cf2 \
	5.2
\f1 \'a1\'a2
\f0 \cf7 tableView\cf2 .\cf19 reloadData\cf2 ()\
	5.3
\f1 \'a1\'a2
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 pageNavController\cf2 .\cf6 autoSelectMessageForExpandedSplitView\cf2 ()\
	5.4
\f1 \'a1\'a2
\f0 \cf6 doUpdateOtherUI\cf2 ()\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'c6\'e4\'d6\'d0\'a3\'ba
\f0 \
        \cf5 editController\cf2 .\cf6 updateSelectedMsgIdList\cf2 ()
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2         \cf6 EdoAfterMainThread\cf2 (\cf12 0\cf2 ) \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 pageNavController\cf2 .\cf6 autoSelectMessageForExpandedSplitView\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \cf6 doUpdateOtherUI\cf2 ()
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\fs26 \cf2 \'d5\'e2\'b6\'ce\'b4\'fa\'c2\'eb\'d4\'da\'c1\'bd\'b8\'f6\'b7\'d6\'d6\'a7\'b6\'bc\'bb\'e1\'b5\'f7\'b5\'bd\'a3\'ac\'c7\'f8\'b1\'f0\'ca\'c7updateItems\'ca\'c7\'b5\'a5\'b6\'c0\'b5\'c4update\'b8\'fc\'d0\'c2\'b5\'c4\'c4\'c7\'bc\'b8\'d0\'d0\'a3\'ac\'b5\'ab\'ca\'c7\'c8\'e7\'b9\'fbadd\'a3\'acdelete\'a3\'ac\'ba\'cdupdate\'b6\'bc\'c3\'bb\'d3\'d0\'a3\'a8count==0\'a3\'a9\'a3\'ac\'d4\'f2\'b5\'f7\'d3\'c3
\f0 \cf7 tableView\cf2 .\cf19 reloadData\cf2 (),\
dataUpdated
\f1 \'ca\'c7
\f0 diffCount==0
\f1 \'ba\'f3\'a3\'ac\'d6\'b1\'bd\'d3\'b5\'f7\'d3\'c3
\f0 \cf7 tableView\cf2 .\cf19 reloadData\cf2 (),
\f1 \'c6\'e4\'cb\'fb\'b4\'fa\'c2\'eb\'cd\'ea\'c8\'ab\'cf\'e0\'cd\'ac\
\'d2\'bb\'b8\'f6\'ca\'c7\'d6\'bb\'b8\'fc\'d0\'c2\'d0\'e8\'d2\'aa\'b8\'fc\'d0\'c2\'b5\'c4\'c4\'c7\'bc\'b8\'d0\'d0\'a3\'ac\
\'d2\'bb\'b8\'f6\'ca\'c7\'c8\'ab\'b2\'bfreload--tableView.reloadData
\f0 \
\
\

\f1 \'d0\'c2\'b0\'e6\'b5\'c4
\f0 EmailListViewController
\f1 \'d6\'d0\'b5\'c4
\f0 tableView
\f1 \'b5\'c4\'d0\'d0\'ca\'fd
\f0 =\cf5 dp\cf2 .\cf5 conversations\cf2 .\cf7 count\cf2 \
    
\f3\b \cf4 override
\f0\b0 \cf2  
\f3\b \cf4 func
\f0\b0 \cf2  tableView(
\f3\b \cf4 _
\f0\b0 \cf2  tableView: \cf7 UITableView\cf2 , numberOfRowsInSection section: \cf7 Int\cf2 ) -> \cf7 Int\cf2  \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  \cf5 dp\cf2 .\cf5 conversations\cf2 .\cf7 count
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\fs26 \cf2 \'c3\'bf\'b8\'f6
\f0 cell
\f1 \'d6\'d0\'d3\'d0\'d2\'bb\'b8\'f6thread\'ca\'f4\'d0\'d4\'a3\'ac\'ca\'c7
\f0 \cf7 EmailConversationInfo
\f1 \cf2 \'c0\'e0\'d0\'cd\'b5\'c4\'a3\'ac
\f0 \

\f1 \'d4\'ad\'c0\'b4\'c3\'bf\'b8\'f6
\f0 cell
\f1 \'b6\'d4\'d3\'a6\'d2\'bb\'b8\'f6
\f0 msgId
\f1 \'a3\'bb\'cf\'d6\'d4\'da\'c3\'bf\'d2\'bb\'b8\'f6
\f0 cell
\f1 \'b6\'d4\'d3\'a6\'d2\'bb\'b8\'f6Conversation
\f0 \

\f1 \'d4\'ad\'c0\'b4
\f0 EmailListViewDataProvider
\f1 \'b0\'fc\'ba\'ac\'d2\'bb\'b8\'f6
\f0 msgIds
\f1 \'a3\'bb\'cf\'d6\'d4\'da\'b5\'c4
\f0 ThreadListDataProvider
\f1 \'b0\'fc\'ba\'ac\'d2\'bb\'b8\'f6
\f0 Conversations
\f1 -
\f0 \cf5 EmailConversationInfo
\f1 \cf2 \'c0\'e0\'d0\'cd\'a3\'ac
\f0 \

\f1 \'d4\'ad\'c0\'b4
\f0 EmailListViewDataProvider
\f1 \'d3\'d0\'d2\'bb\'b8\'f6
\f0 \cf5 newMsgIds
\f1 \cf2 \'a3\'ac\'d3\'c3\'c0\'b4\'b1\'a3\'b4\'e6\'cd\'a8\'d6\'aa\'bb\'f2\'d5\'df\'b1\'e4\'bb\'af\'b5\'c4MsgIds\'a3\'bb\'cf\'d6\'d4\'da\'d3\'d0\'d2\'bb\'b8\'f6newConversation\'a3\'ac\'b1\'a3\'b4\'e6\'b1\'e4\'bb\'af\'b5\'c4Conversations\
\
\'d0\'c2\'b0\'e6\'d3\'c3Conversations\'cc\'e6\'b4\'fa\'d4\'adEmailListViewDataProvider\'d6\'d0\'b5\'c4
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 msgIds
\f1 \cf5 \'a3\'ac
\f0 \cf5 \

\f1 \cf2 \'d3\'c3newConversations\'cc\'e6\'b4\'fa\'d4\'adEmailListViewDataProvider\'d6\'d0\'b5\'c4
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 newMsgIds
\f1 \cf5 \'a3\'ac\cf2 \
\'d3\'d0\'b8\'f6\'cf\'b8\'bd\'da\'ca\'c7\'d4\'da\'bb\'f9\'c0\'e0Provider\'b5\'c4
\f0 updateMsgIds
\f1 \'d6\'d0\'a3\'ac
\f0 new
\f1 MsgIds\'b8\'b3\'d6\'b5\'b8\'f8
\f0 msgIds
\f1 \'d6\'ae\'ba\'f3\'a3\'ac\'a3\'a8
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 msgIds\cf2  = 
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 newMsgIds
\f1 \cf2 \'a3\'a9\'a3\'ac
\f0 new
\f1 MsgIds\'d0\'e8\'d2\'aareset--
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 newMsgIds\cf2  = [\cf7 String\cf2 ]()
\f1 \
\
\'d4\'da\'d2\'bb\'b8\'f6account\'cf\'c2\'b5\'c4folder\'d3\'d0\
folder\'d3\'d0folderType\'ba\'cdfolderPath\
\
search\'b5\'c4\'c1\'f7\'b3\'cc\'d0\'e8\'d2\'aa\'cc\'ed\'bc\'d3parentKey\'ba\'cdopSessionKey\
opSessionKey\'d3\'c9\'b5\'da\'d2\'bb\'b8\'f6\'b4\'b4\'bd\'a8\'b5\'c4op\'c9\'fa\'b3\'c9\
Cancel\'b5\'c4\'ca\'b1\'ba\'f2\'c8\'e7\'ba\'ce\'ce\'ac\'bb\'a4\'b5\'c4\'b6\'d3\'c1\'d0\'ba\'cd\'b6\'d3\'c1\'d0\'cf\'e0\'b9\'d8\'b5\'c4\'d0\'c5\'cf\'a2\'a3\'a8\'d7\'d6\'b5\'e4\'a3\'a9\'a3\'bf\
1\'a1\'a2cancel\'b5\'c4\'b4\'a6\'c0\'ed\
2\'a1\'a2\'c8\'e7\'ba\'ce\'c5\'d0\'b6\'a8opsession\'bd\'e1\'ca\'f8\'a3\'bf\'d6\'c3\'cb\'d1\'cb\'f7\'d7\'b4\'cc\'ac\'a3\'ac\'be\'c9\'b0\'e6\'c2\'df\'bc\'ad\'ca\'c7\'ca\'d5\'b5\'bdfinished\'ba\'f3\'a3\'ac\'bb\'b9\'b5\'c3\'c5\'d0\'b6\'cfopkeys\'ca\'c7\'b7\'f1\'bb\'b9\'d3\'d0\'c6\'e4\'cb\'fbops\'a3\'a8\'b0\'fc\'c0\'a8\'d3\'c3\'bb\'a7\'b2\'bb\'b6\'cf\'ca\'e4\'c8\'ebkey\'b4\'a5\'b7\'a2\'cb\'d1\'cb\'f7\'a1\'a2\'d2\'bb\'b8\'f6search\'b0\'fc\'ba\'ac\'b6\'e0\'d5\'cb\'ba\'c5\'d7\'d3search\'a3\'a9\'a3\'ac\'c8\'e7\'b9\'fb\'c3\'bb\'d3\'d0\'a3\'ac\'be\'cd\'cb\'b5\'c3\'f7\'ca\'c7\'cb\'d1\'cb\'f7\'d5\'e6\'b5\'c4\'cd\'ea\'b3\'c9\'c1\'cb\
3\'a1\'a2search\'b7\'b5\'bb\'d8\'ca\'b1\'cc\'ed\'bc\'d3opsession\'d0\'c5\'cf\'a2\'a3\'a8\'d0\'c5\'cf\'a2\'cd\'a8\'b9\'fdNotification\'bb\'d8\'b4\'ab\'a3\'ac\'b7\'c5\'d4\'dasessionInfo\'d6\'d0\'a3\'actimefilter\'a3\'a9\'a3\'ac\'cc\'ed\'bc\'d3\'d0\'c5\'cf\'a2\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ac\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'ca\'c7gmail\'d5\'cb\'ba\'c5\'a3\'ac\'c5\'d0\'b6\'cfopsession\'d7\'d6\'b5\'e4\'c0\'ef\'ca\'c7\'b7\'f1\'b4\'e6\'d4\'da\'a3\'ac\'c5\'d0\'b6\'cfhasNextStage\'a3\'ac\'c5\'d0\'b6\'cf\'ca\'c7\'b5\'da\'bc\'b8\'b4\'ce\'d1\'ad\'bb\'b7\'cb\'d1\'cb\'f7\
\
\
\'d2\'bb\'b8\'f6search\'d3\'c9\'b6\'e0\'b8\'f6\
\'b5\'a5\'d5\'cb\'ba\'c5\'be\'cd\'d2\'bb\'b8\'f6searchOp\'a3\'ac\'b6\'e0\'d5\'cb\'ba\'c5\'a3\'a8\'be\'db\'ba\'cf\'b5\'c8folderType\'a3\'a9\'d3\'d0\'b6\'e0\'b8\'f6searchOp\'a3\'ac\'c3\'bf\'b8\'f6\'d5\'cb\'ba\'c5\'cf\'c2\'d2\'bb\'b8\'f6search\'a3\'ac\'c7\'d0\'bb\'bb\'b1\'f0\'b5\'c4folder\'bd\'f8\'d0\'d0search\'bb\'f2\'d5\'df\'b5\'e3\'bb\'f7\'c8\'a1\'cf\'fb\'d2\'aacancel\'b5\'b1\'c7\'b0\'d5\'e2\'d0\'a9\'cb\'d1\'cb\'f7op\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 \'b0\'d1
\f0 searchMessagesNonIMAP
\f1 \'ba\'cd
\f0 searchMessages
\f1 \'b7\'c5\'d4\'da\'d2\'bb\'b8\'f6\'b7\'bd\'b7\'a8\'c0\'ef\'b5\'f7\'d3\'c3\'a3\'ac\'bf\'c9\'d2\'d4\'cd\'a8\'b9\'fdprovider\'b5\'f7\'b6\'c8\'b5\'c4\'ca\'b1\'ba\'f2\'b5\'a5\'b6\'c0\'b5\'f7\'d3\'c3\
\'b2\'ce\'ca\'fd\'a3\'ba
\f0 account
\f1 \'a3\'a8\'d0\'e8\'d2\'aa\'cd\'a8\'b9\'fd
\f0 \cf2 accountId
\f1 \'b4\'d3
\f0 DB
\f1 \'d6\'d0\'c8\'a1\cf10 \'a3\'a9\'a3\'ac
\f0 accountId,info\

\f1 \'cb\'f9\'d3\'d0\'b5\'c4
\f0 search Op
\f1 \'bc\'b0
\f0 search
\f1 \'b5\'c4\'d7\'d3
\f0 Op
\f1 \'b6\'bc\'ca\'c7
\f0 burst
\f1 \'b5\'c4\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf10 Gmail
\f1 \'b5\'c4
\f0 search
\f1 \'c3\'bb\'d3\'d0\'b4\'f3
\f0 folder
\f1 \'b4\'a6\'c0\'ed\'a3\'a8\'d1\'ad\'bb\'b7\'b8\'c4\'b1\'e4timefilter\'a3\'a9\
\'be\'c9\'b0\'e6\'b1\'beGmail\'b5\'c4search\'c0\'ef\'c3\'e6sync\'b2\'bd\'d6\'e8\'c8\'b1\'ca\'a7\'a3\'ac\'d0\'c2\'b0\'e6\'d0\'e8\'d2\'aa\'bc\'d3\'c9\'cf\'a3\'ac\'b2\'bb\'d0\'e8\'d2\'aa\'c5\'d0\'b6\'cftimeFilter\'d6\'d8\'b8\'b4\'cb\'d1\'cb\'f7\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 \
\
\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf6 hasAllOperationsFinished\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 \'cb\'f9\'d3\'d0\'b5\'c4\'b2\'d9\'d7\'f7\'b6\'bc\'cd\'ea\'b3\'c9\'c1\'cb\'a3\'ac\'b0\'fc\'c0\'a8\'d2\'bb\'b4\'ce\'cb\'d1\'cb\'f7\'b5\'c4\'b6\'e0\'b8\'f6op\'a3\'ac\'ba\'cd\'d2\'bb\'b4\'ce\'cb\'d1\'cb\'f7\'b5\'c4\'b6\'e0\'b8\'f6searchOp\'a3\'a8\'b6\'e0\'b8\'f6\'d5\'cb\'ba\'c5\'b5\'c4\'cb\'d1\'cb\'f7\'a3\'ac\'d2\'bb\'b8\'f6\'d5\'cb\'ba\'c5\'b5\'c4\'b4\'f3folder\'b5\'c4\'b6\'e0\'b4\'ce\'cb\'d1\'cb\'f7-\'d3\'c5\'bb\'af\'b4\'a6\'c0\'ed\'a3\'a9\cf2 \
Primary\'b5\'c4\'b4\'a6\'c0\'ed\'d6\'bb\'ca\'c7\'d4\'da\'c0\'ad\'d3\'ca\'bc\'fe\'cd\'b7\'ba\'cdbody\'b5\'c4\'ca\'b1\'ba\'f2\'b7\'d6\'b1\'f0\'d7\'f7\'c1\'cb\'c1\'bd\'b4\'ce\'c9\'b8\'d1\'a1\'a3\'ac\'c9\'b8\'d1\'a1\'d6\'ae\'ba\'f3\'b0\'d1EdoMessage\'b4\'f2\'c9\'cf\'ca\'c7\'b7\'f1\'ca\'c7others\'b5\'c4\'b1\'ea\'ca\'b6\'a3\'ac\'c0\'cf\'b5\'c4INBOX\'b0\'fc\'ba\'ac\'cf\'d6\'d4\'da\'b5\'c4Primary\'ba\'cdothers\'c1\'bd\'b8\'f6\'d7\'d3\'bc\'af\
\'d5\'e2\'d0\'a9unibox\'b6\'bc\'ca\'c7inbox\'b5\'c4\'a3\'ac\'b3\'fd\'c1\'cbsent\'a3\'ac\'c3\'bb\'d3\'d0\'c6\'e4\'cb\'fbfolder\'b5\'c4\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 let
\f0\b0 \cf2  UNIBOX_FOLDER_TYPE:[\cf5 FolderType\cf2 ] = [.\cf6 AllInboxes\cf2 , .\cf6 Flagged\cf2 , .\cf6 Today\cf2 , .\cf6 Unread\cf2 , .\cf6 Attachments\cf2 , .\cf6 AllArchive\cf2 , .\cf6 AllSent\cf2 ] 
\f4\i \cf9 //
\f1\i0 \'d6\'bb\'d3\'d0\'d5\'e2\'d0\'a9
\f4\i folder
\f1\i0 \'bf\'c9\'d2\'d4\'d7\'f6
\f4\i unibox
\f1\i0 \cf2 \

\f3\b \cf4 let
\f0\b0 \cf2  UniboxIds: [\cf7 String\cf2 ] = [\cf5 FolderType\cf2 .\cf6 AllInboxes\cf2 .\cf5 rawValue\cf2 , \cf5 FolderType\cf2 .\cf6 Flagged\cf2 .\cf5 rawValue\cf2 , \cf5 FolderType\cf2 .\cf6 Today\cf2 .\cf5 rawValue\cf2 , \cf5 FolderType\cf2 .\cf6 Unread\cf2 .\cf5 rawValue\cf2 , \cf5 FolderType\cf2 .\cf6 Attachments\cf2 .\cf5 rawValue\cf2 , \cf5 FolderType\cf2 .\cf6 AllArchive\cf2 .\cf5 rawValue\cf2 , \cf5 FolderType\cf2 .\cf6 AllSent\cf2 .\cf5 rawValue\cf2 ]
\f2\fs24 \cf0 \

\f1\fs26 \cf2 \
UNIBOX_FILTER\'a3\'ba\'a3\'a8EdoKVO\'b1\'ed\'d6\'d0\'b5\'c4\'a3\'a9\
\{\'a1\'b0Today":["imap.qq.com:2549425200","imap.gmail.com:lucky20191123@gmail.com"],"Flagged":["imap.qq.com:2549425200","imap.gmail.com:lucky20191123@gmail.com"],"All Inboxes":["imap.qq.com:2549425200","imap.gmail.com:lucky20191123@gmail.com"],"Unread":["imap.qq.com:2549425200","imap.gmail.com:lucky20191123@gmail.com"],"All Archive":["imap.qq.com:2549425200","imap.gmail.com:lucky20191123@gmail.com"],"All Sent":["imap.qq.com:2549425200","imap.gmail.com:lucky20191123@gmail.com"],"Attachments":["imap.qq.com:2549425200","imap.gmail.com:lucky20191123@gmail.com"]\}\
\'d4\'da\'d5\'cb\'ba\'c5\'b5\'c4\'c9\'e8\'d6\'c3\'bd\'e7\'c3\'e6\'a3\'ac\'c8\'e7\'b9\'fb\'c9\'e8\'d6\'c3\'d5\'e2\'b8\'f6group folder(mailbox)\'d4\'daINBOX\'d6\'d0\'b2\'bb\'cf\'d4\'ca\'be\'a3\'ac\'d4\'f2UNIBOX_FILTER\'d6\'d0\'be\'cd\'b0\'d1\'b6\'d4\'d3\'a6\'b5\'c4INBOX\'cf\'c2\'b5\'c4\'d5\'e2\'b8\'f6\'d5\'cb\'ba\'c5\'c8\'a5\'b5\'f4\'c1\'cb\
\
\'d4\'daGmailAdapter\'ba\'cdIMAPAdapter\'d6\'d0\'b6\'bc\'d3\'d0search\'b7\'bd\'b7\'a8\'a3\'a8
\f0 fetchIDsByThread
\f1 \'d6\'d0\'b5\'f7\'d3\'c3\'a3\'a9\'a3\'ac\'cb\'fb\'c3\'c7\'b8\'f7\'d7\'d4\'b7\'b5\'bb\'d8\'b5\'c4MsgIdInfo\'b5\'c4msgId\'d7\'d6\'b6\'ce\'d6\'d0\'b7\'d6\'b1\'f0\'b4\'e6\'b7\'c5GmailId\'ba\'cduid\'a3\'ac\'c6\'e4\'d6\'d0gmail\'b5\'c4msgInfo\'d6\'d0\'b5\'c4uid\'ce\'aa0\'a3\'ac\'d4\'dasearch\'b7\'b5\'bb\'d8\'b5\'c4\'bd\'e1\'b9\'fb\'d6\'d0\'a3\'a8\'b1\'c8\'c8\'e7\'ca\'c7MsgIdInfo\'bd\'e1\'b9\'b9\'a3\'a9\'a3\'ac\'c8\'e7\'b9\'fb\'d4\'d9\'bc\'cc\'d0\'f8\'b5\'f7\'d3\'c3\'b2\'bb\'cd\'acAdapter\'b5\'c4\'b7\'bd\'b7\'a8\'a3\'ac\'d4\'da\'b2\'bb\'cd\'ac\'b5\'c4Adapter\'d6\'d0\'be\'cd\'bb\'e1\'c8\'a1\'b8\'f7\'d7\'d4\'b5\'c4id\'a3\'ac\'b1\'c8\'c8\'e7\'d4\'dagmail\'d6\'d0\'be\'cd\'bb\'e1\'c8\'cf\'ce\'aamsgId\'d6\'d0\'b4\'e6\'b7\'c5\'b5\'c4\'ca\'c7gmailId\'a3\'ac\'d4\'daIMAP\'d6\'d0\'be\'cd\'bb\'e1\'c8\'cf\'ce\'aamsgId\'b4\'e6\'b7\'c5\'b5\'c4\'ca\'c7path+uid\'a3\'ac\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\pard\tx593\pardeftab593\pardirnatural\partightenfactor0

\fs24 \cf2 some : 6 elements
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  0 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : Mail.BCNKey.Finished
\f2 \cf0 \

\f0 \cf2       - value : false
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  1 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : Mail.BCNKey.OperationKey
\f2 \cf0 \

\f0 \cf2       - value : "SearchOperation imap.qq.com:2549425200 INBOX  0 A 0-50"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  2 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : Mail.BCNKey.HasMore
\f2 \cf0 \

\f0 \cf2       - value : false
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  3 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : Mail.BCNKey.StartTag
\f2 \cf0 \

\f0 \cf2       - value : "9"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  4 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : Mail.BCNKey.Account
\f2 \cf0 \

\f0 \cf2       - value : "imap.qq.com:2549425200"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  5 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : Mail.BCNKey.MessageIds
\f2 \cf0 \

\f0 \cf2       \uc0\u9663  value : 10 elements
\f2 \cf0 \

\f0 \cf2         - 0 : imap.qq.com:2549425200``INBOX``64
\f2 \cf0 \

\f0 \cf2         - 1 : imap.qq.com:2549425200``INBOX``63
\f2 \cf0 \

\f0 \cf2         - 2 : imap.qq.com:2549425200``INBOX``62
\f2 \cf0 \

\f0 \cf2         - 3 : imap.qq.com:2549425200``INBOX``61
\f2 \cf0 \

\f0 \cf2         - 4 : imap.qq.com:2549425200``INBOX``60
\f2 \cf0 \

\f0 \cf2         - 5 : imap.qq.com:2549425200``INBOX``55
\f2 \cf0 \

\f0 \cf2         - 6 : imap.qq.com:2549425200``INBOX``51
\f2 \cf0 \

\f0 \cf2         - 7 : imap.qq.com:2549425200``INBOX``50
\f2 \cf0 \

\f0 \cf2         - 8 : imap.qq.com:2549425200``INBOX``45
\f2 \cf0 \

\f0 \cf2         - 9 : imap.qq.com:2549425200``INBOX``44
\fs26 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 \
Action
\f1 \'b2\'d9\'d7\'f7\'a3\'ba
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'c0\'cf\'b0\'e6\'b6\'d4\'d3\'ca\'bc\'fe\'c9\'be\'b3\'fd\'cf\'fb\'ca\'a7\'ba\'f3\'d3\'d6\'bb\'d8\'c0\'b4\'b5\'c4bug\'b5\'c4\'d0\'de\'b8\'b4\'a3\'ba\'c9\'be\'b3\'fd\'d3\'ca\'bc\'fe,\'d3\'ca\'bc\'fe\'d7\'b4\'cc\'ac\'b8\'c4\'ce\'aa
\f0 \cf5 MESSAGE_DELETE_ON_CLIENT
\f1 \cf2 ,
\f0 \
IMAP
\f1 \'b5\'c4delete\'b2\'d9\'d7\'f7\'ba\'dc\'bc\'f2\'b5\'a5\'a3\'ac\'b2\'bb\'d0\'e8\'d2\'aa\'bf\'bc\'c2\'c7gmail\'d3\'ca\'bc\'fe\'b5\'c4\'b6\'e0\'b8\'f6ref uid\'c7\'e9\'bf\'f6
\f0 \
\

\f1 \'cd\'a8\'b9\'fd
\f0 capability
\f1 \'c0\'b4\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'ca\'c7Gmail\'d3\'ca\'cf\'e4\'ca\'c7\'bf\'c9\'d0\'d0\'b5\'c4
\f0 \
delete Gmail
\f1 \'d3\'ca\'bc\'fe\'b5\'c4\'bb\'b0\'a3\'ac
\f0 inbox
\f1 \'b1\'bb\'cc\'e6\'bb\'bb\'b3\'c9
\f0 trash
\f1  label\'a3\'ac\'c9\'be\'b3\'fd\'d5\'e2\'b7\'e2\'d3\'ca\'bc\'fe\'a3\'ac\'c6\'e4\'cb\'fbfolder\'cf\'d4\'ca\'be\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ac\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'d3\'d0trash label\'bc\'b4\'bf\'c9\'a3\'ac\'b2\'bb\'d0\'e8\'d2\'aa\'d4\'d9\'b5\'a5\'b6\'c0\'b4\'e6\'b4\'a2\'d2\'bb\'b8\'f6trash label\'a3\'acspam label\
Delete\'c0\'ef\'c3\'e6\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'ca\'c7\'d4\'datrash folder\'a3\'ac\'c8\'e7\'b9\'fb\'d4\'da\'a3\'ac\'d6\'b1\'bd\'d3\'d3\'c0\'be\'c3\'c9\'be\'b3\'fd\'a3\'ac\'c8\'e7\'b9\'fb\'b2\'bb\'d4\'da\'a3\'ac\'b5\'f7\'d3\'c3trash Operation\
\
Trash\'b2\'d9\'d7\'f7\'b5\'b1\'b3\'c9\'d2\'bb\'b8\'f6move\'b2\'d9\'d7\'f7\'b5\'c4\'cc\'d8\'c0\'fd\
MessageBulkOperation\'c1\'b4\'bd\'d3\'b5\'c4\'ca\'c7\'ce\'d2\'c3\'c7\'d7\'d4\'bc\'ba\'b5\'c4sift\'b7\'fe\'ce\'f1\'c6\'f7\'c5\'fa\'c1\'bf\'c9\'be\'b3\'fd\
\
\'c0\'cf\'b0\'e6delete Operation\'c1\'f7\'b3\'cc\'a3\'ba\
1\'a1\'a2\
\
\'c0\'cf\'b0\'e6move Operation\'c1\'f7\'b3\'cc\'a3\'ba\
1\'a1\'a2\'c8\'e7\'b9\'fbdstFolderPath\'b2\'bb\'ce\'aa\'bf\'d5\'a3\'ac\'b5\'f7\'d3\'c3moveMessage\
	1.1\'a1\'a2moveMessage\'d6\'d0\'a3\'ba\'b2\'e9\'bf\'b4
\f0 capabilities
\f1 \'d6\'d0\'ca\'c7\'b7\'f1\'d6\'a7\'b3\'d6move\'c3\'fc\'c1\'ee\'a3\'ac\'d6\'a7\'b3\'d6\'b5\'f7\'d3\'c3mailcore\'b5\'c4
\f0 \cf6 moveMessagesOperation
\f1 \cf2 \'a3\'ac\'c8\'e7\'b9\'fb\'ca\'c7
\f0 archive
\f1 \'a3\'ac\'d4\'f2\'d4\'da\'bb\'d8\'b5\'f7\'d6\'d0\'b5\'f7\'d3\'c3
\f0 \cf6 setFlags-\cf2 .\cf5 seen
\f1 \cf5 \'a3\'ac\cf10 \'d7\'ee\'ba\'f3
\f0 \cf5 callback
\f1 \cf2 \
	1.2\'a1\'a2\'b2\'bb\'d6\'a7\'b3\'d6\'d4\'f2\'b5\'f7\'d3\'c3
\f0 \cf6 copyMessagesOperation
\f1 \cf2 \'a3\'ac\'d4\'da\'bb\'d8\'b5\'f7\'d6\'d0
\f0 \cf6 setFlags-\cf5 MCOMessageFlag\cf2 .\cf5 deleted
\f1 \cf2 \'a3\'ac\'d4\'dasetFlag\'bb\'d8\'b5\'f7\'d6\'d0\'d4\'d9\'b5\'f7\'d3\'c3
\f0 \cf6 expungeOperation
\f1 \cf2 \'a3\'ac\
	1.3\'a1\'a2\
2\'a1\'a2\'d4\'damoveMessage\'b5\'c4\'bb\'d8\'b5\'f7\'d6\'d0\'a3\'ac\'c8\'e7\'b9\'fberror!=nil\'d4\'f2retry\'a3\'ac\'b7\'f1\'d4\'f2
\f0 cancelSnoozeForDeletedMessages\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f5\b \cf4 \'c0\'cf\'b0\'e6\'a3\'ba
\f3 \cf4 class
\f0\b0 \cf2  TODOEntity: \cf7 NSObject\cf2  \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  type:\cf7 OperationType
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  param1:\cf7 String
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  param2:\cf7 Int
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  param3:\cf7 String\cf2 ?
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  time:\cf7 Date
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  messageIds = [String]()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  threads = [ThreadPathPair]()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  actionIds = [String]()\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f5\b \cf4 \'d0\'c2\'b0\'e6\'a3\'ba
\f3 \cf4 class
\f0\b0 \cf2  TodoAction \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  type: \cf5 ActionType\cf2  = .\cf6 none
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  conversations: [\cf5 EmailConversationInfo\cf2 ] = []
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  info: [\cf5 ActionParam\cf2 : 
\f3\b \cf4 Any
\f0\b0 \cf2 ] = [:]
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  skipValidation = 
\f3\b \cf4 false
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  time: \cf7 Date
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  folderPath: \cf7 String\cf2  = \cf8 ""\cf2  
\f4\i \cf20 //the folder in which the action is initiated
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  actionStoreMsgs = [\cf7 String\cf2 :[\cf5 MsgRestoreInfo\cf2 ]]()  
\f4\i \cf20 //[folderId:[MsgRestoreInfo]]
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  groups = [\cf7 String\cf2 : [\cf5 MsgIdInfo\cf2 ]]()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  gmailMsgPidGroup = [\cf7 String\cf2 :[\cf7 String\cf2 ]]()     
\f4\i \cf20 //accountid:[msgPid]
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  imapMsgPidGroup = [\cf7 String\cf2 :[\cf7 String\cf2 ]]()      
\f4\i \cf20 //accountid:[msgPid]
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  gmailConvsInfo = [\cf5 EmailConversationInfo\cf2 ]()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  gmailConvsInfoMap = [\cf7 String\cf2 :[\cf5 EmailConversationInfo\cf2 ]]()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  imapMsgConvsInfo = [\cf5 EmailConversationInfo\cf2 ]()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  imapConvsInfoMap = [\cf7 String\cf2 :[\cf5 EmailConversationInfo\cf2 ]]()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \cf21 #if\cf2  !\cf21 SHARE_EXTENSION
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  ops = [\cf5 BaseActOperation\cf2 ]()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \cf21 #endif\
\cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f5\b \cf4 \'c0\'cf\'b0\'e6\'a3\'ba
\f3 \cf4 open
\f0\b0 \cf2  
\f3\b \cf4 class
\f0\b0 \cf2  EdoAction :\cf7 Object\cf2   \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  pId = \cf8 ""
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  state = OP_STATE_NEW
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  retryCount = \cf12 0
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  actionType = ActionType.actionNone.rawValue
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  accountId = \cf8 ""
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  folderPath = \cf8 ""
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  msgPIds = \cf8 ""\cf2  
\f4\i \cf20 //message pId set
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  param1 = \cf8 ""\cf2   
\f4\i \cf20 // original Message PID for SaveMessage and SendMessage
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  param2 = \cf12 0\cf2    
\f4\i \cf20 // flag
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  param3 = \cf8 ""\cf2   
\f4\i \cf20 // labels, original ReplyStatus
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  shouldSkipValidation = 
\f3\b \cf4 false
\f0\b0 \cf2  
\f4\i \cf20 //Should skip action validation (e.g. actions from remote push notification)
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  originalMessagePIdSet:[\cf7 String\cf2 ]?
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  createTime = \cf12 0
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  lastUpdateTime = \cf12 0\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f5\b \cf4 \'c0\'cf\'b0\'e6\'a3\'ba
\f3 \cf4 class
\f0\b0 \cf2  BaseActOperation \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  state:\cf5 ActOpState\cf2  = .\cf6 idle
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  key = \cf8 ""
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  statusKey = \cf8 ""
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  accountId:\cf7 String
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  thsAction:\cf5 EdoTHSAction
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 let
\f0\b0 \cf2  createdAt = \cf7 Date\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  executeAt = \cf7 Date\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  retryCnt = \cf12 0\cf2  
\f4\i \cf20 //if this op is being retried from previous error
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 private(set)
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  isBurst = 
\f3\b \cf4 false
\f0\b0 \cf2  
\f4\i \cf20 //if it has the highest priority
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  openIMAP = 
\f3\b \cf4 true
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  openSMTP = 
\f3\b \cf4 false
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2     
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  actionType:\cf7 Int\cf2  = \cf12 0
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  notificationInfo:[\cf5 BCNKey\cf2 :
\f3\b \cf4 Any
\f0\b0 \cf2 ]\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f5\b \cf4 \'d0\'c2\'b0\'e6\'a3\'ba
\f3 \cf4 class
\f0\b0 \cf2  BaseActOperation \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2     
\f4\i \cf20 //basic data
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  accountId: \cf7 String\cf2  = \cf8 ""
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  folderPath: \cf7 String\cf2  = \cf8 ""
\f4\i \cf20 //EdoFolder.path
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  type: \cf5 ActionType\cf2  = .\cf6 none
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  info: [\cf5 ActionParam\cf2 : 
\f3\b \cf4 Any
\f0\b0 \cf2 ] = [:]
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  msgIds: [\cf7 String\cf2 ] = [] 
\f4\i \cf20 //EdoMessage.pId
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  messagesIdInfo: [\cf5 MsgIdInfo\cf2 ]
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  account: \cf5 AccountInfo
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  convIds:[\cf7 String\cf2 ] = []   
\f4\i \cf20 //conversation pid
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f4\i \cf20 //state date
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  key = \cf7 UUID\cf2 ().\cf7 uuidString
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  parentOpKey: \cf7 String\cf2 ?
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  statusKey = \cf8 ""
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  state: \cf5 ActOpState\cf2  = .\cf6 idle
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 let
\f0\b0 \cf2  createdAt = \cf7 Date\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  executeAt = \cf7 Date\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  retryCnt = \cf12 0\cf2  
\f4\i \cf20 //if this op is being retried from previous error
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  executionResult = \cf5 OP_STATE_NEW\cf2  
\f4\i \cf20 //Operation execute result
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  oldMsgsInfo:[\cf5 MsgIdInfo\cf2 ]
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \cf22 /////////liuhui add/////////
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  actInfo:\cf5 ActInfo
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f4\i \cf20 //var actTodoInfo:TodoAction
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f4\i \cf20 //var actInfo:TodoAction
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  broadCastCustomInfo:(type:\cf5 BCN\cf2 ,key:\cf7 String\cf2 )?
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  bcn: \cf5 BCN\cf2 ? \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  
\f3\b \cf4 nil
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2     \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  noNeedNotification = 
\f3\b \cf4 false
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  callback: ((\cf7 NSError\cf2 ?) -> ())?
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f4\i \cf20 //extra properties
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  shouldSkipValidation = 
\f3\b \cf4 false
\f0\b0 \cf2  
\f4\i \cf20 //if should skip validation before executing
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 private(set)
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  isBurst = 
\f3\b \cf4 false
\f0\b0 \cf2  
\f4\i \cf20 //if it has the highest priority
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f3\b \cf4 var
\f0\b0 \cf2  openSMTP: \cf7 Bool\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  
\f3\b \cf4 false
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2     \}
\f2\fs24 \cf0 \
\

\f0\fs26 \cf2     
\f3\b \cf4 lazy
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  adapter: \cf5 EmailAdapter\cf2  = \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\fs26 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 \'c0\'cf\'b0\'e6\'b5\'c4TodoAction\'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 1\'b8\'f6Todo\cf10 Action----n\'b8\'f6EdoAction\
1\'b8\'f6EdoAction----1\'b8\'f6BaseActOperation\
\
\'d2\'bb\'b8\'f6TODO\'d3\'d0\'b6\'e0\'b8\'f6action-actionIds\'a3\'ac\'b6\'d4\'d3\'a6messageIds\'ca\'fd\'d7\'e9\'a3\'acthreads\'a3\'actype\'a3\'actime\'a3\'ac\
\cf2 \'c3\'bf\'b8\'f6action\'ca\'c7\'c8\'eb\'bf\'e2\'b5\'c4\'a3\'ac\'c3\'bf\'b8\'f6
\f0 EdoAction
\f1 \'c0\'e0\'d3\'d0\'d2\'bb\'b8\'f6msgPIds\'ca\'fd\'d7\'e9\'a3\'acaccountId\'a3\'acfolderPath\'a3\'acactionType,retryCount\
\'d0\'c2\'b0\'e6\'b5\'c4TodoAction\
1\'b8\'f6Todo\cf10 Action----n\'b8\'f6BaseActOperation\
\cf2 \
\'d0\'c2\'b0\'e6\'b5\'c4baseActOperation\'c0\'e0\'bc\'af\'b3\'c9\'c1\'cb\'c0\'cf\'b0\'e6baseActOperation+EdoAction\'c0\'e0\'b5\'c4\'b9\'a6\'c4\'dc\'a3\'ac\'bd\'ab\'b6\'fe\'d5\'df\'ba\'cf\'b6\'fe\'ce\'aa\'d2\'bb\
\'c0\'cf\'b0\'e6\'b5\'c4
\f0 BaseActOperation
\f1 \'d6\'d0\'d3\'d0
\f0 thsAction:\cf5 EdoTHSAction
\f1 \cf5 \'a3\'ac
\f0 \cf2 retryCnt
\f1 \'a3\'ac\cf10 \'b6\'d4\'cf\'f3\'a3\'ac\cf2 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf13 delete message\'c1\'f7\'b3\'cc\'a3\'ba\cf0 \
1\'a1\'a2
\f0 \cf6 setFlags
\f1 \cf6 \'a3\'ba
\f0 \cf5 MCOMessageFlag\cf2 .\cf5 deleted
\f1 \cf0 \
2\'a1\'a2
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 session\cf2 .\cf6 expungeOperation\cf2 (thsFolder.\cf5 path\cf2 )
\f1 \cf0 \
3\'a1\'a2message state=
\f0 \cf5 MESSAGE_DELETED
\f1 \cf0 \
4\'a1\'a2\'b5\'f7\'d3\'c3
\f0 \cf2 deleteUpdateMsgs  \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'d2\'bb\'d6\'d6\'bc\'f2\'b5\'a5\'b5\'c4\'b4\'a6\'c0\'ed\'ca\'c7\'d6\'b1\'bd\'d3\'b0\'d1\'d3\'ca\'bc\'fe\'d6\'f7\'cc\'e5\'c9\'be\'b3\'fd\'a3\'ac\'c6\'e4\'d3\'e0\'b5\'c4label\'a3\'acref\'bb\'b9\'d3\'d0folder\'d6\'d0\'b5\'c4message\'a3\'acconversation-folder list\'b6\'bc\'d0\'e8\'d2\'aa\'b8\'fc\'d0\'c2\'a3\'ac\'d5\'e2\'d0\'a9\'d4\'da
\f0 deleteUpdateMsgs
\f1 \'b7\'bd\'b7\'a8\'d6\'d0\'b6\'bc\'b4\'a6\'c0\'ed\'c1\'cb
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 \'c8\'e7\'b9\'fb\'c4\'b3\'d2\'bb\'b8\'f6thread\'d6\'d0\'b5\'c4\'d3\'ca\'bc\'feA\'b1\'bb\'c9\'be\'b3\'fd\'a3\'acA\'b1\'bb\'d2\'c6\'b5\'bdtrash\'d6\'d0\'a3\'ac\'d4\'datrash\'d6\'d0\'bf\'b4\'b2\'bb\'b5\'bd\'c6\'e4\'cb\'fb\'b5\'c4thread \'d3\'ca\'bc\'fe\'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf0 \
deleteMessage\'c8\'e7\'b9\'fb\'c4\'dc\'c8\'b7\'b6\'a8IMAPAdapter\'d6\'bb\'b4\'a6\'c0\'edIMAP\'d3\'ca\'bc\'fe\'a3\'acGmailApi\'b4\'a6\'c0\'edgmail\'d3\'ca\'bc\'fe\'a3\'ac\'d4\'f2\'d6\'bb\'bc\'f2\'b5\'a5\'b5\'c4deletemessage\'bc\'b4\'bf\'c9\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 \'cd\'a8\'b9\'fd
\f0 capability
\f1 \'c0\'b4\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'ca\'c7Gmail\'d3\'ca\'cf\'e4\'ca\'c7\'bf\'c9\'d0\'d0\'b5\'c4
\f0 \
delete Gmail
\f1 \'d3\'ca\'bc\'fe\'b5\'c4\'bb\'b0\'a3\'ac
\f0 inbox
\f1 \'b1\'bb\'cc\'e6\'bb\'bb\'b3\'c9
\f0 trash
\f1  label\'a3\'ac\'c9\'be\'b3\'fd\'d5\'e2\'b7\'e2\'d3\'ca\'bc\'fe\'a3\'ac\'c6\'e4\'cb\'fbfolder\'cf\'d4\'ca\'be\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ac\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'d3\'d0trash label\'bc\'b4\'bf\'c9\'a3\'ac\'b2\'bb\'d0\'e8\'d2\'aa\'d4\'d9\'b5\'a5\'b6\'c0\'b4\'e6\'b4\'a2\'d2\'bb\'b8\'f6trash label\'a3\'acspam label\
Delete\'c0\'ef\'c3\'e6\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'ca\'c7\'d4\'datrash folder\'a3\'ac\'c8\'e7\'b9\'fb\'d4\'da\'a3\'ac\'d6\'b1\'bd\'d3\'d3\'c0\'be\'c3\'c9\'be\'b3\'fd\'a3\'ac\'c8\'e7\'b9\'fb\'b2\'bb\'d4\'da\'a3\'ac\'b5\'f7\'d3\'c3trash Operation\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf0 \
\
\'b8\'fc\'d0\'c2message\'cf\'e0\'b9\'d8\'b5\'c44\'d5\'c5\'b1\'ed\'a3\'ba\
1\'a1\'a2
\f0 \cf2 deleteUpdateMsgs\
2
\f1 \'a1\'a2
\f0 \cf6 updateGmailIMAPRef
\f1 \cf6 /
\f0 \cf6 updateIMAPRef
\f1 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 3
\f1 \'a1\'a2
\f0 updateConvFolders
\f1 \cf0 \
\
Fetch\'d6\'d0\'b5\'f7\'b5\'c4\'ca\'c7\'a3\'ba\'b2\'ce\'ca\'fd\'d0\'e8\'d2\'aa\'a3\'ba
\f0 \cf2 messages
\f1 \'a3\'a8mailcore\'a3\'a9\'a3\'acpath\'a3\'acaccountId\'a3\'acEdofolder\'a3\'ac
\f0 isNewMessage
\f1 \cf0 \

\f0 \cf2 messages
\f1 \'ca\'c7\cf0 mailcore\'b8\'f1\'ca\'bd\'b5\'c4message\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 let
\f0\b0 \cf2  (convIds,msgIdsInfo,msgIds) = saveIMAPMessages(messages, path: path, accountId: sync.accountId)\
saveIMAPMessages
\f1 \'d6\'d0\'b5\'f7\'d3\'c3\'c1\'cb
\f0 save\
\
save(
\f3\b \cf4 _
\f0\b0 \cf2  message: \cf5 MCOIMAPMessage\cf2 , folder: \cf5 EdoFolder\cf2 , isNewMessage: \cf7 Bool\cf2  = 
\f3\b \cf4 true
\f0\b0 \cf2 , in db: \cf5 EmailDB\cf2 )->\cf5 EdoTHSMessage\cf2 ?\
Save
\f1 \'d6\'d0\'b5\'f7\'d3\'c3\'c1\'cb
\f0 \cf6 mergeWithMailcoreMsg\cf2 (inDB:db, folder:folder, msgInDB:edoMsg, mailcoreMsg:message)\

\f1 \'ba\'cd
\f0 \cf5 EmailConversation\cf2 .\cf6 add\cf2 (edoMessage,
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2                               gmailLabels: message.\cf5 gmailLabels\cf2  
\f3\b \cf4 as
\f0\b0 \cf2 ? [\cf7 String\cf2 ],
\f2\fs24 \cf0 \

\f0\fs26 \cf2                               folder: folder,
\f2\fs24 \cf0 \

\f0\fs26 \cf2                               imapUID: uid,
\f2\fs24 \cf0 \

\f0\fs26 \cf2                               in: db)\cf6 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \
update\'d6\'d0\'b5\'f7\'d3\'c3\'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 messages
\f1 \'ca\'c7\cf0 mailcore\'b8\'f1\'ca\'bd\'b5\'c4message\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 let
\f0\b0 \cf2  (updatedIdsInfo,deletedIdsInfo,convIds,msgIds) = \cf6 updateIMAPMessagesState\cf2 (messages, path: path, accountId: sync.\cf5 accountId\cf2 , localUids: uidSet)
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\fs26 \cf0 \
folder\'b5\'c4rename\'ce\'ca\'cc\'e2\'a3\'ba\
EdoFolder\'b1\'ed\'d6\'d0\'b5\'c4Pid\'d6\'d0\'ba\'ac\'d3\'d0folderName\'b2\'bb\'c4\'dc\'d0\'de\'b8\'c4\'a3\'ac\'cb\'f9\'d2\'d4\'d0\'e8\'d2\'aa\'cf\'c8\'c9\'be\'b3\'fd\'d4\'d9\'cc\'ed\'bc\'d3\'d0\'c2\'b5\'c4Folder\'a3\'ac\
Folder\'d0\'de\'b8\'c4\'c3\'fb\'d7\'d6\'ba\'f3\'a3\'acmessage\'b1\'ed\'d6\'d0\'b5\'c4pid\'d6\'d0\'d2\'f2\'ce\'aa\'ba\'ac\'d3\'d0path\'a3\'a8IMAP\'a3\'a9\'a3\'ac\'d2\'b2\'c3\'e6\'c1\'d9\'d0\'e8\'d2\'aa\'c9\'be\'b3\'fd\'d4\'d9\'cc\'ed\'bc\'d3\'a3\'acgmail\'b5\'c4messageId\'ca\'c7accountId+messageId\'a3\'ac\'b2\'bb\'d3\'c3\'c9\'be\'b3\'fd\'a3\'ac\'d6\'bb\'d0\'e8\'d2\'aa\'d0\'de\'b8\'c4ref\'d6\'d0\'b5\'c4uid\'bc\'b4\'bf\'c9\
\
\'be\'c9\'b0\'e6folder rename \'ce\'ca\'cc\'e2\'a3\'ba\
folder rename\'ba\'f3\'a3\'acpath\'b1\'e4\'c1\'cb\'a3\'ac\'be\'c9\'b0\'e6\'b5\'c4IMAP\'ba\'cdGmail\'d3\'ca\'bc\'fe\'b6\'bc\'ca\'c7\'d2\'d4uid\'ce\'aapid\'b5\'c4\'a3\'ac\'cb\'f9\'d2\'d4\'b6\'bc\'d0\'e8\'d2\'aa\'c9\'be\'b3\'fd\'a3\'acgmail\'d3\'ca\'bc\'fe\'b2\'bb\'c9\'be\'b3\'fd\'d2\'b2\'b2\'bb\'ca\'c7\'ce\'aa\'c1\'cb\'c1\'f4\'d7\'c5merge\'b2\'d9\'d7\'f7\
\'be\'c9\'b0\'e6\'bd\'e1\'ca\'f8\'ca\'b1\'b5\'f7\'d3\'c3
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 finished\cf2 (\cf5 OP_STATE_FINISH\cf2 )
\f1 \cf0 \'ba\'f3\cf2 \'b2\'bb\'d0\'e8\'d2\'aa\'d4\'d9\'bd\'d3\'d7\'c5\'b5\'f7\'d3\'c3
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 broadCast\cf2 (error)
\f1 \'c1\'cb\cf0 \'a3\'ac\'d2\'f2\'ce\'aa
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 finished
\f1 \cf6 \'d6\'d0\'d2\'d1\'be\'ad\'b5\'f7\'d3\'c3\'c1\'cb\cf0 \'a3\'ac\
\
\'d0\'c2\'b0\'e6folder rename\'c1\'f7\'b3\'cc\'a3\'ba\
1\'a1\'a2folder rename\
2\'a1\'a2\'bb\'d8\'b5\'f7\'d6\'d0\'b6\'d4\'d3\'daIMAP\'d3\'ca\'bc\'fe\'c9\'be\'b3\'fd\'a3\'ac\'b6\'d4\'d3\'dagmail\'d3\'ca\'bc\'fe\'a3\'ac\'d0\'de\'b8\'c4\'b6\'d4\'d3\'a6\'b5\'c4ref\
3\'a1\'a2\'b8\'fc\'d0\'c24\'d5\'c5\'b1\'ed\'a3\'bathread-folders\'a3\'a8Conversation\'b1\'ed\'a3\'a9\'a3\'acthread-message\'a3\'a8message\'b1\'ed\'a3\'a9\'a3\'acfolder-message\'a3\'a8folder\'b1\'ed\'a3\'a9\'a3\'acmessage-ref\'a3\'a8EdoIMAPRef\'b1\'ed\'a3\'a9\
\
\'d4\'damessage\'b1\'ed\'d6\'d0\'bc\'d3\'d2\'bb\'b8\'f6provider\'d7\'d6\'b6\'ce\'c0\'b4\'bd\'e2\'be\'f6msg\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'ca\'c7gmail\'b5\'c4\'ce\'ca\'cc\'e2\'a3\'ac\
save\'b7\'bd\'b7\'a8\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 fetch\'b5\'c4save\'b2\'d9\'d7\'f7\'a3\'ba\cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf10 1
\f1 \'a1\'a2
\f0 mergeWithMailcoreMsg\
	Gmail
\f1 :
\f0 \
	1.1
\f1 \'a1\'a2
\f0 updateGmailIMAPRef\'97\
		1.1.0
\f1 \'a1\'a2
\f0 label
\f1 \'d3\'b3\'c9\'e4\'b5\'bd
\f0 path
\f1 \'a3\'ac
\f0 remove
\f1 \'d2\'d1\'be\'ad\'c9\'be\'b3\'fd\'b5\'c4
\f0 label
\f1 \'a3\'acupdate\'b5\'b1\'c7\'b0path\'b5\'c4uid\'a3\'ac\'cd\'a8\'b9\'fdref\'d2\'c6\'b3\'fdfolder\'d6\'d0\'b5\'c4message-
\f0 removeFolderMsgsByRef(removedRefs, in:db)
\f1 \'a3\'acadd\'cc\'ed\'bc\'d3\'b5\'c4label-
\f0 db.add(newRefs)
\f1 \'a3\'ac
\f3\b if
\f0\b0  newRefs.count > 0
\f1 \'a3\'ac\'cd\'a8\'b9\'fdref\'b0\'d1message\'cc\'ed\'bc\'d3\'b5\'bdfolder\'b1\'ed\'d6\'d0-
\f0 addFolderMsgsByRef
\f1 /else \'cd\'a8\'b9\'fdpath\'b0\'d1message\'cc\'ed\'bc\'d3\'b5\'bdfolder\'b1\'ed\'d6\'d0-
\f0 addFolderMsgByPath\
		1.1.1
\f1 \'a1\'a2\'b8\'fc\'d0\'c2message-ref\'b1\'ed\'a3\'a8ref\'b1\'ed\'a3\'a9\'a3\'ac
\f0 db.add(newRefs)
\f1 \

\f0 		1.1.2
\f1 \'a1\'a2\'b8\'fc\'d0\'c2folder-message\'b1\'ed\'a3\'a8folder\'b1\'ed\'a3\'a9-
\f0 addFolderMsgsByRef\
	1.2
\f1 \'a1\'a2
\f0 updateConvFolders\
		1.2.1
\f1 \'a1\'a2Conversation\'d2\'d1\'be\'ad\'b4\'e6\'d4\'da\'d2\'aa\'b8\'fc\'d0\'c2\'d6\'d8\'bd\'a8-
\f0 rebuildFoldersOfConv\'97
\f1 \'ce\'ac\'bb\'a4thread-folders\'b1\'ed\'a1\'aa
\f0 conv2.folders.append(folder)
\f1 \'a3\'ac\'d6\'d8\'bd\'a8thread\'b1\'ed
\f0 \
		1.2.2
\f1 \'a1\'a2Conversation\'b2\'bb\'b4\'e6\'d4\'da\'d2\'aa\'d0\'c2\'bd\'a8-
\f0 EmailConversation.addCurrFolderInNewConv\'97
\f1 \'d0\'c2\'d4\'f6
\f0 Conversation
\f1 \'b1\'ed\'a3\'ac\'ce\'ac\'bb\'a4thread-folders\'b1\'ed\'a3\'ac
\f0 db.add(conv)
\f1 \'a3\'ac	
\f0 conv.folders.append(folder)\
\
	IMAP:\
	1.3
\f1 \'a1\'a2
\f0 updateIMAPRef\
		1.3.0
\f1 \'a1\'a2
\f0 update uid
\f1 \'a3\'ac\'d5\'d2\'b5\'bd\'c1\'cb\'b8\'fc\'d0\'c2\'c1\'cb\'d4\'f2\'b7\'b5\'bb\'d8\'a3\'ac\'c3\'bb\'b8\'fc\'d0\'c2\'d4\'f2remove uid\'a3\'acadd new ref\'a3\'acadd message to folder-
\f0 addFolderMsgsByRef\
		1.3.1
\f1 \'a1\'a2\'b8\'fc\'d0\'c2message-ref\'b1\'ed\'a3\'a8ref\'b1\'ed\'a3\'a9\'a3\'ac
\f0 db.add(ref)\
		1.3.2
\f1 \'a1\'a2\'b8\'fc\'d0\'c2folder-message\'b1\'ed\'a3\'a8folder\'b1\'ed\'a3\'a9-
\f0 addFolderMsgsByRef\
	1.4
\f1 \'a1\'a2
\f0 EmailConversation.addCurrFolderInConv\cf6 \
\
\cf10 2
\f1 \'a1\'a2
\f0 EmailConversation.add
\f1 \'a3\'ba\
	2.1\'a1\'a2\'cc\'ed\'bc\'d3message\'b1\'ed-
\f0 db.add(msg)
\f1 -\'a3\'a8message\'b1\'ed\'a3\'a9\
	2.2\'a1\'a2Gmail:
\f0 updateGmailIMAPRef/updateIMAPRef\'97
\f1 message-ref\'b1\'ed\'a3\'a8ref\'b1\'ed\'a3\'a9\'ba\'cdfolder-message\'b1\'ed\'a3\'a8folder\'b1\'ed\'a3\'a9\
	2.3\'a1\'a2IMAP:
\f0 updateConvFolders/addCurrFolderInConv
\f1 \cf0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 update\'b5\'c4
\f0 updateIMAPMessagesState
\f1 \'b2\'d9\'d7\'f7\'a3\'ba\cf0 \
1\'a1\'a2\'bb\'f1\'c8\'a1\'d2\'aa\'c9\'be\'b3\'fd\'b5\'c4
\f0 \cf2 deletedMsgs
\f1 \'a3\'ac\'d2\'aa\'c9\'be\'b3\'fd\'b5\'c4gmail
\f0  message
\f1 \'a3\'ba
\f0 deletedGmailMsgs
\f1 \'a3\'ac\'d6\'bb\'d0\'e8\'d2\'aa\'c9\'be\'b3\'fd
\f0 ref
\f1 \'b5\'c4
\f0 msg
\f1 \'a3\'a8gmail\'d3\'d0\'b6\'e0\'b8\'f6ref\'a3\'a9\'a3\'ba
\f0 deletedRefMsgs
\f1 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 2
\f1 \'a1\'a2
\f0 deleteUpdateMsgs
\f1 \'b8\'f9\'be\'dd\'ca\'c7\'b7\'f1\'ca\'c7gmail\'a3\'ac\'b4\'ab\'b5\'dd
\f0 deletedGmailMsgs
\f1 \'bb\'f2
\f0 deletedMsgs\
	2.1
\f1 \'a1\'a2\'b8\'f9\'be\'ddthreadId\'b9\'e9\'b2\'a2message
\f0 \
	2.2
\f1 \'a1\'a2IMAP\'b5\'c4\'bb\'b0\'a3\'ba1\'a1\'a2\'c9\'be\'b3\'fdref\'a3\'ac 2\'a1\'a2\'c9\'be\'b3\'fdmessage\'a3\'ac 3\'a1\'a2\'b4\'d3folder\'d6\'d0\'c9\'be\'b3\'fdmessage\'a3\'ac4\'a1\'a2\'c9\'be\'b3\'fdConversation\

\f0 	2.3
\f1 \'a1\'a2Gmail\'b5\'c4\'bb\'b0\'a3\'ba1\'a1\'a2\'c8\'e7\'b9\'fbthread\'d6\'d0\'ca\'a3\'d3\'e0\'b5\'c4msg==0\'a3\'ac\'c9\'be\'b3\'fdref\'a3\'ac\'c9\'be\'b3\'fdmsg\'a3\'ac\'b4\'d3folder\'d6\'d0\'c9\'be\'b3\'fdmsg\'a3\'ac\'c9\'be\'b3\'fdconv\'a3\'bb\
				   2\'a1\'a2\'c8\'e7\'b9\'fbthread\'d6\'d0\'ca\'a3\'d3\'e0\'b5\'c4msg >0,  \'c9\'be\'b3\'fdref\'a3\'ac\'c9\'be\'b3\'fdmsg\'a3\'ac \'b4\'d3folder\'d6\'d0\'c9\'be\'b3\'fdmsg\'a3\'ac\'d6\'d8\'bd\'a8conv\'ba\'cdfolder\'b5\'c4\'b9\'d8\'cf\'b5- 
\f0 \cf6 rebuildFoldersOfConv
\f1 \cf0 \
3\'a1\'a2\'cb\'f9\'d3\'d0\'b5\'c4msg update-
\f0 \cf2 msgs.\cf19 forEach
\f1 \cf0 \
	
\f0 \cf2 3.1
\f1 \'a1\'a2\'c5\'d0\'b6\'cfflag\'d7\'d6\'b6\'ce\'ca\'c7\'b7\'f1\'d2\'bb\'d6\'c2\cf0 \
	
\f0 \cf2 3.2
\f1 \'a1\'a2\'c5\'d0\'b6\'cflabel/path\'ca\'c7\'b7\'f1\'b1\'e4\'bb\'af\'a3\'ba
\f0 msgInDB.\cf6 msgLabelsChanged
\f1 \cf10 \'a3\'ac\'c8\'e7\'b9\'fb\'b6\'bc\'ce\'de\'b1\'e4\'bb\'af\'a3\'ac\'b7\'b5\'bb\'d8\cf2 \
	
\f0 3.3
\f1 \'a1\'a2\'c8\'e7\'b9\'fb\'d3\'d0\'b1\'e4\'bb\'af\'a3\'ac\'b8\'fc\'d0\'c2-
\f0 \cf5 EmailConversation\cf2 .\cf6 update
\f1 \cf2 \
		
\f0 3.3.1
\f1 \'a1\'a2\'bd\'abserver\'b5\'c4flag\'c9\'e8\'d6\'c3\'b5\'bdmsg\'c9\'cf\
		
\f0 3.3.2
\f1 \'a1\'a2\'c8\'e7\'b9\'fb\'d3\'d0delete flag\'a3\'ac\'d0\'e8\'d2\'aa
\f0 Expunge
\f1 \'a3\'ac\'c9\'be\'b3\'fdmessage-
\f0 msg.\cf5 state\cf2  = \cf5 MESSAGE_DELETED
\f1 \cf2 \'a3\'ac\'b5\'f7\'d3\'c3
\f0 \cf6 deleteUpdateMsgs
\f1 \cf2 \
		
\f0 3.3.1
\f1 \'a1\'a2\'ca\'c7gmail\'a3\'ac
\f0 \cf6 updateGmailIMAPRef/IMAP
\f1 \cf6 \'d3\'ca\'bc\'fe\'a3\'ac
\f0 \cf6 updateIMAPRef
\f1 \cf2 \
		
\f0 3.3.1
\f1 \'a1\'a2\'b8\'fc\'d0\'c2conv\'ba\'cdfolder\'b5\'c4\'b9\'d8\'cf\'b5\'a3\'ac
\f0 \cf6 updateConvFolders
\f1 \cf6 \'a3\'a8conv\'b4\'e6\'d4\'da
\f0 \cf6 rebuildFoldersOfConv
\f1 \cf6 /\'b2\'bb\'b4\'e6\'d4\'da
\f0 \cf6 addCurrFolderInNewConv
\f1 \cf6 \'a3\'a9\cf0 \
4\'a1\'a2
\f0 \cf2 deletedRefMsgs.\cf19 forEach
\f1 \cf0 \
	
\f0 \cf2 4.1
\f1 \'a1\'a2\'d2\'c6\'b3\'fdref-
\f0 \cf6 removeRefByPath\
\cf2 	4.2
\f1 \'a1\'a2\'b4\'d3folder\'d6\'d0\'d2\'c6\'b3\'fdmsg-
\f0 \cf6 removeFolderMsgByPath
\f1 \cf2 \

\f0 	4.3
\f1 \'a1\'a2\'b8\'fc\'d0\'c2thread-folder(conv)\'b1\'ed-
\f0 \cf6 updateConvFolders
\f1 \cf2 \

\f0 		4.3.1
\f1 \'a1\'a2\'c8\'e7\'b9\'fbconv\'b4\'e6\'d4\'da\'a3\'ac
\f0 \cf6 rebuildFoldersOfConv
\f1 \cf2 \

\f0 		4.3.2
\f1 \'a1\'a2\'c8\'e7\'b9\'fbconv\'b2\'bb\'b4\'e6\'d4\'da\'a3\'ac
\f0 \cf6 addCurrFolderInNewConv
\f1 \cf0 \
\
\'d7\'a2\'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf10 addCurrFolderInConv
\f1 \'c0\'ef\'c3\'e6\'c6\'e4\'ca\'b5\'b0\'fc\'ba\'ac\'c1\'cb
\f0 addCurrFolderInNewConv
\f1 \'b5\'c4\'ca\'b5\'cf\'d6\'a3\'ac\'d2\'d4\'ba\'f3\'d0\'e8\'d2\'aa\'ba\'cf\'b2\'a2\'d4\'da\'d2\'bb\'c6\'f0\cf0 \
\
\'c0\'cf\'b0\'e6moveMessage\'b5\'c4\'c1\'f7\'b3\'cc\'a3\'ba\
1\'a1\'a2\'b5\'f7\'d3\'c3
\f0 \cf6 moveMessages
\f1 \cf0 \'a3\'a8\'bb\'f1\'c8\'a1srcFolder\'ba\'cddstFolder\'a3\'a9\
	1
\f0 \cf2 .
\f1 \cf0 1\'a1\'a2moveMessage\'d6\'d0\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'d6\'a7\'b3\'d6moveCommand\'a3\'ac\'d3\'c3
\f0 \cf2 capabilities
\f1 \'c0\'b4\'c5\'d0\'b6\'cf\'a3\'ac
\f0 supportMoveCommand\
	1.2
\f1 \'a1\'a2\'d6\'a7\'b3\'d6
\f0 move Command
\f1 \'a3\'ac\'b5\'f7\'d3\'c3
\f0 movemessage
\f1 \'a3\'ac\'b2\'bb\'d6\'a7\'b3\'d6\'a3\'ac\'b5\'f7\'d3\'c3
\f0 \cf6 copyMessagesOperation
\f1 \cf6 \'ba\'f3\cf2 \'a3\'ac\'c9\'e8\'d6\'c3delete flag\'ba\'f3\'c9\'be\'b3\'fdmessage\
	1
\f0 .
\f1 3\'a1\'a2\cf0 \'d4\'da\'b3\'c9\'b9\'a6\'b5\'c4\'bb\'d8\'b5\'f7\'d6\'d0\'a3\'ac\'c8\'e7\'b9\'fb\'ca\'c7archive\'a3\'ac\'d4\'f2\'c9\'e8\'d6\'c3\'d2\'d1\'b6\'c1\'b1\'ea\'ca\'b6-
\f0 \cf2 .\cf5 seen
\f1 \cf2 \
2\'a1\'a2\'d4\'damoveMessage\'b5\'c4\'bb\'d8\'b5\'f7\'d6\'d0\'c9\'be\'b3\'fdmessage--
\f0 \cf6 updateMsgsState\cf2 (msgIds, state: \cf5 MESSAGE_DELETED\cf2 )\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \'d0\'c2\'b0\'e6moveMessage\'b5\'c4\'c1\'f7\'b3\'cc\'a3\'ba\
Gmail\'a3\'ba1\'a1\'a2move\'b2\'d9\'d7\'f7\'b7\'b5\'bb\'d8\'d6\'ae\'ba\'f3\'a3\'ac\'bb\'e1\'b7\'b5\'bb\'d8\'d0\'c2\'b5\'c4uid\'a3\'ac
\f0 \cf2 deleteUpdateMsgs
\f1 \
	    2\'a1\'a2\cf0 \'c9\'be\'b3\'fd\'be\'c9\'b5\'c4ref path\'a3\'ac\'cd\'ac\'ca\'b1\'bc\'d3\'c9\'cf\'d0\'c2\'b5\'c4ref path\'a3\'ac\'b5\'f7\'d3\'c3
\f0 \cf2 updateGmailIMAPRef(gmailLabels: [\cf7 String\cf2 ]? = 
\f3\b \cf4 nil
\f0\b0 \cf2 , path:\cf7 String\cf2 ,uid: \cf7 Int\cf2 , in db: \cf5 EmailDB\cf2 )\{\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'b2\'ce\'ca\'fd\'ce\'aa\'c8\'a5\'b5\'f4srcPath\'b2\'a2\'c7\'d2\'bc\'d3\'c9\'cfdstPath\'b5\'c4path\'ca\'fd\'d7\'e9\'a3\'a8\'b4\'d3ref\'b1\'ed\'d6\'d0\'c8\'a1\'a3\'a9\cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 IMAP
\f1 \'a3\'ba1\'a1\'a2\'b0\'d1message\'d6\'d0\'b5\'c4uid\'ba\'cdpath\'b8\'fc\'d0\'c2\'ce\'aa\'d0\'c2\'b5\'c4uid\'ba\'cdpath\'a3\'ac\
	   2\'a1\'a2
\f0 updateIMAPRef(folderPath: \cf7 String\cf2 ,uid: \cf7 Int\cf2 ,in db: \cf5 EmailDB\cf2 )
\f1 \'a3\'bb
\f0 folderPath
\f1 \'ce\'aa
\f0 dst path
\f1 \'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 updateGmailIMAPRef
\f1 \'ca\'c7\'b8\'fc\'d0\'c2message-
\f0 ref
\f1 \'a3\'a8EdoRef\'b1\'ed\'a3\'a9\'ba\'cd\cf0 folder-message\'b1\'ed\'a3\'a8EdoFolder\'b1\'ed\'a3\'a9\
\'b8\'fc\'d0\'c2thread-folder\'d6\'ae\'bc\'e4\'b5\'c4\'b9\'d8\'cf\'b5\'b1\'ed-Conversation\'b1\'ed\
\'b8\'fc\'d0\'c2thread-message\'a3\'a8message\'b1\'ed\'a3\'a9\
\
\'cf\'c8\'b8\'fc\'d0\'c2message\'b1\'ed\'a3\'acIMAP\'d0\'e8\'d2\'aadelete/clone/add message\'a3\'acupdate uid\'a3\'acpath\'a3\'acmsgId\'a3\'acthreadId\'a3\'acconv\'a3\'bf action\'a3\'bf add msg to conv\'a3\'a8\'d0\'c2\'bd\'a8conv\'a3\'a9\'a3\'bb gmail message\'b2\'bb\'d0\'e8\'d2\'aa\'b8\'fc\'d0\'c2message\'b1\'be\'cc\'e5\
\'d4\'d9\'b8\'fc\'d0\'c2ref\'b1\'ed\'a3\'acIMAP\'d0\'e8\'d2\'aa\'c9\'be\'b3\'fd\'d4\'d9\'cc\'ed\'bc\'d3ref\'a3\'acgmail\'d0\'e8\'d2\'aa\'b1\'c8\'b6\'d4\'c1\'bd\'b8\'f6path\'bc\'af\'ba\'cf\'a3\'ac\'c9\'be\'b3\'fd/\'cc\'ed\'bc\'d3ref,move\'b5\'c4\'ca\'b1\'ba\'f2gmail\'b2\'bb\'d0\'e8\'d2\'aa\'c9\'be\'b3\'fdmessage\'b1\'be\'cc\'e5\'a3\'ac\'d6\'c1\'c9\'d9\'d3\'d0\'d2\'bb\'b8\'f6 \'d4\'f2\'b2\'bb\'d0\'e8\'d2\'aa\'c5\'d0\'b6\'cf
\f0 \cf2 remainConvMsg
\f1 \'ca\'c7\'b7\'f1\'ce\'aa
\f0 0
\f1 \'a3\'ac\'d4\'da
\f0 trash
\f1 \'d6\'d0\'c9\'be\'b3\'fd\'ca\'b1\'a3\'ac\'d0\'e8\'d2\'aa\'c9\'be\'b3\'fdmsg\'b1\'be\'cc\'e5\'a3\'ac\'b1\'c8\'b6\'d4
\f0 remainConvMsg
\f1 \'ca\'c7\'b7\'f1\'ce\'aa
\f0 0
\f1 \'a3\'ac\cf0 \
\'d4\'d9\'b8\'fc\'d0\'c2folder\'b1\'ed\'a3\'a8\'d4\'dachangeIMAPRef\'d6\'d0\'d7\'f6\'b9\'fd\'c1\'cb\'a3\'a9\'a3\'ac\'bd\'d3\'c9\'cf\'a3\'ac\'c8\'e7\'b9\'fbIMAP\'d3\'d0\'c9\'be\'b3\'fd\'a3\'ac\'d4\'f2removeFromFolder\'a3\'ac\'d3\'d0\'cc\'ed\'bc\'d3\'d4\'f2addMsgToFolder\'a3\'bbgmail\'d2\'b2\'ca\'c7\'cf\'e0\'cd\'ac\
\'d7\'ee\'ba\'f3\'b8\'fc\'d0\'c2Conversation\'b1\'ed\'a3\'a8conv\'d6\'d0\'b0\'fc\'ba\'ac\'c4\'c4\'d0\'a9folder\'a3\'a9\'a3\'ac\'b4\'cb\'ca\'b1message\'b9\'d8\'c1\'aa\'b5\'c4folder\'d0\'c5\'cf\'a2\'ca\'c7\'b6\'d4\'b5\'c4\'a3\'ac\'d0\'e8\'d2\'aa\'d6\'d8\'bd\'a8conv\'d6\'d0\'b5\'c4folder\'ca\'fd\'d7\'e9(IMAP\'b5\'c4conv\'d2\'f2\'ce\'aa\'d4\'da\'cc\'ed\'bc\'d3message\'b5\'c4\'ca\'b1\'ba\'f2\'d2\'d1\'be\'ad\'b4\'b4\'bd\'a8\'c1\'cb\'a3\'ac\'cb\'f9\'d2\'d4\'b4\'cb\'b4\'a6\'b2\'bb\'d0\'e8\'d2\'aa\'d6\'d8\'d0\'c2\'b4\'b4\'bd\'a8)\
\

\f0 \cf2 uidsMap
\f1 \'ca\'c7
\f0 [oldUid:newUid]
\f1 \'b5\'c4\'d7\'d6\'b5\'e4
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \
\
\
moveMessage\'d6\'b1\'bd\'d3\'b5\'f7
\f0 \cf2 deleteUpdateMsgs
\f1 \'a3\'bf\'a3\'bf\'d6\'bb\'d3\'d0\'c9\'be\'b3\'fdsrc path\'a3\'ac\'c3\'bb\'b0\'ec\'b7\'a8\'cc\'ed\'bc\'d3dst path\cf0 \
\'d3\'ca\'bc\'fe\'ca\'c7\'b7\'f1\'cf\'d4\'ca\'be\'b5\'c4filter\'cc\'f5\'bc\'fe\'b5\'a5\'b6\'c0\'d0\'b4\'b3\'c9\'d2\'bb\'b8\'f6\'b7\'bd\'b7\'a8\'a3\'ac\'bb\'f2\'d5\'df\'b3\'a3\'c1\'bf\'a3\'ac\'bf\'c9\'d2\'d4\'b8\'f7\'b8\'f6\'b5\'d8\'b7\'bd\'d2\'fd\'d3\'c3\'a3\'ac\'b1\'c8\'c8\'e7SHOW_FILTER=\'a1\'b0!=MESSAGE_DELETE AND !=MESSAGE_DELETE_ON_CLIENT AND label!= trash\'a1\'b1\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 deleteUpdateMsgs-
\f1 \'a1\'b7\cf0 updateMessage\
UpdateIMAPRef(old path, new path)\

\f0 \cf2 updateGmailIMAPRef(gmailLabels: [\cf7 String\cf2 ]? = 
\f3\b \cf4 nil
\f0\b0 \cf2 ,gmaillabel
\f1 \'b1\'e4\'b3\'c9
\f0 Path Array
\f1 \'a3\'ac\'d0\'e8\'d2\'aa\'cf\'c8\'b4\'d3DB\'d6\'d0\'b6\'c1\'c8\'a1\cf0 \
\'ca\'e4\'c8\'eb\'b2\'ce\'ca\'fd\'bf\'c9\'d2\'d4\'ca\'c7[message]\'a3\'acold path new path\

\f0 \cf2 updateConvFolders:[msg], old path, new path\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \
\'b2\'bb\'d0\'e8\'d2\'aadeletemessage\'a3\'ac\'d6\'bb\'ca\'c7\'b0\'d1path\'b8\'c4\'b9\'fd\'c0\'b4\'a3\'ac\
ref\'b1\'ed\'b5\'c4msgId\'a3\'acpath\'a3\'acuid\'d2\'aa\'b8\'c4\'a3\'ac\'b9\'d8\'c1\'aa\'b5\'c4message\'d6\'d0\'b5\'c4path\'ba\'cduid\'d2\'aa\'b8\'c4\'a3\'acmessageId\'c4\'bf\'c7\'b0\'ca\'c7\'d3\'c3path+uid\'b1\'ea\'ca\'b6\'b5\'c4\'a3\'ac\'d0\'e8\'d2\'aa\'b8\'c4\'ce\'aauuid\
\
message-Conversation\'b9\'d8\'cf\'b5\'b1\'ed\'a3\'a8message\'b1\'ed\'a3\'a9\'a3\'ac\'d4\'damove\'b5\'c8\'b2\'d9\'d7\'f7\'ca\'b1\'a3\'acgmail message\'b5\'c4conv\'b2\'bb\'b1\'e4\'a3\'acIMAP\'b5\'c4conv\'cb\'e6\'d7\'c5path\'ba\'cduid\'b1\'e4\'bb\'af\'b6\'f8\'b8\'c4\'b1\'e4\'a3\'ac\
\
IMAP message\'c3\'bb\'b4\'d3folder\'b1\'ed\'d6\'d0\'d2\'c6\'b3\'fd\
\
IMAP\'b5\'c4message clone\'c1\'cb\'d6\'ae\'ba\'f3\'a3\'acref\'ba\'cdconv\'d6\'d0\'d2\'fd\'d3\'c3\'b5\'c4\'be\'cd\'b2\'bb\'ca\'c7\'d4\'ad\'c0\'b4\'b5\'c4\'c4\'c7\'b8\'f6message\'c1\'cb\'a3\'ac\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 \'c9\'fa\'b3\'c9
\f0 MsgIdEdoMessage.generateMsgId
\f1 \cf0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf6 updateConvFolders\cf2 (accountId:accountId,threadId:threadId, folder: folder,msg, in:db)\
\cf6 addCurrFolderInConv\cf2 (accountId:accountId,threadId:threadId, folder:folder,msg, in: db)\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \
Pid\'b8\'c4\'d4\'ec\'a3\'ba\
EdoMessage\'b1\'ed\'a3\'ac
\f0 \cf8 "\cf2 \\\cf8 (\cf2 accountId\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )\cf2 \\\cf8 (\cf2 path\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )\cf2 \\\cf8 (\cf2 id\cf8 )" \cf10 gmailId
\f1 \'a3\'ba
\f0 \cf8 "\cf2 \\\cf8 (\cf2 accountId\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )\cf2 \\\cf8 (\cf2 path\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )0x\cf2 \\\cf8 (\cf2 id\cf8 )"  \cf10 exchangeId
\f1 \'a3\'ba
\f0 \cf8 "\cf2 \\\cf8 (\cf2 accountId\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )\cf2 \\\cf8 (\cf2 path\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )eid=\cf2 \\\cf8 (\cf2 id\cf8 )"\

\f1 \cf0 \
EdoFolder\'b1\'ed\'a3\'acpid=
\f0 \cf8 "\cf2 \\\cf8 (\cf2 accountId\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )\cf2 \\\cf8 (\cf2 path\cf8 )"\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 EdoMailBox
\f1 \'a3\'ba
\f0 \cf8 "\cf2 \\\cf8 (\cf2 type.\cf5 rawValue\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )\cf2 \\\cf8 (\cf2 account\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )\cf2 \\\cf8 (\cf2 path\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )\cf2 \\\cf8 (\cf2 name\cf8 )"
\f1 \cf0 \
EdoAttachment\'b1\'ed  pid=msgId+partId\
EdoContactItem :
\f0 \cf8 \'94 \cf2 \\\cf8 (\cf2 accountId\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )\cf2 \\\cf8 (\cf2 email.\cf19 lowercased\cf2 ()\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )\cf2 \\\cf8 (\cf2 name.\cf19 lowercased\cf2 ()\cf8 )"
\f1 \cf0 \

\f0 \cf2 EdoCandidate :pId=message\'92s PId
\f1 \cf0 \

\f0 \cf2 EdoBlockEmailId
\f1 \cf0 \

\f0 \cf2 ContactSyncState:pId=message\'92s Pid 
\f1 \'c0\'fd\'c8\'e7\'a3\'ba
\f0 imap.qq.com:2549425200``INBOX``907
\f1 \cf0 \
\

\f0 \cf2 EdoSnz
\f1 \'a3\'ba
\f0 pId=message\'92s PId 
\f1 \'a3\'bf\cf0 \
EdoThread\'a3\'ba
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "\cf2 \\\cf8 (\cf2 folderId\cf8 )\cf2 \\\cf8 (\cf2 DELIM\cf8 )\cf2 \\\cf8 (\cf2 threadId\cf8 )"
\f1 \cf0 \
\
EmailDAL.get(byKey:\
.reverseKey\
\'c5\'c5\'d6\'d8\
\'d4\'dapid\'c9\'cf\'bd\'a8\'cb\'f7\'d2\'fd\'a3\'ac\'cc\'e1\'b8\'df\'b2\'e9\'d1\'af\'cb\'d9\'b6\'c8\
DeepLinkManager-
\f0 \cf2 processEmail
\f1 \'a3\'ac
\f0 processSnooze
\f1 \'d6\'d0\'b5\'c4
\f0 \cf5 EdoMessage\cf2 .\cf6 reverseKey\cf2 (msgId)
\f1 \cf0 \

\f0 \cf2 EdoEmailFilterManager
\f1 \'d6\'d0\'b5\'c4
\f0 blockId
\f1 \cf0 \
Message\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'d4\'datrash\'d6\'d0\'a3\'ac\'ca\'c7\'b8\'f9\'be\'ddfolder\'b5\'c4\'c0\'e0\'d0\'cd\'a3\'ac\'b7\'bd\'b7\'a8
\f0 \cf2 isTrash
\f1 \'c5\'d0\'b6\'cf\'a3\'ac
\f0 .\cf6 Trash\cf2 , .\cf6 AllTrash\cf2 , .\cf6 Junk
\f1 \cf2 \'a3\'ac\'d5\'e2\'c8\'fd\'d6\'d6\'be\'cd\'ca\'c7\'d4\'datrash\'d6\'d0\'a3\'ac\
Gmail\'c3\'bb\'d3\'d0junk\'a3\'ac\'d6\'bb\'d3\'d0spam\'a3\'ac\'c6\'e4\'cb\'fb\'d3\'ca\'cf\'e4\'ca\'c7
\f0 Junk
\f1 \cf0 \

\f0 \cf2 EDOMainthreadSync
\f1 \cf0 \
\
Action\'a3\'ac\'b1\'c8\'c8\'e7move\'d0\'e8\'d2\'aa\'cf\'c8\'b0\'d1\'b1\'be\'b5\'d8\'cb\'c4\'b8\'f6\'b1\'ed\'b8\'c4\'b3\'c9DeleteOnCilent,\'c8\'bb\'ba\'f3\'a3\'ac\'d4\'da\'b5\'f7\'d3\'c3moveMessage\'bb\'d8\'c0\'b4\'d6\'ae\'ba\'f3\'a3\'ac\'d4\'d9\'bd\'d3\'d7\'c5\'b5\'f7\'d3\'c3\'d0\'de\'b8\'c44\'b8\'f6\'b1\'ed\'a3\'acmerge\'d2\'bb\'cf\'c2\'a3\'ac\'b0\'d1\'d7\'b4\'cc\'ac\'b8\'c4\'ce\'aa\'d5\'fd\'b3\'a3\'a3\'ac\'d4\'da\'c3\'b6\'be\'d9message\'b5\'c4\'b9\'fd\'b3\'cc\'d6\'d0\'a3\'ac4\'b8\'f6\'b1\'ed\'b5\'c4\'b2\'d9\'d7\'f7\'b7\'bd\'b7\'a8\'d4\'f6\'bc\'d3\'b2\'ce\'ca\'fdincludeDeleted\'a3\'acincludeDeleteOnClient\'a3\'ac\'b2\'d9\'d7\'f74\'b8\'f6\'b1\'ed\'b5\'c4\'b7\'bd\'b7\'a8\'b6\'bc\'d2\'aa\'d4\'f6\'bc\'d3\'d5\'e22\'b8\'f6\'b2\'ce\'ca\'fd\'a3\'ac\'c1\'e9\'bb\'ee\
\
\'c8\'e7\'ba\'ce\'c5\'d0\'b6\'cf\'d2\'bb\'b8\'f6Conversation\'ca\'c7\'b7\'f1\'ca\'c7\'d4\'datrash\'d6\'d0\'a3\'acConversationInfo\'d6\'d0\'d3\'d0isTrash\'d7\'d6\'b6\'ce\'a3\'ac\'d5\'e2\'b8\'f6\'d7\'d6\'b6\'ce\'ca\'c7\'c3\'b6\'be\'d9\'c3\'bf\'b8\'f6message\'b5\'c4isTrash\'d7\'d6\'b6\'ce\'b8\'b3\'d6\'b5\'b5\'c4\
Message\'cd\'a8\'b9\'fd\'c3\'b6\'be\'d9\'b9\'d8\'c1\'aa\'b5\'c4folders\'a3\'ac\'c3\'b6\'be\'d9folderType\'ca\'c7\'b7\'f1\'ca\'c7
\f0 \cf6 Trash
\f1 \cf6 \'a3\'ac
\f0 \cf6 AllTrash
\f1 \cf6 \'a3\'ac\'ba\'cd
\f0 \cf6 Junk
\f1 \cf0 \
\
Conversation\'b1\'ed\'b5\'c4\'ce\'ac\'bb\'a4\'ca\'c7\'bc\'c6\'cb\'e3\'b3\'f6\'c0\'b4\'b5\'c4\'a3\'ac\'b2\'bb\'d0\'e8\'d2\'aa\'cf\'f1message\'c4\'c7\'d1\'f9\'d4\'f6\'bc\'d3state\
Move\'b5\'c8\'b2\'d9\'d7\'f7\'c8\'e7\'b9\'fb\'c9\'be\'b3\'fdConversation\'a3\'ac\'d4\'f2undo\'b2\'d9\'d7\'f7\'a3\'ac\'bf\'c9\'d2\'d4\'bc\'cc\'d0\'f8merge message\'bd\'abConversation\'bc\'d3\'bb\'d8\'c0\'b4\'a3\'ac\'bc\'d3\'bb\'d8\'c0\'b4\'b5\'c4conv\'b2\'bb\'d4\'da\'d6\'ae\'c7\'b0\'b5\'c4folder\'d6\'d0\
\'c8\'e7\'b9\'fbConversation\'bc\'d3\'d2\'bb\'b8\'f6\'d7\'b4\'cc\'ac\'a3\'bf\'cf\'c8\'b0\'d1Conversation\'b5\'c4\'d7\'b4\'cc\'ac\'b8\'c4\'ce\'aadelete_on_client?\'b6\'e0\'ce\'ac\'bb\'a4\'d2\'bb\'b8\'f6\'d7\'b4\'cc\'ac\'a3\'ac\'c8\'a8\'ba\'e2\'b5\'c3\'ca\'a7\
\
Conversation\'b1\'ed\'a3\'a8conv-folders\'a3\'a9\'a3\'ac\'d0\'e8\'d2\'aa\'d4\'f6\'bc\'d3message state\'bd\'d3\'bf\'da\
Ref\'b1\'ed\'d2\'b2\'c8\'e7\'b4\'cb\
Thread\'ca\'c7\'b7\'f1\'cf\'d4\'ca\'be\'a3\'ac\'bf\'b4convInfo\'d6\'d0\'b5\'c4isTrash\'d7\'d6\'b6\'ce\
\
\
msg  uid=80. msgId=1111,threadId=1111 path=inbox\
msg  uid=81. msgId=11112,threadId=1111 path=F1\
\
Conversation  threadId=1111\'a3\'acfolders=inbox\'a3\'acF1\'a3\'ac\
\
Gmail\'d2\'c6\'b6\'af\'b2\'bb\'d0\'e8\'d2\'aa\'c9\'be\'b3\'fdconv\'a3\'acconv\'d6\'bb\'ca\'c7path\'b1\'e4\'bb\'af\
changeMessageFolder\'b2\'bb\'d0\'e8\'d2\'aa\'c9\'be\'b3\'fdconv\
deleteMessage\'a3\'a8\'d4\'datrash\'bb\'f2\'d5\'dfspam\'d6\'d0\'b3\'b9\'b5\'d7\'c9\'be\'b3\'fdmessage\'a3\'a9\'d0\'e8\'d2\'aa\'c9\'be\'b3\'fdmessage\'a3\'ac\'d0\'e8\'d2\'aa\'c9\'be\'b3\'fdconv\
\
Action\'d3\'d02\'b8\'f6\'bb\'d6\'b8\'b4\'d7\'b4\'cc\'ac\'a3\'ac\'d2\'bb\'b8\'f6\'ca\'c7undo\'a3\'ac\'d2\'bb\'b8\'f6\'ca\'c7mailcore\'b2\'d9\'d7\'f7\'b7\'b5\'bb\'d8\'ca\'a7\'b0\'dc\'d6\'ae\'ba\'f3\
Undo\'b5\'c4\'ca\'b1\'ba\'f2\'c3\'bb\'d3\'d0action\'ba\'f3\'b5\'c4uid\'a3\'ac\'cb\'f9\'d2\'d4\'d0\'de\'b8\'c4\'d7\'b4\'cc\'ac\'d6\'bb\'ca\'c7\'be\'d6\'b2\'bf\'d0\'de\'b8\'c4\'a3\'ac\
Mailcore\'b2\'d9\'d7\'f7\'ca\'a7\'b0\'dc\'ba\'f3\'a3\'ac\'b2\'bb\'b8\'b4\'d4\'ad\'d7\'b4\'cc\'ac\'a3\'ac\'d6\'bb\'ca\'c7\'b0\'d1action\'b5\'c4\'d7\'b4\'cc\'ac\'b8\'c4\'ce\'aaWaitRetry,\'c6\'e4\'cb\'fb\'b2\'bb\'b6\'af\
action\'b2\'d9\'d7\'f7\'bf\'aa\'ca\'bc\'a3\'ac\'be\'cd\'b5\'f7\'d3\'c3deleteMessage\'a3\'ac\'b4\'f3\'b2\'bf\'b7\'d6\'c7\'e9\'bf\'f6\'ca\'c7\'c9\'be\'b3\'fdref\'a3\'ac\'cd\'ac\'ca\'b1\'b1\'b8\'b7\'ddmessage\'b5\'c4uid\'a3\'acpath\'d0\'c5\'cf\'a2\'a3\'ac\'d2\'d4messageId\'ce\'aakey\'a3\'ac\
\'c8\'e7\'b9\'fbundo\'a3\'ac\'be\'cd\'b6\'c1\'c8\'a1message\'a3\'ac\'d6\'d8\'d0\'c2\'cc\'ed\'bc\'d3add\'a3\'a8\'c8\'e7\'b9\'fb\'d3\'d0\'cf\'e0\'cd\'acmessage\'a3\'ac\'bb\'e1\'d7\'dfmerge\'c1\'f7\'b3\'cc\'a3\'ac\'c8\'e7\'b9\'fb\'c3\'bb\'d3\'d0\'a3\'ac\'bb\'e1\'d7\'dfadd\'c1\'f7\'b3\'cc\'a3\'ac\'cd\'ac\'ca\'b1addConversation\'a3\'a9\
\
\
\'d4\'f6\'bc\'d3srcPath\'b2\'ce\'ca\'fd\'a3\'ac\
AccountId\'ce\'aanil\'a3\'ac\'cb\'b5\'c3\'f7\'ca\'c7\'b6\'e0\'d5\'cb\'ba\'c5\'a3\'a8\'be\'db\'ba\'cf\'a3\'ac\'c8\'cb\'b9\'a4\'b6\'e0\'d5\'cb\'ba\'c5\'b5\'c8\'a3\'a9\
\'c8\'bb\'ba\'f3\'b2\'e9\'bf\'b4folderType\'a3\'ac\'b8\'f9\'be\'ddfolderType\'bb\'f1\'c8\'a1EdoFolder\
\'c8\'e7\'b9\'fb\'ca\'c7\'d7\'d4\'b6\'a8\'d2\'e5folder\'a3\'ac\'d0\'e8\'d2\'aa\'b4\'ab\'b5\'ddfolderPath\
\'d4\'da
\f0 \cf5 ThreadDataProvider
\f1 \cf5 \'d6\'d0\cf0 \'a3\'ac\'d3\'a6\'b8\'c3\'cc\'ed\'bc\'d3folderPath\'a3\'acaccountId\'a3\'ac\'d2\'d1\'be\'ad\'cc\'ed\'bc\'d3\'b5\'c4\'d0\'e8\'d2\'aa\'b8\'b3\'d6\'b5\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 \'d0\'c2\'b0\'e6\'b0\'d1\'c0\'cf\'b0\'e6\'b5\'c4EmailDetailDataProvider\'b8\'c4\'c3\'fb\'ce\'aaEmailDataProvider\
\'c0\'cf\'b0\'e6\'b5\'c4EmailDetailDataProvider\'b9\'d8\'c1\'aaEmailDetailViewController\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf5 (
\f1 \cf5 \'d2\'bb\'b7\'e2message\'b5\'c4dp\'a3\'a9\cf2 \'d0\'c2\'b0\'e6\'b5\'c4EmailDataProvider\'a3\'a8detailProvider\'a3\'a9\'b9\'d8\'c1\'aa
\f0\fs24 EmailView-
\f1 \'d2\'bb\'b8\'f6
\f0 ThreadView
\f1 \'d6\'d0\'b5\'c4\'c6\'e4\'d6\'d0\'d2\'bb\'b8\'f6
\f0 mail
\f1 \'b5\'c4
\f0 view
\f1 \'a3\'ac
\fs26 \

\f0 \cf5 (
\f1 \cf5 \'d5\'fb\'b8\'f6
\f0 \cf5 Thread
\f1 \cf5 \'b5\'c4
\f0 \cf5 dp)ThreadDataProvider
\f1 \cf10 \'b6\'d4\'d3\'a6\'b5\'c4\'ca\'c7
\f0 \cf2 ThreadViewController
\f1 \'a3\'ac\'d5\'e2\'d3\'a6\'b8\'c3\'ca\'c7\'d5\'fb\'b8\'f6Thread\'b5\'c4View\'a3\'ac\'b0\'fc\'c0\'a8\'b6\'e0\'b8\'f6message\'b5\'c4View\'a3\'ac\'d2\'bb\'b8\'f6message\'b5\'c4view\'ca\'c7EmailView\

\f0 \cf5 (Thread
\f1 \cf5 \'c1\'d0\'b1\'ed\'b5\'c4
\f0 \cf5 dp)ThreadlistDataProvider
\f1 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 EmailContainerViewController
\f1 \'b0\'fc\'ba\'ac\'d5\'fb\'b8\'f6
\f0 ThreadViewController
\f1 \'a3\'ac\'bb\'b9\'d3\'d0\'b5\'bc\'ba\'bd\'c0\'b8\'a3\'ac\'bf\'c9\'d2\'d4\'c9\'cf\'cf\'c2\'b7\'ad\'bf\'b4\'d3\'ca\'bc\'fe\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf0 \
move\'d2\'bb\'b8\'f6Conversation\'a3\'ac\'c0\'ef\'c3\'e6\'b5\'c4\'b6\'e0\'cc\'f5message\'b7\'d6\'b1\'f0\'ca\'c7Inbox\'a3\'acF1\'a3\'acF2\'a3\'ac\'c8\'e7\'b9\'fb\'b5\'b1\'c7\'b0\'d4\'dainbox\'d6\'d0\'d2\'c6\'b6\'af\'a3\'ac\'d4\'f2\'d6\'bb\'bb\'f1\'c8\'a1INBOX\'d6\'d0\'b5\'c4message\'bd\'f8\'d0\'d0move\
\'b2\'d9\'d7\'f7\'b5\'a5\'b7\'e2\'d3\'ca\'bc\'fe\'d0\'e8\'d2\'aa\'d4\'daref\'b1\'ed\'d6\'d0\'cc\'ed\'bc\'d3state\'d7\'d6\'b6\'ce\
archive\'ba\'cdmove\'b6\'bc\'b5\'c3\'b4\'absrcFolder\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 var
\f0\b0 \cf2  isMoving: .\cf6 trashMessage\cf2 , .\cf6 deleteMessage\cf2 , .\cf6 archiveMessage\cf2 , .\cf6 moveMessage\cf2 , .\cf6 spamMessage\cf2 :
\f1 \cf0 \
\'d5\'e2\'cb\'c4\'d6\'d6\'cb\'e3\'ca\'c7move\'b2\'d9\'d7\'f7\'a3\'ac\
trash\'ca\'c7\'c9\'be\'b3\'fdinbox\'b1\'ea\'c7\'a9\'a3\'ac\
Move\'b2\'d9\'d7\'f7\'cd\'b3\'d2\'bb\'bd\'ab\'b5\'b1\'c7\'b0label\'c9\'be\'b5\'f4\'a3\'ac\'bd\'ab\'c4\'bf\'b1\'ealabel\'cc\'ed\'bc\'d3\'c9\'cf\'a3\'ac\'b6\'d4\'c6\'e4\'cb\'fb\'b5\'c4label\'b2\'bb\'d7\'f7\'b4\'a6\'c0\'ed\'a3\'ac\'d2\'f2\'ce\'aagmail\'cc\'d8\'d0\'d4\'ba\'dc\'b6\'e0\'a3\'ac\'ce\'de\'b7\'a8\'b1\'a3\'d6\'a4\'b1\'be\'b5\'d8DB\'ba\'cdserver\'b5\'c4label\'d2\'bb\'d6\'c2\'a3\'ac\'d2\'c6\'b5\'bdtrash\'d6\'d0\'a3\'ac\
Web\'b6\'cb\'be\'cd\'d2\'d1\'be\'ad\'b0\'ef\'c4\'e3\'b0\'d1label\'d4\'f6\'bc\'d3\'ba\'cd\'c9\'be\'b3\'fd\'c1\'cb\'a3\'ac\'c7\'d0\'b5\'bd\'b3\'fd\'b5\'b1\'c7\'b0\'b5\'c4\'c6\'e4\'cb\'fbfolder/label\'cf\'c2\'a3\'ac\'bb\'e1\'d7\'d4\'b6\'af\'cd\'ac\'b2\'bd\'a3\'ac\'d6\'bb\'b1\'a3\'d6\'a4\'d4\'da\'b5\'b1\'c7\'b0folder\'cf\'c2\'b2\'bb\'cf\'d4\'ca\'be\'bc\'b4\'bf\'c9\
\
IMAP\'ca\'b1\'a3\'acmoveMessage\'b2\'d9\'d7\'f7\'ba\'f3\'a3\'ac\'d3\'c9\'d3\'da\'b1\'be\'b5\'d8\'ce\'aa\'cb\'a2\'d0\'c2UI\'c1\'a2\'bc\'b4\'c9\'be\'b3\'fd\'c1\'cb\'d5\'e2\'cc\'f5\'cf\'fb\'cf\'a2\'b5\'c4ref\'a3\'acConversation\'a3\'ac\'d2\'d4\'bc\'b0Conversation\'d6\'d0\'b9\'d8\'c1\'aa\'b5\'c4folder rcount\'ce\'aa0\'a3\'ac\'b5\'ab\'ca\'c7message\'b1\'be\'c9\'ed\'d6\'bb\'ca\'c7\'d7\'b4\'cc\'ac\'ce\'aaDELETED\'a3\'ac\
Move\'b3\'c9\'b9\'a6\'ba\'f3\'a3\'ac\'d4\'d9\'d3\'c3\'be\'c9\'b5\'c4uid\'b6\'c1\'c8\'a1DB\'d6\'d0\'b5\'c4message\'a3\'ac\
\
\
\

\f3\b \cf4 static
\f0\b0 \cf2  
\f3\b \cf4 func
\f0\b0 \cf2  getFolderByType(acctId:\cf7 String\cf2 , provider:\cf7 String\cf2 ?=
\f3\b \cf4 nil
\f0\b0 \cf2 , folderType:\cf5 FolderType\cf2 ) -> \cf5 EdoFolder\cf2 ? \{
\f1 \cf0 \
\
\

\f3\b \cf4 let
\f0\b0 \cf2  EXCEPT_DELETED = \cf12 1\cf2  << \cf12 0
\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 let
\f0\b0 \cf2  EXCEPT_DELETE_CLIENT = \cf12 1\cf2  << \cf12 1
\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 let
\f0\b0 \cf2  EXCEPT_TRASHED = \cf12 1\cf2  << \cf12 2
\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 let
\f0\b0 \cf2  EXCEPT_TRASH_CLIENT = \cf12 1\cf2  << \cf12 3
\f2\fs24 \cf0 \
\

\f3\b\fs26 \cf4 let
\f0\b0 \cf2  EXCEPT_ALL = (\cf5 EXCEPT_DELETED\cf2 |\cf5 EXCEPT_DELETE_CLIENT\cf2 |\cf5 EXCEPT_TRASHED\cf2 |\cf5 EXCEPT_TRASH_CLIENT\cf2 )
\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 let
\f0\b0 \cf2  EXCEPT_DELETE_STATE = (\cf5 EXCEPT_DELETED\cf2 |\cf5 EXCEPT_DELETE_CLIENT\cf2 )
\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 let
\f0\b0 \cf2  EXCEPT_TRASH_STATE = (\cf5 EXCEPT_TRASHED\cf2 |\cf5 EXCEPT_TRASH_CLIENT\cf2 )\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 override
\f0\b0 \cf2  
\f3\b \cf4 open
\f0\b0 \cf2  
\f3\b \cf4 class
\f0\b0 \cf2  
\f3\b \cf4 func
\f0\b0 \cf2  indexedProperties() -> [\cf7 String\cf2 ] \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  [\cf8 "account"\cf2 ]
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}
\f1 \cf0 \

\f0 \cf2     
\f3\b \cf4 override
\f0\b0 \cf2  
\f3\b \cf4 open
\f0\b0 \cf2  
\f3\b \cf4 class
\f0\b0 \cf2  
\f3\b \cf4 func
\f0\b0 \cf2  indexedProperties() -> [\cf7 String\cf2 ] \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f4\i \cf9 //return ["msgId", "gmailMsgId"]
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  [\cf8 "msgId"\cf2 , \cf8 "accountId"\cf2 ]
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\fs26 \cf0 \'cf\'d7\'cf\'d8\'d6\'d0\'d2\'bd\'d4\'ba   \'b6\'fe\'d1\'f5\'bb\'af\'ef\'af-1800\'a3\'ac\'ee\'dc\'b8\'f5\'ba\'cf\'bd\'f0-400-500\
\
\'d5\'fd\'ce\'c4inline\'cd\'bc\'c6\'ac\'ba\'cd\'b8\'bd\'bc\'fe\'b5\'c4\'c2\'b7\'be\'b6\'b8\'c4\'ce\'aa\'ba\'cdmsgId\'a3\'acpath\'a3\'acuid\'ce\'de\'b9\'d8\'b5\'c4\'a3\'ac\'d3\'c3rowId\'c0\'b4\'b1\'ea\'ca\'b6\
attachment\'b5\'c4uid\'a3\'acpid\'d0\'e8\'d2\'aa\'d0\'de\'b8\'c4\'a3\'acpid\'d3\'c3accountId+path+partId\'c9\'fa\'b3\'c9==
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "\cf2 \\\cf8 (\cf2 messagePId\cf8 )\cf2 \\\cf8 (\cf5 DELIM\cf8 )\cf2 \\\cf8 (\cf2 partID!\cf8 )"
\f1 \cf0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 let
\f0\b0 \cf2  msgId = (refs.\cf19 filter\cf2  \{$0.\cf5 uid\cf2  == uid\}).\cf7 first\cf2 ?.\cf5 msgId\cf2  \{
\f1 \cf0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 EdoAccount  
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "username"
\f1 \cf0 \

\f0 \cf2 EdoLabel		
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "label"
\f1 \cf0 \

\f0 \cf2 EdoNotificationFilter 
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "NotificationFilterEmail"\cf2 \
EdoReceivedEmailFromAccount 
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "userName"\cf2 \
EdoVIPList	
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "VIPListEmail"\cf2 \
EdoKVO		
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "key"
\f1 \cf0 \
\
\

\f0 \cf2 EdoAction pid=\cf7 UUID\cf2 ().\cf7 uuidString
\f1 \cf0 \

\f0 \cf2 EmailConversation  pId = \cf7 UUID\cf2 ().\cf7 uuidString
\f1 \cf0 \

\f0 \cf2 EdoIMAPRef	pId = UUID().uuidString\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 ////////////////////////////////////////////////////////////////////////\
\'d3\'d0Pid\'b2\'a2\'c7\'d2pid\'ca\'c7\'d6\'f7\'bc\'fc\'b5\'c4\'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 EdoAction
\f1 \cf0 \

\f0 \cf2 EdoAlias
\f1 \cf0 \

\f0 \cf2 EdoSecurity\
EdoSiftMapping\
EmailConversation\
EdoIMAPRef\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \
\'c3\'bb\'d3\'d0PID\'a3\'ac\'d6\'f7\'bc\'fc\'b2\'bb\'ca\'c7pid\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 EdoAccount  
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "username"
\f1 \cf0 \

\f0 \cf2 EdoLabel		
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "label"
\f1 \cf0 \

\f0 \cf2 EdoNotificationFilter 
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "NotificationFilterEmail"\cf2 \
EdoReceivedEmailFromAccount 
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "userName"\cf2 \
EdoVIPList	
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "VIPListEmail"\cf2 \
EdoKVO		
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "key"
\f1 \cf0 \
\
\
\'d3\'d0Pid\'a3\'ac\'b5\'abPid\'b2\'bb\'ca\'c7\'d6\'f7\'bc\'fc\'b5\'c4\'a3\'ba\

\f0 \cf2 ContactSyncState\
EdoFolder
\f1 \cf0 \

\f0 \cf2 MessagesExtensionSyncState\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 let
\f0\b0 \cf2  classForCoder: \cf7 AnyClass\cf2  = t.\cf19 classForCoder\cf2 ()
\f1 \cf0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2     
\f3\b \cf4 static
\f0\b0 \cf2  
\f3\b \cf4 private
\f0\b0 \cf2  
\f3\b \cf4 func
\f0\b0 \cf2  getRealm<T: \cf5 Object\cf2 >(for t: \cf5 T\cf2 .Type) -> \cf5 Realm\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 let
\f0\b0 \cf2  classForCoder: \cf7 AnyClass\cf2  = t.\cf19 classForCoder\cf2 ()
\f2\fs24 \cf0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf21 #if\cf2  !\cf21 SHARE_EXTENSION
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2         
\f3\b \cf4 if
\f0\b0 \cf2  classForCoder == \cf5 EdoVIPList\cf2 .\cf19 classForCoder\cf2 () ||
\f2\fs24 \cf0 \

\f0\fs26 \cf2                    classForCoder == \cf5 EdoNotificationFilter\cf2 .\cf19 classForCoder\cf2 () ||
\f2\fs24 \cf0 \

\f0\fs26 \cf2                    classForCoder == \cf5 EdoSecurity\cf2 .\cf19 classForCoder\cf2 () ||
\f2\fs24 \cf0 \

\f0\fs26 \cf2                    classForCoder == \cf5 EdoReceivedEmailFromAccount\cf2 .\cf19 classForCoder\cf2 () ||
\f2\fs24 \cf0 \

\f0\fs26 \cf2                    classForCoder == \cf5 EdoBlockContact\cf2 .\cf19 classForCoder\cf2 () \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 return
\f0\b0 \cf2  \cf6 getRealm\cf2 (.\cf6 DataDB\cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \} 
\f3\b \cf4 else
\f0\b0 \cf2  
\f3\b \cf4 if
\f0\b0 \cf2  classForCoder == \cf5 ChatConversation\cf2 .\cf19 classForCoder\cf2 () ||
\f2\fs24 \cf0 \

\f0\fs26 \cf2                           classForCoder == \cf5 ChatMessage\cf2 .\cf19 classForCoder\cf2 () ||
\f2\fs24 \cf0 \

\f0\fs26 \cf2                           classForCoder == \cf5 ChatContact\cf2 .\cf19 classForCoder\cf2 () ||
\f2\fs24 \cf0 \

\f0\fs26 \cf2                           classForCoder == \cf5 ChatAccount\cf2 .\cf19 classForCoder\cf2 () ||
\f2\fs24 \cf0 \

\f0\fs26 \cf2                           classForCoder == \cf5 ChatRoomMember\cf2 .\cf19 classForCoder\cf2 () ||
\f2\fs24 \cf0 \

\f0\fs26 \cf2                           classForCoder == \cf5 ChatDeviceKey\cf2 .\cf19 classForCoder\cf2 () ||
\f2\fs24 \cf0 \

\f0\fs26 \cf2                           classForCoder == \cf5 ChatDeviceBundle\cf2 .\cf19 classForCoder\cf2 () ||
\f2\fs24 \cf0 \

\f0\fs26 \cf2                           classForCoder == \cf5 ChatSuggestion\cf2 .\cf19 classForCoder\cf2 () ||
\f2\fs24 \cf0 \

\f0\fs26 \cf2                           classForCoder == \cf5 ChatPartialContact\cf2 .\cf19 classForCoder\cf2 () \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 return
\f0\b0 \cf2  \cf6 getRealm\cf2 (.\cf6 ChatDB\cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\fs26 \cf0 \
\
\'cc\'e6\'b4\'faEmailDAL.get(byKey:\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2     
\f3\b \cf4 static
\f0\b0 \cf2  
\f3\b \cf4 func
\f0\b0 \cf2  filter<T: \cf5 Object\cf2 >(
\f3\b \cf4 _
\f0\b0 \cf2  predicateFormat: \cf7 String\cf2 , 
\f3\b \cf4 _
\f0\b0 \cf2  args: 
\f3\b \cf4 Any
\f0\b0 \cf2 ...) -> \cf5 Results\cf2 <\cf5 T\cf2 > \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 let
\f0\b0 \cf2  predicate = \cf7 NSPredicate\cf2 (format: predicateFormat, argumentArray: args)
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  \cf6 getRealm\cf2 (for: \cf5 T\cf2 .
\f3\b \cf4 self
\f0\b0 \cf2 ).\cf6 objects\cf2 (\cf5 T\cf2 .
\f3\b \cf4 self
\f0\b0 \cf2 ).\cf6 filter\cf2 (predicate)
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}\
    
\f3\b \cf4 static
\f0\b0 \cf2  
\f3\b \cf4 func
\f0\b0 \cf2  get<T: \cf5 Object\cf2 >(byKeys keys: [\cf7 String\cf2 ]) -> \cf5 Results\cf2 <\cf5 T\cf2 > \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  \cf6 getRealm\cf2 (for: \cf5 T\cf2 .
\f3\b \cf4 self
\f0\b0 \cf2 ).\cf6 objects\cf2 (\cf5 T\cf2 .
\f3\b \cf4 self
\f0\b0 \cf2 ).\cf6 filter\cf2 (\cf8 "pId in %@"\cf2 , keys)
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b\fs26 \cf4 static
\f0\b0 \cf2  
\f3\b \cf4 func
\f0\b0 \cf2  get<T: \cf5 Object\cf2 >(inDB db: \cf5 EmailDB\cf2 , byKey pId: \cf7 String\cf2 ?) -> \cf5 T\cf2 ? \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2         
\f3\b \cf4 guard
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  key = pId 
\f3\b \cf4 else
\f0\b0 \cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 return
\f0\b0 \cf2  
\f3\b \cf4 nil
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2         \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 if
\f0\b0 \cf2  key.\cf7 isEmpty\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 return
\f0\b0 \cf2  
\f3\b \cf4 nil
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2         \}
\f2\fs24 \cf0 \
\

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  db.\cf5 r\cf2 .\cf6 object\cf2 (ofType: \cf5 T\cf2 .
\f3\b \cf4 self
\f0\b0 \cf2 , forPrimaryKey: key)
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf5 Demo
\f1 \cf5 \'a3\'ba
\f0 \cf5  
\f3\b \cf4 let
\f0\b0 \cf2  mailboxes:\cf5 Results\cf2 <\cf5 EdoMailBox\cf2 > = \cf5 EmailDAL\cf2 .\cf6 filter\cf2 (\cf8 "account = %@"\cf2 , accountId)
\f1 \cf0 \
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf21 #if\cf2  \cf21 UUID_PID
\f1 \cf0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2         \cf21 #if\cf2  \cf21 UUID_PID
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \cf21 #else
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \cf21 #endif
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b\fs26 \cf4 @objc
\f0\b0 \cf2  
\f3\b \cf4 private(set)
\f0\b0 \cf2  
\f3\b \cf4 dynamic
\f0\b0 \cf2  
\f3\b \cf4 var
\f0\b0 \cf2  rowId = UUID().uuidString\

\f3\b \cf4 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\b0 \cf2     
\f3\b \cf4 override
\f0\b0 \cf2  
\f3\b \cf4 open
\f0\b0 \cf2  
\f3\b \cf4 class
\f0\b0 \cf2  
\f3\b \cf4 func
\f0\b0 \cf2  primaryKey() -> \cf7 String\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \cf21 #if\cf2  \cf21 UUID_PID
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "rowId"
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \cf21 #else
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  \cf8 "pId"
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \cf21 #endif
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}
\f1 \cf0 \
\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf23 gmail\'b5\'c4move\'d0\'d0\'ce\'aa\cf0 \'a3\'ba\'bc\'d9\'c9\'e8msg\'d3\'d03\'b8\'f6label\'a3\'bainbox\'a3\'aclabel2\'a3\'aclabel3\'a3\'ac\'ce\'d2\'c3\'c7\'b4\'d3inboxmove\'b5\'bdlabel2\'a3\'ac\'d4\'f2inbox\'b1\'ea\'c7\'a9\'c3\'bb\'c1\'cb\'a3\'ac\'ca\'a3label2\'ba\'cdlabel3\'a3\'ac\'c8\'e7\'b9\'fb\'d4\'d9\'d2\'c6\'b5\'bdinbox\'a3\'ac\'d4\'f2\'d3\'d0inbox\'a3\'aclabel2\'a3\'aclabel3\'b9\'b23\'b8\'f6\'b1\'ea\'c7\'a9\
\'d7\'dc\'bd\'e1\'a3\'ba\'c8\'e7\'b9\'fblabel\'d6\'d0\'c3\'bb\'d3\'d0dst path\'a3\'ac\'d4\'f2move\'cf\'e0\'b5\'b1\'d3\'da\'d4\'f6\'bc\'d3\'c1\'cb\'d2\'bb\'b8\'f6\'d0\'c2\'b5\'c4label\'a3\'ac\'c9\'be\'b5\'f4src path\'b6\'d4\'d3\'a6\'b5\'c4label\'a3\'bb\'c8\'e7\'b9\'fblabel\'d6\'d0\'d3\'d0dst path\'a3\'bb\'d4\'f2\'d6\'bb\'c9\'be\'b5\'f4src path\'b6\'d4\'d3\'a6\'b5\'c4label\
\'bc\'f2\'b5\'a5\'b4\'a6\'c0\'ed\'be\'cd\'ca\'c7\'cc\'ed\'bc\'d3dst path\'a3\'ac\'c9\'be\'b3\'fdsrc path\
\'c9\'be\'b3\'fdmsg\'ba\'cdadd message\'b5\'c4\'b4\'a6\'c0\'ed\
\
\'c0\'cf\'b0\'e6trashMessage\'c1\'f7\'b3\'cc\'a3\'ba\
1\'a1\'a2\'bb\'f1\'c8\'a1.Trash folder\'a3\'ac\'b5\'f7\'d3\'c3
\f0 \cf6 trashMessages
\f1 \cf6 \'a3\'ac\'ca\'b5\'bc\'ca\'c4\'da\'b2\'bf\'b5\'f7\'d3\'c3\'b5\'c4\'ca\'c7
\f0 \cf6 moveMessage
\f1 \cf6 \'a3\'ac\cf0 \
2\'a1\'a2moveMessage\'d6\'d0\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'d6\'a7\'b3\'d6moveCommand\'a3\'ac\'d3\'c3
\f0 \cf2 capabilities
\f1 \'c0\'b4\'c5\'d0\'b6\'cf\'a3\'ac
\f0 supportMoveCommand\
3
\f1 \'a1\'a2\'d6\'a7\'b3\'d6
\f0 move Command
\f1 \'a3\'ac\'b5\'f7\'d3\'c3
\f0 movemessage
\f1 \'a3\'ac\'b2\'bb\'d6\'a7\'b3\'d6\'a3\'ac\'b5\'f7\'d3\'c3
\f0 \cf6 copyMessagesOperation
\f1 \cf6 \'ba\'f3\cf2 \'a3\'ac\'c9\'e8\'d6\'c3delete flag\'ba\'f3\'c9\'be\'b3\'fdmessage\cf0 \
4\'a1\'a2\'d4\'da\'b3\'c9\'b9\'a6\'b5\'c4\'bb\'d8\'b5\'f7\'d6\'d0\'a3\'ac\'c8\'e7\'b9\'fb\'ca\'c7archive\'a3\'ac\'d4\'f2\'c9\'e8\'d6\'c3\'d2\'d1\'b6\'c1\'b1\'ea\'ca\'b6-
\f0 \cf2 .\cf5 seen
\f1 \cf0 \
\
\
\'b2\'bb\'d0\'e8\'d2\'aa\'b4\'a6\'c0\'ed4\'b8\'f6\'b9\'d8\'cf\'b5\'b1\'ed\'b5\'c4\'b2\'d9\'d7\'f7\'a3\'ba4\'d5\'c5\'b1\'ed\'a3\'bathread-folders\'a3\'a8Conversation\'b1\'ed\'a3\'a9\'a3\'acthread-message\'a3\'a8message\'b1\'ed\'a3\'a9\'a3\'acfolder-message\'a3\'a8folder\'b1\'ed\'a3\'a9\'a3\'acmessage-ref\'a3\'a8EdoIMAPRef\'b1\'ed\'a3\'a9\
createFolder\'a3\'acdeleteFolder\'a3\'a8\'b1\'d8\'d0\'eb\'ca\'c7\'bf\'d5folder\'a3\'a9\
\'d0\'e8\'d2\'aa\'b4\'a6\'c0\'ed4\'b8\'f6\'b9\'d8\'cf\'b5\'b1\'ed\'b5\'c4\'b2\'d9\'d7\'f7\'a3\'ba\
renameFolder\
moveMessage\
deleteMessage\'a3\'a8\'d6\'bb\'d4\'daTrash Folder\'d6\'d0\'b2\'c5\'d3\'d0\'c8\'eb\'bf\'da\'a3\'a9\
trashMessage\
archiveMessage\
spamMessage\
\
\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 \'cd\'ac\'b2\'bdweb\'b6\'cbachive\'d3\'ca\'bc\'fe\'bb\'f2\'d5\'df\'c9\'be\'b3\'fd\'c1\'cb\'b5\'c4\'d3\'ca\'bc\'fe\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ac\'d3\'d0\'b8\'f6\'ce\'ca\'cc\'e2\'a3\'ac\'be\'cd\'ca\'c7\'b5\'e3\'bf\'aa\'d5\'e2\'b8\'f6folder\'ca\'b1\'a3\'ac\'b8\'d5\'bf\'aa\'ca\'bc\'cf\'d4\'ca\'be \'d5\'e2\'b7\'e2\'d3\'ca\'bc\'fe\'a3\'ac\'cd\'ac\'b2\'bd\'ba\'f3\'a3\'ac\'d5\'e2\'b7\'e2\'d3\'ca\'bc\'fe\'cf\'fb\'ca\'a7\'a3\'ac\'d2\'f2\'ce\'aa\'c9\'be\'b3\'fd\'d5\'e2\'b7\'e2\'d3\'ca\'bc\'fe\'a3\'ac\'ca\'b5\'bc\'ca\'c9\'cf\'b2\'a2\'c3\'bb\'d3\'d0\'c9\'be\'b3\'fd\'d6\'f7\'cc\'e5\'a3\'ac\'d6\'bb\'c9\'be\'b3\'fd\'c1\'cb\'d5\'e2\'b7\'e2\'d3\'ca\'bc\'fe\'b5\'c4ref\'a3\'ac\'c6\'e4\'d3\'e0label\'bb\'b9\'b1\'a3\'c1\'f4\
gmail\'b5\'c4archive\'d6\'bb\'ca\'c7\'bd\'abinbox\'b5\'c4label\'c8\'a5\'b5\'f4\'a3\'ac\'c6\'e4\'cb\'fblabel\'bb\'b9\'d4\'da\'a3\'ac\'b2\'bb\'d3\'b0\'cf\'ec\'d4\'da\'c6\'e4\'cb\'fbfolder\'cf\'d4\'ca\'be\
gmaildelete\'ca\'c7\'b0\'d1inbox\'b1\'ea\'c7\'a9\'c8\'a5\'b5\'f4\'a3\'ac\'bc\'d3\'c9\'cftrash\'b1\'ea\'c7\'a9\'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 move message\'c1\'f7\'b3\'cc\'a3\'ba\cf0 \
1\'a1\'a2\'c5\'d0\'b6\'cf
\f3\b \cf4 if
\f0\b0 \cf2  capabilities.contains(MCOIMAPCapability.move.rawValue) \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2                 supportMoveCommand = 
\f3\b \cf4 true
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2             \}
\f1 \cf0 \
2\'a1\'a2\'c8\'e7\'b9\'fb
\f0 \cf2 supportMoveCommand== 
\f3\b \cf4 true
\f5 \cf4 \'a3\'ac\'b5\'f7\'d3\'c3
\f3 \cf4 self
\f0\b0 \cf2 .session.moveMessagesOperation
\f1 \'b7\'f1\'d4\'f2\'b5\'f7\'d3\'c3
\f3\b \cf4 self
\f0\b0 \cf2 .session.copyMessagesOperation
\f1 \cf0 \
3\'a1\'a2copy\'b5\'c4\'bb\'b0\'a3\'ac\
	3.1\'a1\'a2\'cf\'c8\'b5\'f7\'d3\'c3
\f3\b \cf4 self
\f0\b0 \cf2 .session.copyMessagesOperation
\f1 \cf0 \
	3.2\'a1\'a2\'d0\'e8\'d2\'aa\'cf\'c8
\f0 \cf2 setFlags
\f1 \'a3\'ba
\f0 MCOMessageFlag.deleted
\f1 \'a3\'ac\
	3.3\'a1\'a2\'c8\'bb\'ba\'f3
\f3\b \cf4 self
\f0\b0 \cf2 .session.expungeOperation(srcPath)
\f1 \'a3\'ac\
	3.4\'a1\'a2
\f3\b \cf4 if
\f0\b0 \cf2  archive
\f1 \'a3\'ac
\f0 setFlags
\f1 \'a3\'ba
\f0 .seen
\f1 \'d2\'d1\'b6\'c1\
Move\'b7\'d6\'d2\'c6\'b6\'af\'b5\'bdtrash\'a3\'acachive\'a3\'ac\'c6\'e4\'cb\'fbfolder\'a3\'ac\
\'c6\'d5\'cd\'a8IMAP\'d3\'ca\'bc\'fe\'a3\'ba\
\
\
gmail\'d3\'ca\'bc\'fe\'a3\'ba\cf13 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 gmail\'d3\'ca\'bc\'femove\'b5\'bdtrash\cf0 \
Gmail\'c9\'be\'b3\'fd\'d3\'ca\'bc\'fe\'a3\'ac\'bb\'e1\'b0\'d1inbox\'b1\'ea\'c7\'a9\'c8\'a5\'b5\'f4\'a3\'ac\'bb\'bb\'b3\'c9\'d2\'d1\'c9\'be\'b3\'fd\'d3\'ca\'bc\'fe\'b5\'c4label\'a3\'ac\'c6\'e4\'d3\'e0label\'bb\'b9\'d4\'da\'a3\'a8\'bd\'e7\'c3\'e6\'bb\'b9\'cf\'d4\'ca\'be\'a3\'a9\'a3\'ac\'b5\'ab\'ca\'c7\'c7\'d0\'bb\'bb\'b5\'bd\'c6\'e4\'d3\'e0\'b5\'c4label\'c4\'bf\'c2\'bc\'a3\'a8\'b1\'c8\'c8\'e7label2\'a3\'a9\'a3\'ac\'bf\'b4\'b2\'bb\'b5\'bd\'d3\'ca\'bc\'fe\
\
\'c9\'be\'b3\'fd\'d3\'ca\'bc\'fe\'ba\'cd\'d2\'c6\'b6\'af\'b5\'bdtrash\'a3\'a8\'d2\'d1\'c9\'be\'b3\'fd\'d3\'ca\'bc\'fe\'a3\'a9\'d0\'d0\'ce\'aa\'cd\'ea\'c8\'ab\'d2\'bb\'d1\'f9,\'b5\'ab\'b6\'d4\'d3\'daserver\'d0\'d0\'ce\'aa\'b2\'bb\'d2\'bb\'d1\'f9\'a3\'acdelete\'ca\'c7\'d3\'c3\'b5\'c4
\f0 \cf6 expunge
\f1 \cf6 \'b2\'d9\'d7\'f7\cf0 \'a3\'acmove\'d3\'c3\'b5\'c4\'ca\'c7move\'ba\'cdcopy\'b2\'d9\'d7\'f7\
\'b0\'d1\'d3\'ca\'bc\'fe\'b9\'e9\'b5\'b5-Archive\'a3\'a8\'d6\'bb\'c4\'dc\'d4\'daINBOX\'cf\'c2\'b2\'c5\'c4\'dc\'d3\'d0\'d5\'e2\'b8\'f6Archive\'b2\'d9\'d7\'f7\'a3\'a9\'a3\'ac\'b0\'d1INBOX label\'c8\'a5\'b5\'f4\'a3\'ac\'b1\'c8\'c8\'e7\'b5\'b1\'c7\'b0\'d4\'daINBOX\'a3\'ac\'be\'cd\'b0\'d1INBOX\'b1\'ea\'c7\'a9\'c8\'a5\'b5\'f4\'a3\'ac\'b5\'ab\'ca\'c7\'d5\'e2\'b8\'f6\'d3\'ca\'bc\'fe\'bb\'b9\'bb\'e1\'d4\'daAll Mail\'cf\'c2\'b2\'e9\'bf\'b4\'b5\'bd\'a3\'ac\'d6\'bb\'ca\'a3\'cf\'c2\'b3\'fd\'c1\'cbAchive\'b2\'d9\'d7\'f7\'ca\'b1\'b5\'c4label\'cd\'e2\'c6\'e4\'cb\'fb\'b5\'c4label\'a3\'ac\'b1\'c8\'c8\'e7\'b2\'d9\'d7\'f7\'ca\'c7\'d4\'dalabel2\'cf\'c2\'b2\'d9\'d7\'f7\'b5\'c4\'a3\'ac\'cd\'ac\'ca\'b1\'d3\'ca\'bc\'fe\'bb\'b9\'d3\'d0label3\'a3\'ac\'be\'cd\'d4\'daAll Mail\'cf\'c2\'bf\'c9\'d2\'d4\'bf\'b4\'b5\'bd\'d5\'e2\'b7\'e2\'d3\'ca\'bc\'fe\'bb\'b9\'d3\'d0label3\'b5\'c4\'b1\'ea\'c7\'a9\
\
\pard\pardeftab720\partightenfactor0
\cf0 Junk \'d7\'b0\'b5\'c4\'ca\'c7\'d2\'bb\'d0\'a9\'c3\'bb\'d3\'d0\'d3\'c3\'b5\'c4\'a3\'ac\'cf\'f1\'b9\'e3\'b8\'e6\'d0\'fb\'b4\'ab\'c0\'e0\'b5\'c4\'d3\'ca\'bc\'fe\'a3\'ac\'c0\'ac\'bb\'f8\'d3\'ca\'bc\'fe\'a1\'a3\'b6\'f8Trash \'d7\'b0\'b5\'c4\'ca\'c7\'b1\'bb\'c4\'e3\'d7\'d4\'bc\'ba\'c9\'be\'b3\'fd\'ba\'f3\'b5\'c4\'d3\'ca\'bc\'fe\'a1\'a3\
Trash \'be\'cd\'ca\'c7\'c0\'ac\'bb\'f8\'a3\'a8\'b7\'ba\'d6\'b8\'a3\'a9\'a3\'ac\'b1\'bb\'c4\'e3\'c9\'be\'b3\'fd\'a3\'a8delete\'a3\'a9\'ba\'f3\'b5\'c4\'d3\'ca\'bc\'fe\'be\'cd\'b5\'bd\'c1\'cb\'d5\'e2\'c0\'ef\'a3\'ac\'c4\'e3\'bf\'c9\'d2\'d4\'b0\'d1\'c0\'ac\'bb\'f8\'b5\'b9\'b5\'f4\'a3\'a8delete forever\'a3\'a9\'c0\'b4\'d3\'c0\'be\'c3\'c9\'be\'b3\'fd\'cb\'fc\'c3\'c7\'a1\'a3Spam \'ca\'c7\'c0\'ac\'bb\'f8\'d3\'ca\'bc\'fe *\'a3\'ac\'b5\'b1\'c4\'e3\'b0\'d1\'d2\'bb\'b8\'f6\'d3\'ca\'bc\'fe\'b1\'ea\'ce\'aa spam \'ba\'f3\'a3\'ac\'c4\'e3\'b2\'bb\'bd\'f6\'c9\'be\'b3\'fd\'c1\'cb\'cb\'fc\'a3\'acGmail \'d2\'b2\'bb\'e1\'d6\'aa\'b5\'c0\'d5\'e2\'b4\'ce\'b2\'d9\'d7\'f7\'a3\'ac\'b2\'a2\'c7\'d2\'bb\'e1\'b8\'f9\'be\'dd\'b7\'a2\'bc\'fe\'c8\'cb\'b5\'c4\'d0\'c5\'cf\'a2\'b8\'fc\'ba\'c3\'b5\'d8\'b9\'fd\'c2\'cb\'ce\'b4\'c0\'b4\'bf\'c9\'c4\'dc\'b5\'c4\'c0\'ac\'bb\'f8\'d3\'ca\'bc\'fe\'a1\'a3\
\
trash\'a3\'ba\'c4\'e3\'ca\'d6\'b6\'af\'c9\'be\'b3\'fd\'b5\'c4\'d3\'ca\'bc\'fe\'b1\'b8\'b7\'dd\'a3\'a8\'d2\'bb\'b8\'f6\'d4\'c2\'ba\'f3\'d7\'d4\'b6\'af\'c9\'be\'b3\'fd\'a3\'a9\'a3\'ac\'cf\'e0\'b5\'b1\'d3\'da windows \'b5\'c4\'bb\'d8\'ca\'d5\'d5\'be\
spam\'a3\'bagmail\'b0\'ef\'c4\'e3\'d7\'d4\'b6\'af\'b9\'fd\'c2\'cb\'b5\'c4\'c0\'ac\'bb\'f8\'d3\'ca\'bc\'fe\'a3\'ac\'d2\'d4\'bc\'b0\'b1\'bb\'c4\'e3\'b1\'ea\'bc\'c7\'ce\'aa\'c0\'ac\'bb\'f8\'d3\'ca\'bc\'fe\'a3\'ac\'d3\'c3\'cd\'be\'ca\'c7\'c8\'c3\'c4\'e3\'bf\'b4\'bf\'b4\'d3\'d0\'c3\'bb\'d3\'d0\'ca\'b2\'c3\'b4\'b1\'bb\'ce\'f3\'b9\'fd\'c2\'cb\'b5\'c4\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 \
archive\'d3\'ca\'bc\'fe\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 \'d6\'bb\'ca\'c7\'b0\'d1\'b5\'b1\'c7\'b0\'b5\'c4inbox\'b1\'ea\'c7\'a9\'c8\'a5\'b5\'f4\'a3\'ac\'d3\'ca\'bc\'fe\'c9\'cf\'b5\'c4label\'bb\'b9\'d4\'da\'a3\'ac\'d4\'dalabel\'ba\'cdall mail\'cf\'c2\'bb\'b9\'c4\'dc\'b2\'e9\'bf\'b4\'b4\'cb\'d3\'ca\'bc\'fe\'a3\'ac\'b1\'c8\'c8\'e7\'d2\'bb\'b8\'f6msg \'d4\'dainbox\'a3\'ac\'d3\'d0label2\'a3\'aclabel3\'a3\'acarchive\'d6\'ae\'ba\'f3\'a3\'acinbox\'c3\'bb\'c1\'cb\'a3\'ac\'d4\'daall mail\'cf\'c2\'bf\'c9\'d2\'d4\'b2\'e9\'bf\'b4\'a3\'ac\'d4\'dalabel2\'ba\'cdlabel3\'cf\'c2\'d2\'b2\'bf\'c9\'d2\'d4\'b2\'e9\'bf\'b4\cf13 \
\cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 \
EdoFolder\'cf\'c2\'c3\'e6\'c8\'e7\'b9\'fb\'b2\'bb\'ce\'ac\'bb\'a4message list\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 Message\'cf\'eb\'d2\'aa\'d5\'d2\'b5\'bd\'b6\'d4\'d3\'a6\'b5\'c4folder\'d0\'e8\'d2\'aa\'b2\'e9\'b1\'ed\'c1\'bd\'b4\'ce\'a3\'ac\'b5\'da\'d2\'bb\'b4\'ce\'bb\'f1\'c8\'a1message\'b5\'c4ref\'a3\'ac\'b5\'da\'b6\'fe\'b4\'ce\'cd\'a8\'b9\'fdref\'b5\'c4path\'ba\'cdaccount\'d5\'d2\'b5\'bdEdoFolder\'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 conversation\'b5\'c4\'cd\'ac\'b2\'bd\'a3\'ba\cf10 \
1\'a1\'a2Gmail\'bf\'c9\'d2\'d4\'d3\'c3Gmail API\'bb\'f1\'c8\'a1conversation\'b5\'c4\'cb\'f9\'d3\'d0message\'c1\'d0\'b1\'ed\'a3\'ac\'d6\'b1\'bd\'d3\'d3\'c3Gmail API\'b8\'fc\'d0\'c2conversation\'b5\'c4\'d7\'b4\'cc\'ac\'b8\'fc\'b1\'e3\'bd\'dd\'a3\'ac\'d4\'da\'b8\'fc\'d0\'c2\'c4\'b3\'b8\'f6message\'d7\'b4\'cc\'ac\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ac\'be\'cd\'b2\'bb\'d0\'e8\'d2\'aa\'c8\'a5\'b8\'fc\'d0\'c2\'cb\'f9\'ca\'f4converation\'b5\'c4\'ca\'f4\'d0\'d4\'c1\'cb\'a3\'a8\'ca\'e9\'ba\'c0\'a3\'a9\
2\'a1\'a2conversation\'ba\'cdfolder\'b9\'d8\'cf\'b5\'b5\'c4\'ce\'ac\'bb\'a4\'a3\'ac\'bf\'bfmessage\'b1\'ed\'b5\'c4conversation\'d7\'d6\'b6\'ce\'ca\'f4\'d0\'d4\'a3\'ac\'d5\'e2\'b8\'f6\'d7\'d6\'b6\'ce\'ca\'c7fetch message\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ac\'cc\'ed\'bc\'d3\'b5\'bdDB\'d6\'d0\'b5\'c4\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'ca\'a3\'d3\'e0\'b5\'c4\'b9\'a4\'d7\'f7\'a3\'ba
\f0 \

\f1 1\'a1\'a2\'b2\'bf\'b7\'d6
\f0 syncManager\
2
\f1 \'a1\'a2
\f0 ActionManager\
3
\f1 \'a1\'a2
\f0 GmailAdapter\
4
\f1 \'a1\'a2
\f0 ExchangeAdapter\
5
\f1 \'a1\'a2
\f0 SendMail\
6
\f1 \'a1\'a2
\f0 UI
\f1 \'bd\'e7\'c3\'e6\'cf\'d4\'ca\'be
\f0 \

\f1 7\'a1\'a2\'d5\'fb\'cc\'e5\'b9\'a6\'c4\'dc\'c1\'aa\'b5\'f7\'b2\'e2\'ca\'d4
\f0 \
8
\f1 \'a1\'a2EdoMessage\'b1\'ed\'b5\'c4\'d6\'f7\'bc\'fc\'b2\'bb\'d3\'c3
\f0 pid
\f1 \'a3\'ac\'b8\'c4\'d3\'c3
\f0 uuid
\f1 \
9\'a1\'a2EdoFolder\'b8\'c4\'d3\'c3uuid
\f0 \
10
\f1 \'a1\'a2snooze
\f0 \
11
\f1 \'a1\'a2merge\'d0\'c2\'b9\'a6\'c4\'dc\'b4\'fa\'c2\'eb
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \
\
mailcore OSSpin\'d7\'d4\'d0\'fd\'cb\'f8\
swifthttp\'b5\'c4\'cf\'df\'b3\'cc\'b0\'b2\'c8\'ab\'ce\'ca\'cc\'e2\
\'bd\'e2\'be\'f6\'c1\'cb\'d2\'bb\'d0\'a9\'b6\'e0\'cf\'df\'b3\'cc\'cf\'e0\'b9\'d8\'b5\'c4bug\'ba\'cdcrash\
PLCrashReporting\'b5\'f7\'d1\'d0\'a3\'ac\'bf\'aa\'b7\'a2\
Appcenter\'b5\'c4\'bc\'af\'b3\'c9\'b5\'f7\'d1\'d0\
\'d0\'de\'b8\'c4sift token\'b9\'fd\'c6\'da\
\'b5\'f7\'d1\'d0realm\'c5\'f2\'d5\'cd\'ce\'ca\'cc\'e2\'a3\'ac\'b2\'a2\'d7\'f6\'c1\'cb\'d2\'bb\'d0\'a9\'d3\'c5\'bb\'af\
\
\
\'d2\'d1\'be\'ad\'cd\'ea\'b3\'c9\'b5\'c4\'b9\'a4\'d7\'f7\'a3\'ba\
\'ca\'fd\'be\'dd\'bf\'e2\'b1\'ed\'bd\'e1\'b9\'b9\'ba\'cd\'d7\'d6\'b6\'ce\'b5\'c4\'b8\'c4\'d4\'ec\'ba\'cd\'d6\'d8\'b9\'b9\
\'d3\'ca\'bc\'fe\'cf\'c2\'d4\'d8\'a3\'ac\'cd\'ac\'b2\'bd\'a3\'acbody\'ba\'cd\'b8\'bd\'bc\'fe\'bd\'e2\'ce\'f6\'b4\'e6\'b4\'a2\
SyncManager\'bc\'b0\'c8\'ab\'b2\'bfOperation\'a3\'ba\
fetch\'a3\'acupdate\'a3\'acdownloadbody\
search\'a3\'acquery\'a3\'acfetchFolderList\
Ui\'cb\'a2\'d0\'c2\'cf\'d4\'ca\'be\'a3\'acprovider\'c1\'f7\'b3\'cc\'b5\'f7\'b6\'c8\
\'d4\'ad\'c0\'b4\'b5\'c4pid\'b8\'c4\'ce\'aauuid\'ce\'aa\'d6\'f7\'bc\'fc\
ActionManager\'b5\'c4\'bc\'dc\'b9\'b9\'d6\'d8\'b9\'b9\'a3\'ac\'d7\'d3\'c0\'e0\'b9\'b2\'cd\'ac\'b5\'c4\'b9\'a4\'d7\'f7\'cf\'c2\'b3\'c1\'b5\'bd\'bb\'f9\'c0\'e0\'c0\'ef\'c3\'e6\
\'bc\'b0\'c8\'ab\'b2\'bfOperation\'b5\'c4\'d6\'d8\'b9\'b9\'a3\'ba\
setFlag\'a3\'acclearFlag\'a3\'acfolderRename\'a3\'acfolderCreate\'a3\'ac\
messageMove\'a3\'actrash\'a3\'acspam\'a3\'acarchive\'a3\'acdelete\'b5\'c8\
\'c9\'cf\'ca\'f6\'b9\'a6\'c4\'dc\'b5\'c4\'b5\'f7\'ca\'d4\'b2\'e2\'ca\'d4\
\
\
\'ca\'a3\'d3\'e0\'b9\'a4\'d7\'f7\'a3\'ba\
sendmail/draft\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 snooze\cf0 \
exchange\
gmail\'a3\'acthreadview\
\'d0\'c2\'b9\'a6\'c4\'dc\'bc\'af\'b3\'c9\'ba\'cd\'c1\'aa\'b5\'f7\
badge\
notification\
sift\
\
\
\
\'b4\'ba\'bd\'da\'c7\'b0\'bb\'f9\'b1\'be\'d6\'f7\'cc\'e5\'b9\'a6\'c4\'dcOK\'a3\'ac\
\
exchange.edisonpark.net:m``INBOX``eid=AQMkADczYzQ3ODk0LTZmMjYtNDIxZC05YWI1LTZkODUxNmNiOTc2NwBGAAADc0/BB3bBFkSJQps05UrvEQcA3K4FI/cQckCPAsGBvcKLyQAAAgEMAAAA3K4FI/cQckCPAsGBvcKLyQAAAcq+ewAAAA==\
\
Gmail Labels:\
\
[Gmail]/&YkBnCZCuTvY-\
\pard\tx593\pardeftab593\pardirnatural\partightenfactor0

\f3\b\fs24 \cf2 Gmail Labels:["\\\\Important", "\\\\Starred", "F2", "F3"]\
\pard\tx593\pardeftab593\pardirnatural\partightenfactor0

\f1\b0\fs26 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 baseActOperation\'b8\'c4\'d4\'ec\'a3\'ba\cf0 \
var syncInfo: SyncInfo\
var broadCastCustomInfo:(type:BCN,key:String)?// = info[.broadcastInfo] as? (type:BCN,key:String)\
    var bcn: BCN? \{\
        return nil\
    \}\
\
10-7621DDEA-F6E1-4834-8DBA-8038DEF403BC\
\
\'c0\'cf\'b0\'e6action\'a3\'ba\
EmailActionsController.swift\
\
\'cf\'c8\'b5\'f7\'d3\'c3
\f0 \cf6 createAction
\f1 \cf0 \'a3\'ac\'b7\'b5\'bb\'d8
\f0 \cf2 action
\f1 \'b6\'d4\'cf\'f3\'a3\'ac\'b2\'ce\'ca\'fd\'d3\'d0messageIds-pId\'a3\'acthreadId\'a3\'acfolderId \'a3\'ac
\f0 OperationType
\f1 \'a3\'acparam1\'a3\'aclabel\'a3\'ac
\f0 createFolderParentPath
\f1 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf5 ActionManager\cf2 .\cf5 sharedInstance\cf2 .\cf6 addAction
\f1 \cf0 \
\
\'d0\'c2\'b0\'e6action\'a3\'ba\
ThreadActionsController.swift\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 broadCast
\f1 \'d0\'e8\'d2\'aa\'b6\'e0\'b4\'ab\'d2\'bb\'b8\'f6
\f0 info: [\cf5 BCNKey\cf2 : 
\f3\b \cf4 Any
\f0\b0 \cf2 ]
\f1 \cf0 \

\f0 \cf2 , info: [\cf5 BCNKey\cf2 :
\f3\b \cf4 Any
\f0\b0 \cf2 ] = [:]\
Action
\f1 \'d3\'d0
\f0 cancel
\f1 \'c2\'f0\'a3\'bf
\f0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'d4\'da
\f0 BaseActOperation
\f1 \'b5\'c4\'b3\'f5\'ca\'bc\'bb\'af\'d6\'d0\'a3\'ac\'b8\'f8Act
\f0 Info
\f1 \'bd\'e1\'b9\'b9\'b8\'b3\'d6\'b5\
\
\'d4\'daBaseSyncOperation\'b5\'c4\'b3\'f5\'ca\'bc\'bb\'af\'d6\'d0\'a3\'acinit\'b7\'bd\'b7\'a8\'b4\'ab\'c8\'eb\'b5\'c4\'b2\'ce\'ca\'fd\'be\'cd\'ca\'c7SyncInfo\'a3\'ba
\f0 ops.\cf19 append\cf2 (\cf5 FetchEmailsOperation\cf2 (
\f3\b \cf4 self
\f0\b0 \cf2 ))\
    
\f3\b \cf4 required
\f0\b0 \cf2  
\f3\b \cf4 init
\f0\b0 \cf2 (
\f3\b \cf4 _
\f0\b0 \cf2  syncInfo: \cf5 SyncInfo\cf2 ) \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 accountId\cf2  = syncInfo.\cf5 accountId
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 syncInfo\cf2  = syncInfo
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 info\cf2  = syncInfo.\cf5 info
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 opKey\cf2  = syncInfo.\cf5 operationKey
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 folderPath\cf2  = \cf5 info\cf2 [.\cf6 folderPath\cf2 ] 
\f3\b \cf4 as
\f0\b0 \cf2 ? \cf7 String\cf2  ?? \cf8 ""
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 msgIds\cf2  = \cf5 info\cf2 [.\cf6 msgIds\cf2 ] 
\f3\b \cf4 as
\f0\b0 \cf2 ? [\cf7 String\cf2 ] ?? []
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 broadCastCustomInfo\cf2  = \cf5 info\cf2 [.\cf6 broadcastInfo\cf2 ] 
\f3\b \cf4 as
\f0\b0 \cf2 ? (type:\cf5 BCN\cf2 ,key:\cf7 String\cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}
\f1 \

\f0 finish
\f1 \'b7\'bd\'b7\'a8\'b5\'c4
\f0 info
\f1 \'c3\'bb\'b4\'ab\

\f0 \
folderPath\
msgIdsInfo\
convInfos\
\
moveMessage
\f1 \'b5\'c4\'cb\'a2\'d0\'c2
\f0 \
deleteMessage
\f1 \'b5\'c4\'cb\'a2\'d0\'c2
\f0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 FolderDelete\'d3\'d0\'b8\'f6bug\'a3\'ac\'c8\'e7\'b9\'fb\'c9\'be\'b3\'fdfolder\'ca\'a7\'b0\'dc\'c1\'cb\'a3\'a8\'b4\'f3\'b8\'c5\'c2\'ca\'ce\'aafolder\'cf\'c2\'bb\'b9\'d3\'d0\'d3\'ca\'bc\'fe\'a3\'a9\'a3\'ac\'d4\'f2\'b1\'be\'b5\'d8\'b0\'d1folder\'d7\'b4\'cc\'ac\'d6\'c3\'ce\'aa
\f0 \cf5 FOLDER_DELETED_ON_CLIENT
\f1 \cf2 \'a3\'ac\'b1\'be\'b5\'d8\'b2\'bb\'cf\'d4\'ca\'be\'c1\'cb\'a1\'a3\
\pard\tx593\pardeftab593\pardirnatural\partightenfactor0

\f3\b\fs24 \cf2 [MailCore_Log]->2019-12-16 18:31:39.075: ### 7 DELETE "&UXZO1mWHTvZZOQ-/FolderB"
\f2\b0 \cf0 \
\

\f3\b \cf2 [MailCore_Log]->2019-12-16 18:31:39.368: ### 7 NO Folder is not empty!
\f0\b0\fs26 \
\pard\tx593\pardeftab593\pardirnatural\partightenfactor0

\fs24 \cf2     - key : Mail.BCNKey.Error
\f2 \cf0 \

\f0 \cf2     - value : Error Domain=MCOErrorDomain Code=13 "An error occurred while deleting the requested folder." UserInfo=\{NSLocalizedDescription=An error occurred while deleting the requested folder.\}
\fs26 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 \'c0\'cf\'b0\'e6\'d7\'ee\'ba\'f3\'b5\'f7\'d3\'c3\'b5\'c4\'bb\'b9\'ca\'c7
\f0 syncMessagesStructure
\f1 \'a3\'ac\'b2\'ce\'ca\'fd\'ca\'c7
\f0 \cf5 EdoTHSFolder
\f1 \cf5 \'a3\'ac
\f0 \cf2 [\cf5 MsgIdInfo\cf2 ]\
\
sift\
.\cf6 EmailsForSiftsDownloadUpdated\cf2 \
.\cf6 DownloadedEmailForSift\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2  \cf6 \
\cf2 fetchMessagesByIds
\f1 \'b5\'c4\'b2\'ce\'ca\'fd
\f0 msgId
\f1 \'ca\'c7
\f0 pid\cf6 \
\
\cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \
\
Trash
\f1 \'b8\'f9\'be\'dd\'d5\'cb\'ba\'c5\'b5\'c4\'b2\'bb\'d2\'bb\'d1\'f9\'a3\'ac
\f2 path
\f1 \'b2\'bb\'d2\'bb\'d1\'f9
\f2 \
\
\
folderType.path
\f1 \'ca\'f4\'d0\'d4\'a3\'ac\'d0\'b4\'d2\'bb\'b8\'f6get\'b7\'bd\'b7\'a8\'a3\'ac\'d6\'b1\'bd\'d3\'bb\'f1\'c8\'a1\

\f2 \
\
SendMail
\f1 \'a3\'ba
\f2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2 \
localDraftId
\f1 \'a3\'ba\'b1\'be\'b5\'d8\'c9\'fa\'b3\'c9\'b5\'c4pid\'a3\'acuuid\

\f0 origDraftId
\f1 \'a3\'ba
\f0 draft
\f1 \'d3\'ca\'bc\'fe\'b5\'c4
\f0 pid
\f1 \'a3\'ac\'d3\'c9path+
\f0 uid
\f1 \'d7\'e9\'b3\'c9\'a3\'ac\'b7\'fe\'ce\'f1\'c6\'f7\'c9\'cf\'d3\'d0\'b4\'cb\'d3\'ca\'bc\'fe
\f0 \
addOrUpdateLocalDraft
\f1 \'b7\'bd\'b7\'a8\'a3\'ac\'d0\'c2\'c0\'cf\'b0\'e6\'b5\'c4\'c2\'df\'bc\'ad\'bc\'b8\'ba\'f5\'d2\'bb\'d1\'f9\'a3\'ac\'c7\'f8\'b1\'f0\'d4\'da\'d3\'da\'d0\'c2\'b0\'e6\'d4\'f6\'bc\'d3\'a3\'ba\
message.setRowId(localDraft.rowId)\
\'c8\'a5\'b5\'f4//draftFolder?.addMessage(message)\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf13 isActionValid
\f1 \'b5\'c4\'bf\'d3\cf2 \'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 tvc.navManager?.discardMessage(.spamMessage, sender: sender)
\f1 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf5 UndoManager\cf2 .\cf6 addAction\cf2 ([thread],
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2                             type: actionType,
\f2\fs24 \cf0 \

\f0\fs26 \cf2                             info: [.\cf6 dstFolderPath\cf2 : param1,.\cf6 srcFolderPath\cf2 :folder?.\cf5 path\cf2  
\f3\b \cf4 as
\f0\b0 \cf2  
\f3\b \cf4 Any
\f0\b0 \cf2 ],
\f2\fs24 \cf0 \

\f0\fs26 \cf2                             immediate: showTutorial)
\f1 \
\'cf\'fb\'cf\'a2\'cf\'ea\'c7\'e9\'d2\'b3\'c3\'e6\'d6\'d0\'b5\'c4
\f0 discardMessage
\f1 \'b5\'f7\'d3\'c3\'b5\'c4\'ca\'c7
\f0 \cf5 UndoManager\cf2 .\cf6 addAction
\f1 \cf2 \'a3\'ac\'b4\'ab\'b5\'dd\'b5\'c4\'b2\'ce\'ca\'fd\'d6\'bb\'d3\'d0dstFolder\'ba\'cdsrcFolder\'a3\'ac\'c3\'bb\'d3\'d0msgId\'ba\'cdmsgIdInfo\'a3\'acmsgIdInfo\'ca\'c7\'cd\'a8\'b9\'fdgroup\'cb\'e3\'b3\'f6\'c0\'b4\'b5\'c4\'a3\'ac\
\'cb\'f9\'d2\'d4
\f0 baseActOperation
\f1 \'d6\'d0\'b5\'c4
\f0 msgIds
\f1 .count==0\

\f0 deleteMessage
\f1 \'ba\'cd
\f0 saveMessage
\f1 \'d6\'b1\'bd\'d3\'b7\'b5\'bb\'d8
\f0 true\
isActionValid
\f1 \'d6\'d0\'c5\'d0\'b6\'cf\'b5\'c4
\f0 msgIds
\f1 \'ce\'aa
\f0 pid
\f1 \'ca\'fd\'d7\'e9\'a3\'ac\'d6\'ae\'c7\'b0\'b5\'c4\'bf\'d3\'ca\'c7\'b0\'d1msgIds\'c8\'cf\'ce\'aa\'ca\'c7path+uid\'bb\'f2gmailId\'b5\'c4msgid\'a3\'ac\'cb\'f9\'d2\'d4\'ce\'de\'b7\'a8\'b4\'d3DB\'d6\'d0\'b2\'e9\'b3\'f6\

\f0 \
MessageSendOperation\
MessageQuietSendOperation\
MessageQuickReplyOperation\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 snooze\'a3\'ba\
snooze\'d7\'b4\'cc\'ac\'b5\'c4\'c9\'e8\'d6\'c3\'a3\'ac
\f0 \cf2 MESSAGE_SNOOZED/MESSAGE_UNSNOOZED
\f1 \'a3\'ac\'d0\'e8\'d2\'aa\'d4\'da\'cf\'c2\'c3\'e64\'d5\'c5\'b1\'ed\'d6\'d0\'b9\'fd\'c2\'cb\'a3\'ac\'d2\'f2\'ce\'aa
\f0 MESSAGE_SNOOZED
\f1 \'d7\'b4\'cc\'ac\'b5\'c4
\f0 message
\f1 \'d4\'da\'c1\'d0\'b1\'ed\'d6\'d0\'b2\'bb\'cf\'d4\'ca\'be\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 4\'b8\'f6\'b9\'d8\'cf\'b5\'b1\'ed\'a3\'bathread-folders\'a3\'a8Conversation\'b1\'ed\'a3\'a9\'a3\'acthread-message\'a3\'a8message\'b1\'ed\'a3\'a9\'a3\'acfolder-message\'a3\'a8folder\'b1\'ed\'a3\'a9\'a3\'acmessage-ref\'a3\'a8EdoIMAPRef\'b1\'ed\'a3\'a9\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'bd\'ab
\f0 message
\f1 \'b8\'c4\'ce\'aa
\f0 MESSAGE_SNOOZED
\f1 \'d7\'b4\'cc\'ac\'ba\'f3\'a3\'ac4\'b8\'f6\'b9\'d8\'cf\'b5\'b1\'ed\'ca\'c7\'b7\'f1\'d0\'e8\'d2\'aaupdate\'a3\'ac\'c4\'bf\'c7\'b0\'d6\'bb\'d3\'d0\'cf\'d6\'b3\'c9\'b5\'c4deleteMessage\'a3\'ac\'bd\'abmessage\'b5\'c4\'d7\'b4\'cc\'ac\'b8\'c4\'ce\'aamessage_deleted/deleteOnClient\'ba\'f3\'a3\'acupdate\'c1\'cb\
4\'b8\'f6\'b9\'d8\'cf\'b5\'b1\'ed\'a3\'acsnooze\'b2\'bb\'c9\'be\'b3\'fdref\'b1\'ed\'a3\'ac\'cb\'f9\'d2\'d4\'d6\'bb\'b0\'d1message\'b8\'c4\'ce\'aasnooze\'d7\'b4\'cc\'ac\'a3\'ac\'c8\'d5\'ba\'f3\'d4\'d9\'bb\'d6\'b8\'b4\'bc\'b4\'bf\'c9\'a3\'ac\'cf\'d4\'ca\'be\'b5\'c4\'ca\'b1\'ba\'f2\'b2\'bb\'cf\'d4\'ca\'be\'a3\'ac\'d4\'daEmailConversation\'b5\'c4
\f0 getInfo
\f1 \'b7\'bd\'b7\'a8\'d6\'d0\'a3\'ac\'b9\'fd\'c2\'cb\'b5\'f4state=
\f0 \cf5 MESSAGE_SNOOZED
\f1 \cf2 \'b5\'c4\
message\'bc\'b4\'bf\'c9
\f0 \
\

\f1 \'cb\'d1\'cb\'f7\'b5\'c4\'ca\'b1\'ba\'f2\'b2\'bb\'b9\'fd\'c2\'cbsnooze\'d3\'ca\'bc\'fe\'a3\'ac\'b6\'bc\'cf\'d4\'ca\'be\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 EdoConversation
\f1 \'b5\'c4
\f0 get\
\
Gmail
\f1 \'b5\'c4
\f0 snooze
\f1 \'d0\'d0\'ce\'aa\'a3\'ba
\f0 snooze
\f1 \'d5\'fb\'b8\'f6
\f0 thread
\f1 \'a3\'ac\'c8\'e7\'b9\'fb\'c0\'b4\'d2\'bb\'b7\'e2\'d0\'c2\'d3\'ca\'bc\'fe\'b5\'c4\'bb\'b0\'a3\'ac\'bb\'e1\'b0\'d1\'d5\'fb\'b8\'f6
\f0 thread
\f1 \'b5\'c4\'d3\'ca\'bc\'fe\'b6\'bc\'b8\'c4\'ce\'aa\'c6\'d5\'cd\'a8\'d3\'ca\'bc\'fe\'a3\'ac\'cf\'d4\'ca\'be\'d4\'dainbox\'d6\'d0
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'c4\'bf\'c7\'b0\'bf\'c9\'d2\'d4
\f0 snooze
\f1 \'b5\'c4\'d3\'ca\'bc\'fe\'ca\'c7\'a3\'ba\'b3\'fdtrash\'a3\'acspam\'a3\'acdraft\'a3\'acsent\'cd\'e2\'b5\'c4\'d3\'ca\'bc\'fe
\f0 \
getInfo
\f1 \'b8\'c4\'d4\'ec
\f0 \
\
\
            
\f3\b \cf4 var
\f0\b0 \cf2  excludeState = \cf5 EXCLUDE_BOTH_DEL_SNZ
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2             
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  folderType = \cf5 folderType\cf2 \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 
\f3\b \cf4 if
\f0\b0 \cf2  folderType == .\cf6 Snoozed\cf2 \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                     excludeState = \cf5 EXCLUDE_BOTH_DELETE
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 thread\cf2  = conv.\cf6 getInfo\cf2 (excludeState:excludeState)
\f2\fs24 \cf0 \

\f0\fs26 \cf2 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f4\i \cf9 //
\f1\i0 \'b2\'bb\'cc\'ed\'bc\'d3
\f4\i msg
\f1\i0 \'b5\'bd
\f4\i folder
\f1\i0 \'a3\'ac\'c8\'c3
\f4\i folder
\f1\i0 \'b8\'fa
\f4\i message
\f1\i0 \'d6\'ae\'bc\'e4\'c3\'bb\'d3\'d0\'b9\'d8\'c1\'aa\'b9\'d8\'cf\'b5\'a3\'ac\'b7\'bd\'b1\'e3\'c9\'be\'b3\'fd\'a3\'ac\'bc\'f2\'bb\'af\'b4\'a6\'c0\'ed\'a3\'bb\'b5\'ab\'ca\'c7\'b4\'cb\'b4\'a6\'b5\'c4\'b4\'a6\'c0\'ed\'bb\'e1\'b5\'bc\'d6\'c2\'b1\'be\'b5\'d8
\f4\i draft
\f1\i0 \'ce\'de\'b7\'a8\'cf\'d4\'ca\'be\'d4\'da
\f4\i draft folder
\f1\i0 \'d6\'d0
\f0 \cf2 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 let
\f0\b0 \cf2  convInfos = convs.\cf19 map\cf2  \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2             $0.\cf6 getInfo\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}.\cf19 filter\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             !$0.\cf5 isEmpty
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}\
\
exclude\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2                     \cf21 #if\cf2  !\cf21 SHARE_EXTENSION
\f2\fs24 \cf0 \

\f0\fs26 \cf2                     \cf5 ActionManager\cf2 .\cf6 run\cf2 (.\cf6 moveMessage\cf2 , info: [.\cf6 accountId\cf2 : accId,
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                                            
\f4\i \cf9 //.msgIds: self.msgIds,
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2                                                            .\cf6 messagesIdInfo\cf2 : msgIdsInfo,
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                                            .\cf6 folderPath\cf2 : oldPath,
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                                            .\cf6 dstFolderPath\cf2 : dstFolderPath])
\f2\fs24 \cf0 \

\f0\fs26 \cf2                     \cf21 #endif
\f2\fs24 \cf0 \
\

\f0\fs26 \cf2 info = [.\cf6 sendMsgId\cf2 : result.message.\cf5 pId\cf2 ,
\f2\fs24 \cf0 \

\f0\fs26 \cf2                         .\cf6 accountId\cf2 : result.account.\cf5 username\cf2 ]
\f2\fs24 \cf0 \
\

\f0\fs26 \cf2                 
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  origDraftId = origDraftId \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                     info[.\cf6 originalDraftMsgId\cf2 ] = origDraftId
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  path = result.folder?.\cf5 path\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                     info[.\cf6 folderPath\cf2 ] = path
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 
\f3\b \cf4 if
\f0\b0 \cf2  noSound \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                     info[.\cf6 noSendEmailSound\cf2 ] = \cf12 1\cf2  
\f4\i \cf9 //No sound flag
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2                 \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 info[.\cf6 sendMode\cf2 ] = mode\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 enum
\f0\b0 \cf2  EdoMailComposerMode:\cf7 String\cf2  \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2     
\f3\b \cf4 case
\f0\b0 \cf2  Compose = \cf8 "Compose"\cf2 , 
\f4\i \cf9 //Compose a new draft
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     Reply = \cf8 "Reply"\cf2 , 
\f4\i \cf9 //Reply
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     ReplyAll = \cf8 "ReplyAll"\cf2 , 
\f4\i \cf9 //Reply All
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     Forward = \cf8 "Forward"\cf2 , 
\f4\i \cf9 //Forward
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f4\i \cf9 //Update a draft in draft folder, this draft has been sync'ed with server
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     UpdateDraft = \cf8 "UpdateDraft"\cf2 ,
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f4\i \cf9 //Update a failed to send email in outbox, save the changes, if any,
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f4\i \cf9 //to the local draft because it is not sync'ed with server yet and
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f4\i \cf9 //it will stay in outbox only
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     Outbox = \cf8 "Outbox"\cf2 ,
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f2\fs24 \cf0 \

\f0\fs26 \cf2     
\f4\i \cf9 //Recover a local draft after undo send or app crash, when the composer
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f4\i \cf9 //is dismissed, always ask user whether to save the draft as the local
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     
\f4\i \cf9 //draft isn't sync'ed with server yet.
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2     Recover = \cf8 "Recover"
\f2\fs24 \cf0 \

\f0\fs26 \cf2 \}
\f2\fs24 \cf0 \
\
\

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 forwardedOrRepliedMsgId\cf2  = forwardedOrRepliedMsgId
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  pId = forwardedOrRepliedMsgId \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 message\cf2  = \cf5 EmailDAL\cf2 .\cf6 get\cf2 (byKey: pId) 
\f4\i \cf9 //forwarded or replied
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2         \} 
\f3\b \cf4 else
\f0\b0 \cf2  
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  pId = localDraftId \{ 
\f4\i \cf9 //outbox or auto recovery
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 message\cf2  = \cf5 EmailDAL\cf2 .\cf6 get\cf2 (byKey: pId)
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \} 
\f3\b \cf4 else
\f0\b0 \cf2  
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  pId = origDraftId \{ 
\f4\i \cf9 //opened from draft folder
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 message\cf2  = \cf5 EmailDAL\cf2 .\cf6 get\cf2 (byKey: pId)
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}
\f2\fs24 \cf0 \
\
\
\

\f0\fs26 \cf2     
\f3\b \cf4 override
\f0\b0 \cf2  
\f3\b \cf4 func
\f0\b0 \cf2  execute() \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \cf6 MailSendLog\cf2 (\cf8 "Execute SendMessage Operation account=\cf2 \\\cf8 (
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 accountId\cf8 ) key=\cf2 \\\cf8 (
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 key\cf8 )"\cf2 )
\f2\fs24 \cf0 \
\

\f0\fs26 \cf2         \cf5 BroadcastCenter\cf2 .\cf6 postNotificationAsync\cf2 (.\cf6 SendingEmail\cf2 , information: [.\cf6 Account\cf2 : \cf5 accountId\cf2 , .\cf6 OperationKey\cf2 : \cf5 key\cf2 ])
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \cf5 notificationInfo\cf2 [.\cf6 MessageId\cf2 ] = \cf5 sendingMsgId
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \cf6 MailSendLog\cf2 (\cf8 "Sending Email: \cf2 \\\cf8 (\cf5 sendingMsgId\cf8 ), originalDraftId: \cf2 \\\cf8 (\cf5 originalDraftId\cf8 )"\cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 if
\f0\b0 \cf2  \cf5 retryCnt\cf2  > \cf12 3\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \cf6 MailSendLog\cf2 (\cf8 "Already retried 3 times, failed to send message."\cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \cf6 finished\cf2 (\cf5 OP_STATE_FAILED\cf2 , error:
\f3\b \cf4 nil
\f0\b0 \cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \} 
\f3\b \cf4 else
\f0\b0 \cf2  
\f3\b \cf4 if
\f0\b0 \cf2  \cf5 retryCnt\cf2  > \cf12 0\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \cf6 MailSendLog\cf2 (\cf8 "Retrying sending email, retry cnt: \cf2 \\\cf8 (\cf5 retryCnt\cf8 )"\cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \cf6 EdoAfterMainThread\cf2 (\cf12 3\cf2 ) \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 
\f4\i \cf9 //Resend email after 3 seconds
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2                 
\f3\b \cf4 if
\f0\b0 \cf2  \cf7 UIApplication\cf2 .\cf7 shared\cf2 .\cf7 applicationState\cf2  == .\cf19 active\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                     \cf6 EDOBGthread\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 retrySendEmail\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2                     \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \} 
\f3\b \cf4 else
\f0\b0 \cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 startSendingEmail\cf2 ()
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}\
\
snooze
\f1 \'d6\'d8\'b9\'b9			4\'cc\'ec\'a3\'a8\'bc\'c6\'bb\'ae10\'cc\'ec\'a3\'ac7\'cc\'ec-\'b9\'a6\'c4\'dc\'bf\'aa\'b7\'a2\'cd\'ea\'b3\'c9\'a3\'ac\'ca\'a3\'d3\'e03\'cc\'ec\'c1\'aa\'b5\'f7\'a3\'a9
\f0 \
Exchange
\f1 \'d6\'d8\'b9\'b9/\'b5\'f7\'ca\'d4		1.5\'b8\'f6\'d4\'c2\
threadViewUI\'bf\'aa\'b7\'a2\'b5\'f7\'ca\'d4	5\'cc\'ec\
App\'cb\'f9\'d3\'d0UI\'ba\'cd\'ca\'fd\'be\'dd\'d7\'b4\'cc\'ac\'cf\'d4\'ca\'be\'d2\'bb\'d6\'c2	15\'cc\'ec
\f0 \
smartreply		1
\f1 \'cc\'ec
\f0 \
DataProvider
\f1 \'ca\'fd\'be\'dd\'b0\'f3\'b6\'a8
\f0 	5
\f1 \'cc\'ec
\f0 \
Action
\f1 \'b1\'be\'b5\'d8\'ca\'fd\'be\'dd\'c2\'df\'bc\'ad		
\f0 5
\f1 \'cc\'ec\
MessageBulkOperation	2\'cc\'ec\
\'c0\'ad\'c8\'a1\'d2\'bb\'b8\'f6thread\'b5\'c4\'d3\'ca\'bc\'fe\'d4\'dathreadView\'d6\'d0\'cf\'d4\'ca\'be	 5\'cc\'ec\
delete\'ba\'cdarchive\'d0\'c2\'b5\'c4\'d6\'d8\'ca\'d4\'bb\'fa\'d6\'c6\'d5\'fb\'ba\'cf	2\'cc\'ec\
merge\'a3\'ba\
blockFilter			5\'cc\'ec\
primary Inbox(\'d6\'a7\'b3\'d6thread) 10\'cc\'ec\
email compose\'d2\'b3\'c3\'e6	5\'cc\'ec		\
sift				3\'cc\'ec\
notification		3\'cc\'ec\
RN\'cf\'e0\'b9\'d8			3\'cc\'ec\
\'c7\'a9\'c3\'fb\'b7\'a2\'be\'f2			3\'cc\'ec\
\'b7\'a2\'be\'f2\'b5\'e7\'bb\'b0\'b5\'c8\'bb\'f9\'b1\'be\'d0\'c5\'cf\'a2   \'d0\'c2\'b9\'a6\'c4\'dc\'b2\'bb\'c8\'b7\'b6\'a8\
\'b8\'b6\'b7\'d1\'b0\'e6\'b9\'a6\'c4\'dc		\'d0\'c2\'b9\'a6\'c4\'dc\'b2\'bb\'c8\'b7\'b6\'a8\
\'c0\'cf\'b0\'e6\'d0\'de\'b8\'c4\'b5\'c4bug\'ba\'cdissue\'a3\'ac\'d3\'c3\'bb\'a7\'b7\'b4\'c0\'a1\'d0\'de\'b8\'c4\'a3\'acmerge\'b5\'bd\'d0\'c2\'b0\'e6\'b1\'be	\
\'d7\'d4\'bc\'ba\'c1\'aa\'b5\'f7\'b8\'c4bug 		10\'cc\'ec\
\
1\'a1\'a2combing the snooze process and refactor some snooze code\
2\'a1\'a2modify the message body file store to only html, excluding js and css code \
3\'a1\'a2schedule the remaining work on the refactoring version \
\
\'ca\'e1\'c0\'edsnooze\'c1\'f7\'b3\'cc\'a3\'ac\'d6\'d8\'b9\'b9snooze\'b2\'bf\'b7\'d6\'b4\'fa\'c2\'eb\
\'d0\'de\'b8\'c4Body\'ce\'c4\'bc\'fe\'b4\'e6\'b4\'a2\'c4\'da\'c8\'dd\'ce\'aa\'d6\'bb\'d3\'d0html\'a3\'ac\'b2\'bb\'b0\'fc\'ba\'acjs\'ba\'cdcss\'b4\'fa\'c2\'eb\
\'d5\'fb\'c0\'ed\'d6\'d8\'b9\'b9\'ca\'a3\'d3\'e0\'b9\'a4\'d7\'f7\'ca\'b1\'bc\'e4\'bc\'c6\'bb\'ae\
\
refactor Exchange\'a3\'ba\
1\'a1\'a2\'ca\'ec\'cf\'a4exchange\'d0\'ad\'d2\'e9\'a3\'ac\'b1\'c8\'bd\'cf\'ba\'cdIMAP\'a3\'acgmail\'b5\'c4\'b2\'ee\'d2\'ec\'a3\'a8messageId\'a3\'acpath\'a3\'acthreadId\'a3\'ac
\f0 exChangeKey
\f1 \'a3\'ac
\f0 exchangeParentId
\f1 \'a3\'ac
\f0 exchangeParentCk
\f1 \'a3\'ac\'d3\'ca\'bc\'fe\'c0\'ad\'c8\'a1\'a3\'ac\'c9\'be\'b3\'fd\'a3\'acmove\'a3\'acarchive\'b5\'c8\'a3\'a9\
2\'a1\'a2exchange\'d5\'eb\'b6\'d4\'d0\'c2\'b5\'c4syncManager\'b5\'f7\'b6\'c8\'bf\'f2\'bc\'dc\'b8\'c4\'d4\'ec\'a1\'a2override\'d6\'d8\'b9\'b9\'b5\'c4adapter\'b7\'bd\'b7\'a8\
3\'a1\'a2refactor\'d3\'ca\'bc\'fe\'cf\'c2\'d4\'d8\'c1\'f7\'b3\'cc\'a3\'a8fetch\'a3\'acupdate\'a3\'acdownloadbody\'a3\'a9\'a3\'ac\'d0\'e8\'d2\'aa\'b0\'b4\'d5\'d5IMAP\'cf\'d6\'d4\'da\'b5\'c4\'b7\'bd\'ca\'bd\'d6\'d8\'d0\'b4\'b2\'a2\'c7\'d2\'d3\'c3data provider\'b5\'f7\'b6\'c8\'a3\'ac\'b1\'c8\'c8\'e7\'a3\'ba
\f0 \cf6 syncMessages20
\f1 \cf6 \'a3\'ac
\f0 \cf2 syncMessagesStructure
\f1 \'b5\'c890%\'d2\'d4\'c9\'cf\'b5\'c4Adapter\'b7\'bd\'b7\'a8\'b7\'cf\'c6\'fa\'a3\'ac\'d0\'e8\'d2\'aa\'d6\'d8\'d0\'b4\'a3\'acbody\'b4\'e6\'b4\'a2\'ce\'c4\'bc\'fe\'d6\'d0\'a3\'acexchange Pid\'b8\'f1\'ca\'bd\'b1\'e4\'bb\'af\'a3\'acexchange Id\'b4\'e6\'b4\'a2ref\'b1\'ed\'a1\'a3\
4\'a1\'a2refactor searchOperation\
5\'a1\'a2queryOperation\'a1\'a2QueryMessagesWithSentFolder\
6\'a1\'a2SyncManager\'c6\'e4\'d3\'e0\'b5\'c4Operation\'a3\'a8fetchFolderList\'a1\'a2fetchFolderUnreadCount\'a1\'a2QueryThread\'a1\'a2QueryThreadCount\'a1\'a2downloadAttachment\'a3\'acdownloadInlineImage\'a3\'acsyncFlag\'a3\'acCapabilityOperation\'a1\'a2
\f0 updateMessagesFlag
\f1 \'a3\'a9\
7\'a1\'a2exchange\'d5\'eb\'b6\'d4ActionManager\'d0\'c2\'b5\'f7\'b6\'c8\'bf\'f2\'bc\'dc\'b8\'c4\'d4\'ec\
8\'a1\'a2refactor ActionManager\'a3\'a8folderCreate\'a3\'acfolderdelete\'a3\'acfolderRename\'a3\'acmessageMove/Trash/Spam/Delete/Archive, flagSet/clear,msgMarkAll,\'a3\'a9\
9\'a1\'a2refactor draft,saveMessage\
10\'a1\'a2refactor sendMessage\
11\'a1\'a2\'c0\'ad\'c8\'a1Thread\'d3\'ca\'bc\'fe\'a3\'acthreadview\'b5\'c8\
12\'a1\'a2\'b5\'f7\'ca\'d4/\'d7\'d4\'b2\'e2\
\'d2\'d4\'c9\'cf\'b5\'c4\'d6\'d8\'b9\'b9\'be\'f9\'d0\'e8\'d2\'aa\'b8\'c4\'d4\'ecadapter\'bd\'d3\'bf\'da\'ba\'cd\'c1\'f7\'b3\'cc\'a3\'ac\'d6\'a7\'b3\'d6thread\'a3\'ac\'ce\'ac\'bb\'a44\'d5\'c5\'b1\'ed(\'d4\'ad\'c0\'b4\'d6\'a7\'b3\'d6msg)\
\
1. EmailList \'c9\'b8\'d1\'a1\'ca\'fd\'be\'dd  \'cb\'f9\'d3\'d0\'b6\'bc\'b0\'fc\'ba\'ac UnSnooze\'ca\'fd\'be\'dd\
   1\'a3\'a9Thread \'b5\'c4\'ca\'b1\'ba\'f2 \'c8\'e7\'b9\'fb\'ca\'c7Snooze folder \'ca\'fd\'be\'dd\'b0\'fc\'ba\'acSnooze \'ca\'fd\'be\'dd \'b7\'f1\'d4\'f2\'b2\'bb\'b0\'fc\'ba\'ac\
   2\'a3\'a9\'c6\'e4\'cb\'fbfolder \'b6\'bc\'b2\'bb\'b0\'fc\'ba\'acSnooze \'ca\'fd\'be\'dd \
   3\'a3\'a9Snooze folder \'d6\'bb\'d3\'d0Snooze \'ca\'fd\'be\'dd\
   4) Snooze Thread \'b5\'c4\'ca\'b1\'ba\'f2 \'d5\'fb\'b8\'f6Thread\'bb\'e1\'cf\'fb\'ca\'a7 Snooze folder \'bb\'e1\'cf\'d4\'ca\'be\'d5\'fb\'b8\'f6Thread \
   	Snooze Thread \'c0\'ef\'c4\'b3\'d2\'bb\'b7\'e2\'d3\'ca\'bc\'fe\'b5\'c4\'ca\'b1\'ba\'f2  \'d6\'bb\'d3\'d0\'d5\'e2\'b7\'e2\'d3\'ca\'bc\'fe\'bb\'e1\'cf\'fb\'ca\'a7 Thread \'bb\'b9\'bb\'e1\'d4\'da\'a1\'a3 Snooze folder\'c0\'ef\'bb\'e1\'cf\'d4\'ca\'be\'d5\'fb\'b8\'f6Thread\
  5) \'b0\'d1\'d5\'fb\'b8\'f6Thread Snooze\'ba\'f3 \'d4\'d9\'c0\'b4\'d2\'bb\'b7\'e2\'d3\'ca\'bc\'fe\'a3\'ac\'d5\'e2\'b7\'e2\'d3\'ca\'bc\'fe\'bb\'e1\'d6\'b1\'bd\'d3\'cf\'d4\'ca\'be\'d4\'daList\'bd\'e7\'c3\'e6 \'bb\'f2\'d5\'df\'ba\'cdSent \'d7\'e9\'b3\'c9\'d2\'bb\'b8\'f6Thread \'b5\'ab\'ca\'c7\'d2\'d4\'c7\'b0\'c4\'c7\'d0\'a9\'d3\'ca\'bc\'fe\'b2\'bb\'bb\'e1\'cf\'d4\'ca\'be\'d4\'da\'d5\'e2\'c0\'ef. Snooze folder\'c0\'ef\'bb\'e1\'cf\'d4\'ca\'be\'cb\'f9\'d3\'d0\'b5\'c4\'d3\'ca\'bc\'fe(\'cb\'f9\'d2\'d4\'d3\'a6\'b8\'c3\'ca\'c7\'b8\'f8\'cb\'f9\'d3\'d0\'b5\'c4Thread\'c0\'ef\'b5\'c4\'d3\'ca\'bc\'fe\'b6\'bc\'bc\'d3\'c1\'cb\'b1\'ea\'d6\'be\'a3\'bf\'a3\'bf)\
2. Email Search List \'c9\'b8\'d1\'a1\'ca\'fd\'be\'dd  \
   1\'a3\'a9Snooze search \'d6\'bb\'d4\'da state == Snooze \'b5\'c4email\'c0\'ef\'c8\'a5\'c9\'b8\'d1\'a1\
   2\'a3\'a9\'c6\'e4\'d3\'e0folder \'b0\'fc\'ba\'acSnooze \'ca\'fd\'be\'dd\
3.Folder count\
   1\'a3\'a9\'c8\'e7\'b9\'fbfolder unreadCount > 20 \'b5\'c4\'ca\'b1\'ba\'f2   unreadCount \'bc\'d3\'c9\'cfundoManager \'b5\'c4\'d2\'bb\'d0\'a9undo \'bc\'d3\'c9\'cfActionManager \'c0\'ef\'b5\'c4\'d2\'bb\'d0\'a9action\
\
\
   2\'a3\'a9\'c8\'e7\'b9\'fbfolder unreadCount \'b2\'bb\'b4\'f3\'d3\'da20 \'d3\'c3\'d5\'e2\'b8\'f6\'bb\'f1\'c8\'a1count theFolder.unreadMessagesCount()\'a1\'a3\'b2\'bb\'b0\'fc\'ba\'acsnooze\
  3\'a3\'a9attachment  flag today folder \'b5\'c4unread \'ba\'cd messageCount \'b6\'bc\'ca\'c7\'b2\'bb\'b0\'fc\'ba\'ac snooze\
\
4. Badge\
  \'b0\'d1\'d2\'bb\'b7\'e2unread \'b5\'c4email snooze \'ba\'f3  badge\'bb\'e1\'c9\'d91  \'b5\'ab\'ca\'c7\'b1\'be\'b5\'d8\'cd\'a8\'d6\'aa\'b7\'a2\'b3\'f6\'c0\'b4\'ba\'f3 \'b2\'a2\'c3\'bb\'d3\'d0\'bc\'d31  \'b4\'f2\'bf\'aaapp\'ba\'f3\'b2\'c5\'bb\'e1\'bc\'d31\
\
\
\
Snooze:  \'b7\'d6\'ce\'aa swipe snooze \'ba\'cd snooze action\
\'b5\'af\'b3\'f6\'d1\'a1\'d4\'f1\'ca\'b1\'bc\'e4\'b5\'c4sheet\
\'d1\'a1\'d4\'f1\'ca\'b1\'bc\'e4\'ba\'f3 \'b5\'f7\'d3\'c3SnoozeManager\'b5\'c4 snooze \'b7\'bd\'b7\'a8\
func snooze(msgId: String, time: Date? = nil, inThread: Bool = true) \{\
\}\
\'c4\'bf\'c7\'b0\'c9\'e8\'d6\'c3snooze \'bb\'e1\'cf\'c8\'c8\'a5\'b5\'f7\'d3\'c3 cancelExistingSnoozes(in: msgId) \
\'b2\'e9\'d5\'d2\'b6\'d4\'d3\'a6\'b5\'c4conversion\'c0\'ef\'b5\'c4\'cb\'f9\'d3\'d0msg \'d2\'d4\'bc\'b0conversion\'d3\'d0\'c3\'bb\'d3\'d0\'b1\'a3\'b4\'e6\'d4\'daEdoSnz\'c0\'ef\
\'c8\'e7\'b9\'fb\'d3\'d0 \
snz.removeNotification()   snz.state = SNOOZE_DELETED \'b2\'a2\'c7\'d2\'cb\'f9\'d3\'d0MESSAGE_SNOOZED\'d7\'b4\'cc\'ac\'b5\'c4msg state \'b8\'c4\'ce\'aaMESSAGE_SYNCED\
\'c8\'bb\'ba\'f3 \'c8\'e7\'b9\'fbtime != nil \'c8\'a5\'b4\'b4\'bd\'a8\'d2\'bb\'b8\'f6 EdoSnz\'a3\'ac snz \'b5\'c4snoozedMsgPId \'ca\'c7keymsgId(\'bf\'c9\'d2\'d4\'c3\'bb\'d3\'d0)   snz.snoozedThreadId \'ca\'c7conversation\'b5\'c4threadId\
\
\'ca\'b1\'bc\'e4\'b5\'bd\'ba\'f3 \'bb\'e1\'b2\'e9\'d5\'d23\'c3\'eb\'d6\'ae\'c4\'da\'b5\'c4\'cb\'f9\'d3\'d0snooze \'c8\'bb\'ba\'f3\'b0\'d1\'b6\'d4\'d3\'a6\'b5\'c4conversation \'ba\'cd message \'d7\'b4\'cc\'ac\'b8\'c4\'ce\'aa\'b6\'d4\'d3\'a6\'b5\'e3conv_normal \'ba\'cd message_unsnooze\'a1\'a3 \'d5\'e2\'ca\'b1\'ba\'f2\'bb\'e1\'cf\'d4\'ca\'be\'d4\'daemail list \'bd\'e7\'c3\'e6\'b5\'c4\'d7\'ee\'c9\'cf\'b1\'df\'a1\'a3 \'b5\'b1\'b5\'e3\'bb\'f7\'ba\'f3 message_unsnooze\'d7\'b4\'cc\'ac\'bb\'e1\'b1\'e4\'ce\'aa message_sync\'d7\'b4\'cc\'ac \'bc\'b4\'bb\'d6\'b8\'b4\'b5\'bd\'d4\'ad\'ce\'bb\
\
\'b5\'b1snooze \'d2\'bb\'b8\'f6thread\'ba\'f3  \'c8\'e7\'b9\'fb\'c9\'be\'b3\'fd\'c4\'b3\'b7\'e2\'d3\'ca\'bc\'fe snooze \'b2\'bb\'bb\'e1\'cf\'fb\'ca\'a7 \'d6\'b1\'b5\'bd conversation\'d2\'aa\'b1\'bb\'c9\'be\'b3\'fd\'b5\'c4\'ca\'b1\'ba\'f2\'bb\'e1\'b0\'d1snooze cancel\
\'b5\'b1snooze\'d2\'bb\'b8\'f6thread\'ba\'f3  \'c8\'e7\'b9\'fb\'d5\'e2\'b8\'f6thread \'d4\'d9\'c0\'b4\'d2\'bb\'b7\'e2\'d3\'ca\'bc\'fe snooze \'bb\'e1cancel\'b5\'f4\
\
\
msgIdInfo\'ba\'cdpid\'b5\'c4\'d7\'aa\'bb\'bb\
msgIdInfo-> pid: msgIdInfo.pid	\
Pid->
\f0 msgId:pid.msgId.  	\cf7 String
\f1 \cf7 \'c0\'a9\'d5\'b9\cf2 \
Pid->
\f0 msgIdInfo:pIdToMsgIdInfo(
\f3\b \cf4 _
\f0\b0 \cf2  pId:\cf7 String\cf2 ) 
\f1 \'c8\'ab\'be\'d6\'b7\'bd\'b7\'a8\
Pid->
\f0 msgIdInfo:EdoMessage
\f1 \'b5\'c4\'b7\'bd\'b7\'a8
\f0  
\f3\b \cf4 func
\f0\b0 \cf2  getMsgIdInfo(
\f3\b \cf4 _
\f0\b0 \cf2  path:\cf7 String\cf2 )->\cf5 MsgIdInfo, let msgIdInfo = \cf2 getMsgIdInfo(\'93INBOX\'94)
\f1 \
Pid->
\f0 idType:pid.idType	\cf7 String
\f1 \cf7 \'c0\'a9\'d5\'b9
\f0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \
Message->
\f0 getIdType()
\f1 \
Message->
\f0 msgIdInfo(path:\'94inbox\'94)
\f1 \'b7\'b5\'bb\'d8
\f0 \cf5 MsgIdInfo
\f1 \cf2 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2                 
\f3\b \cf4 var
\f0\b0 \cf2  msgIdInfo = \cf5 MsgIdInfo\cf2 (msgId:result.message.\cf5 msgId\cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  path = result.folder?.\cf5 path\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                     msgIdInfo = result.message.\cf6 getMsgIdInfo\cf2 (path)
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 \}\
\
				.\cf6 messagesIdInfo\cf2 :[msgIdInfo],\
\
group
\f1 \'c2\'df\'bc\'ad
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \

\f1\fs26 \cf2 \
Send & draft\
Action\'b6\'d3\'c1\'d0\'ca\'c7\'b7\'f1\'bb\'e1\'b1\'bb\'bf\'a8\'d7\'a1\
draft\'d3\'c3msgIdInfo\'b1\'ed\'ca\'be\
Action\'b5\'c4\'ca\'b1\'ba\'f2\'c8\'e7\'b9\'fb\'d3\'c3IMAP\'a3\'ac\'c8\'ab\'b6\'bc\'b5\'c3\'ca\'c7\
Move\'ba\'cd\'c6\'e4\'cb\'fbaction\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ac\'b4\'ab\'c8\'eb\'b5\'c4\'ca\'c7ConversationInfo\'a3\'acConversationInfo\'d4\'daaction\'c4\'da\'b2\'bf\'bb\'e1\'b1\'bb\'b8\'f9\'be\'ddfolderPath\'b7\'d6\'d7\'e9\'ce\'aagroup\'a3\'ac\'c8\'bb\'ba\'f3\'b0\'d1\'d2\'bb\'b8\'f6action\'b7\'d6\'ce\'aa\'b6\'e0\'b8\'f6\'d7\'d3action\'a3\'acpath\'b2\'bb\'cd\'ac\
\
createFolder and movemessage\'ca\'a7\'b0\'dc\'a3\'ac\'ca\'c7\'d2\'f2\'ce\'aa
\f0 oldMsgsInfo
\f1 \'c3\'bb\'d3\'d0\'b8\'b3\'d6\'b5\'a3\'ac\'d5\'e2\'b8\'f6\'b5\'d8\'b7\'bd\'b2\'e9\'bf\'b4\'d2\'bb\'cf\'c2\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 oldMsgsInfo[msgRestore.msgIdInfo.\cf5 uid\cf2 ] = msgRestore.msgIdInfo
\f1 \
\
imap.qq.com:2549425200``Drafts``88C840EA-664E-4D82-8BBF-3F0FFFA66B24  32\'ce\'bb\'a3\'ac4\'b8\'f6\'a1\'af-\'a1\'ae\
imap.gmail.com:lucky20191123@gmail.com``Drafts``88C840EA-664E-4D82-8BBF-3F0FFFA66B24\
\
Path=draft\
Uid -1\
Account\
msgId=uuid\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 draft\'c2\'df\'bc\'ad\'a3\'ba\cf2 \
Draft\'cd\'a8\'b9\'fdcancel\'b1\'a3\'b4\'e6\'a3\'ac\'bb\'f2\'d5\'df\'b7\'a2\'cb\'cd\'b1\'a3\'b4\'e6\'a3\'a8\'b2\'bb\'b0\'fc\'ba\'ac3\'c3\'eb\'d7\'d4\'b6\'af\'b1\'a3\'b4\'e6\'b5\'c4draft\'a3\'ac\'d2\'f2\'ce\'aa3\'c3\'eb\'d7\'d4\'b6\'af\'b1\'a3\'b4\'e6\'b5\'c4draft\'b2\'bb\'cf\'d4\'ca\'be\'a3\'ac\'d6\'bb\'d4\'da\'c6\'f4\'b6\'afapp\'b5\'c4\'ca\'b1\'ba\'f2\'cf\'d4\'ca\'be\'d4\'dacompose\'d6\'d0\'a3\'a9\
\'d5\'e2\'d1\'f9\'b1\'a3\'b4\'e6\'b5\'c4\'b2\'dd\'b8\'e5\'d0\'e8\'d2\'aa\'d4\'da\'cf\'d4\'ca\'be\'d4\'dadraft folder\'d6\'d0\'a3\'a8\'b6\'cf\'cd\'f8\'b1\'a3\'b4\'e6\'a3\'ac\'bb\'f2\'d5\'df\'d3\'eb\'b7\'fe\'ce\'f1\'c6\'f7\'cd\'ac\'b2\'bd\'ca\'a7\'b0\'dc\'a3\'a9\'a3\'ac\'be\'cd\'d0\'e8\'d2\'aa\'b1\'a3\'b4\'e6message\'b8\'fafolder\'b5\'c4\'b9\'d8\'cf\'b5\'b1\'ed\'a3\'acfolder\'b8\'faConversation\'b5\'c4\'b9\'d8\'cf\'b5\'b1\'ed\'a3\'acref\'b1\'ed\
\
threadView\'c0\'ad\'d3\'ca\'bc\'fe\'a3\'ac\'cd\'a8\'b9\'fdgmail threadId\'c0\'ad\'d5\'fb\'b8\'f6thread\'d3\'ca\'bc\'fe\'a3\'ac\'ca\'c7\'c0\'ad\'d5\'fb\'b8\'f6email\'b0\'fc\'c0\'a8body\
\
Draft\'b7\'d6\'c1\'bd\'d6\'d6\'a3\'ba\'a3\'a8\'b4\'e6\'b9\'d8\'cf\'b5\'b1\'ed\'ba\'cd\'b2\'bb\'b4\'e6\'b9\'d8\'cf\'b5\'b1\'ed\'a3\'a9\
\'d2\'bb\'d6\'d6\'ca\'c7\'c1\'d9\'ca\'b1\'b4\'e6\'b4\'a2\'d4\'daDB\'d6\'d0\'b2\'bb\'cf\'d4\'ca\'be\'b3\'f6\'c0\'b4\'a3\'ac\'cb\'f9\'d2\'d4\'b2\'bb\'d0\'e8\'d2\'aa\'b4\'e64\'b8\'f6\'b9\'d8\'cf\'b5\'b1\'ed\'a3\'a8auto \'b1\'a3\'b4\'e6\'b5\'c4draft\'a3\'a9\
\'d2\'bb\'d6\'d6\'ca\'c7\'b1\'a3\'b4\'e6\'d4\'daDB\'d6\'d0\'a3\'ac\'b2\'a2\'c7\'d2\'d0\'e8\'d2\'aa\'d4\'dafolder\'d6\'d0\'cf\'d4\'ca\'be\'b8\'f8\'d3\'c3\'bb\'a7\'bf\'b4\'b5\'c4draft\'a3\'ac\'d0\'e8\'d2\'aa\'b1\'a3\'b4\'e64\'d5\'c5\'b1\'ed\'a3\'a8cancel\'ba\'cd\'b7\'a2\'cb\'cd\'c7\'b0\'c1\'d9\'ca\'b1\'b4\'e6\'b4\'a2\'b5\'c4draft\'a3\'ac\'bb\'b9\'d3\'d0\'d3\'c3\'bb\'a7\'b7\'b4\'c0\'a1\'b5\'c4\'d3\'ca\'bc\'fe\'c1\'d9\'ca\'b1\'c9\'fa\'b3\'c9\'b5\'c4draft\'ba\'cd\'b7\'a2\'cb\'cd\'ca\'a7\'b0\'dc\'a3\'a9\
\'d4\'da
\f0 addOrUpdateLocalDraft
\f1 \'b7\'bd\'b7\'a8\'b2\'ce\'ca\'fd\'bc\'d3\'d2\'bb\'b8\'f6
\f0 auto
\f1 \'b2\'ce\'ca\'fd\'a3\'ac\'c0\'b4\'c7\'f8\'b7\'d6\'ca\'c7\'b7\'f1\'b4\'e6\'b9\'d8\'cf\'b5\'b1\'ed\
\'d3\'c3\'bb\'a7\'c8\'e7\'b9\'fb\'c9\'be\'b3\'fd\'c1\'cb\'b1\'be\'b5\'d8draft\'a3\'ac\'c4\'c7\'c3\'b4\'d2\'b2\'b4\'d3\'b7\'fe\'ce\'f1\'c6\'f7\'c9\'cf\'c9\'be\'b3\'fd\'d0\'c2\'b4\'b4\'bd\'a8\'b5\'c4draft\
gmail\'b5\'c4local draft\'d2\'f2\'ce\'aa\'c3\'bb\'d3\'d0gmailId\'a3\'ac\'d4\'daappend\'b7\'b5\'bb\'d8uid\'d6\'ae\'ba\'f3\'a3\'ac\'b2\'a2\'b2\'bb\'c4\'dc\'c9\'fa\'b3\'c9uid\
\
deleteMessage\'b1\'bb\'b4\'ab\'c8\'eb\'b5\'c4gmail messageId\'d3\'d0\'bf\'c9\'c4\'dc\'ca\'c7\'d3\'c3uid\'b1\'ed\'ca\'be\'b5\'c4\'a3\'ac\'d2\'f2\'ce\'aaappend\'b7\'b5\'bb\'d8\'c0\'b4\'b5\'c4\'d6\'bb\'d3\'d0uid\'a3\'ac\'c3\'bb\'d3\'d0gmailId\'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 IMAPAdapter
\f1 \'d6\'d0\'b5\'c4
\f0 deleteMessages
\f1 \'d6\'d0\'b5\'f7\'d3\'c3\'c1\'cb
\f0 \cf6 setFlags
\f1 \cf6 \'a3\'ac\'c1\'bd\'b8\'f6\'b7\'bd\'b7\'a8\'be\'f9\cf2 \'ca\'b9\'d3\'c3\'b5\'c4\'ca\'c7
\f0 MsgIdInfo
\f1 \'bd\'e1\'b9\'b9\'a3\'acsetFlags\'d6\'d0\'b5\'f7\'d3\'c3
\f0 \cf6 getUidSet(
\f3\b \cf4 let
\f0\b0 \cf2  uidSet = \cf6 getUidSet\cf2 (from: messagesIdInfo)\cf6 ),\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 \'c0\'ef\'c3\'e6\'d6\'bb\'ca\'b9\'d3\'c3\'c1\'cbuid\'a3\'ac\'d6\'bb\'b9\'d8\'d0\'c4uid\
localDraft\'b8\'fa\'b7\'fe\'ce\'f1\'c6\'f7\'cd\'ac\'b2\'bd\'d6\'ae\'ba\'f3\'a3\'ac\'b8\'c4localDraft\'b5\'c4uid\'a3\'acmsgId\'a3\'acpid\'a3\'acref\'b5\'c4uid\'a3\'acmsgId\'a3\'acconversation\'b5\'c4threadId\'a3\'ac\'bb\'b9\'d2\'aa\'d4\'d9ref\'d6\'d0\'d4\'f6\'bc\'d3allMail\'b5\'c4uid\
gmailId\'a3\'baaccountId+path+uid\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 account\
\
imap.gmail.com:lucky20191123@gmail.com``[Gmail]/&g0l6Pw-``56F4DEA3-2227-4BB5-86C5-2E0BD56BC667\
MsgIdInfo= uid=-1\
\
threadIds fetchThreadCount,-\'c3\'bf\'b8\'f6thread\'d3\'d0\'b6\'e0\'c9\'d9\'b8\'f6messageId\'a3\'acsnippet\'a3\'ac\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf24 snooze\'d6\'d8\'b9\'b9		3\
Exchange\'d6\'d8\'b9\'b9\'bf\'aa\'b7\'a2/\'b5\'f7\'ca\'d4	33\
App\'cb\'f9\'d3\'d0UI\'ba\'cd\'ca\'fd\'be\'dd\'d7\'b4\'cc\'ac\'cf\'d4\'ca\'be\'d2\'bb\'d6\'c2	15\
DataProvider\'cf\'e0\'b9\'d8\'ca\'fd\'be\'dd\'b0\'f3\'b6\'a8		5\
Action\'b1\'be\'b5\'d8\'ca\'fd\'be\'dd\'c2\'df\'bc\'ad			5\
smart reply				1\
MessageBulkOperation		2\
threadView\'d3\'ca\'bc\'fe\'c0\'ad\'c8\'a1\'ba\'cd\'cf\'d4\'ca\'be(GmailAPI/fill uid)	5\
gmail Search operation		3\
\'c4\'bf\'c7\'b0\'d2\'d1\'b4\'e6\'d4\'dabug\'b5\'c4\'d0\'de\'b8\'c4			3\cf2 \
\
GmailAdapter\'d6\'d8\'b9\'b9\
GmailSearch\
queryUnread  
\f0 size = \cf5 EMAIL_LIST_PAGE_SIZE\cf2  * \cf12 2 
\f1 \cf2 \'b5\'f7\'d3\'c3\'b5\'c4\'ca\'c7serch\'bd\'d3\'bf\'da\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf6 queryFlagged
\f1 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 queryAttachments
\f1 \'b5\'c4\'b2\'ce\'ca\'fd\'ca\'c71000\'a3\'ac
\f0 ATTACHMENT_CHECK_SIZE=1000
\f1 \'a3\'ac\
\
Snooze\'b4\'fa\'c2\'eb\'b5\'c4\'c8\'eb\'bf\'da\'b5\'e3\'a3\'ba\
EmailListTableViewCell.swif \'ca\'c7swipe\'c8\'eb\'bf\'da\'a1\'aa
\f0 snoozeMail
\f1 \
EmailListActionsController.swif\'b5\'c4swipeSnoozedEmail\'a3\'acopenSnoozeSetting\
snoozeManager.swif\'a1\'aa
\f0 snooze/cancelSnooze/unsnoozeAll/clearSnooze
\f1 \
EdoSnz.swift\'a1\'aa
\f0 removeNotification
\f1 \
ThreadListDataProvider\'ca\'c7\'bc\'d3\'d4\'d8snoozed\'d3\'ca\'bc\'fe\'b5\'c4\'bd\'e7\'c3\'e6\
EmailConversation\'a1\'aagetSnoozedConversation\

\f0 SnoozeOptionsViewController\'97 tableView
\f1 \'d6\'d0\'b5\'c4
\f0 \cf5 SettingsManager\cf2 .\cf6 getSnoozeOptionFor\cf2 (key)\
SnoozeTimePickerViewController\'97\
SnoozeTimePickerCell\'97
\f1 \
DeeplinkManager--
\f0 processUrl
\f1 \'d6\'d0\'b5\'c4
\f0 \cf6 processSnooze
\f1 \cf2 \
SettingManager\'a1\'aa
\f0 getSnoozeOptionFor
\f1 \
EmailListTableViewCell\'a1\'aa586\'d0\'d0\'a3\'ac\'c5\'d0\'b6\'cf\'ca\'c7\'b7\'f1\'bf\'c9\'d2\'d4\'d3\'d2\'bb\'ac\'b3\'f6snooze\'b5\'c4\'bb\'c6\'cc\'f5\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 let
\f0\b0 \cf2  MESSAGE_SNOOZED = \cf12 11\cf2     
\f4\i \cf20 //32
\f2\i0\fs24 \cf0 \

\f3\b\fs26 \cf4 let
\f0\b0 \cf2  MESSAGE_UNSNOOZED = \cf12 12\cf2   
\f4\i \cf20 //33		if message cancel unsnooze
\f2\i0\fs24 \cf0 \
\

\f3\b\fs26 \cf4 let
\f0\b0 \cf2  SNOOZE_DEFAULT = \cf12 0
\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 let
\f0\b0 \cf2  SNOOZE_DELETED = \cf12 1		EdoSnz
\f1 \cf12 \'b1\'ed
\f2\fs24 \cf0 \

\f1\fs26 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f4\i \cf20 //=============================Conversation state==========================
\f2\i0\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b\fs26 \cf4 let
\f0\b0 \cf2  CONV_NORMAL = \cf12 0
\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 let
\f0\b0 \cf2  CONV_DELETED = \cf12 1			//Email
\f4\i \cf20 Conversation
\f1\i0 \'b1\'ed
\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 let
\f0\b0 \cf2  CONV_SNOOZED = \cf12 2		//convesation is snoozed
\f2\fs24 \cf0 \

\f1\fs26 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 isSentByMe = account?.\cf5 imapAccount\cf2  == from.\cf5 emailAddress
\f1 \cf2 \

\f0 isSentByMe = from.mailbox == accountId.imapAccount\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \
\pard\tx593\pardeftab593\pardirnatural\partightenfactor0

\f0\fs24 \cf2 2 elements
\f2 \cf0 \

\f0 \cf2                   \uc0\u9663  0 : 2 elements
\f2 \cf0 \

\f0 \cf2                     - key : name
\f2 \cf0 \

\f0 \cf2                     - value : Content-Type
\f2 \cf0 \

\f0 \cf2                   \uc0\u9663  1 : 2 elements
\f2 \cf0 \

\f0 \cf2                     - key : value
\f2 \cf0 \

\f0 \cf2                     - value : multipart/alternative; boundary="----=_NextPart_5E6E3C0C_1078A0F0_08CD88C7"\
\pard\tx593\pardeftab593\pardirnatural\partightenfactor0

\f1\fs26 \cf2 \
\pard\tx593\pardeftab593\pardirnatural\partightenfactor0

\f0\fs24 \cf2 \uc0\u9663  Optional<Dictionary<String, String>>
\f2 \cf0 \

\f0 \cf2   \uc0\u9663  some : 11 elements
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  0 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : "Date"
\f2 \cf0 \

\f0 \cf2       - value : "Wed, 18 Mar 2020 08:44:35 GMT"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  1 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : "x-frame-options"
\f2 \cf0 \

\f0 \cf2       - value : "SAMEORIGIN"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  2 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : "x-content-type-options"
\f2 \cf0 \

\f0 \cf2       - value : "nosniff"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  3 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : "Content-Encoding"
\f2 \cf0 \

\f0 \cf2       - value : "gzip"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  4 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : "Server"
\f2 \cf0 \

\f0 \cf2       - value : "ESF"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  5 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : "Content-Type"
\f2 \cf0 \

\f0 \cf2       - value : "application/json; charset=UTF-8"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  6 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : "alt-svc"
\f2 \cf0 \

\f0 \cf2       - value : "quic=\\":443\\"; ma=2592000; v=\\"46,43\\",h3-Q050=\\":443\\"; ma=2592000,h3-Q049=\\":443\\"; ma=2592000,h3-Q048=\\":443\\"; ma=2592000,h3-Q046=\\":443\\"; ma=2592000,h3-Q043=\\":443\\"; ma=2592000,h3-T050=\\":443\\"; ma=2592000"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  7 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : "x-xss-protection"
\f2 \cf0 \

\f0 \cf2       - value : "0"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  8 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : "Content-Length"
\f2 \cf0 \

\f0 \cf2       - value : "7427"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  9 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : "Vary"
\f2 \cf0 \

\f0 \cf2       - value : "Origin, X-Origin, Referer"
\f2 \cf0 \

\f0 \cf2     \uc0\u9663  10 : 2 elements
\f2 \cf0 \

\f0 \cf2       - key : "Cache-Control"
\f2 \cf0 \

\f0 \cf2       - value : "private"\
\pard\tx593\pardeftab593\pardirnatural\partightenfactor0

\f1\fs26 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 \
Draft\'a1\'a2saveMessage\'a1\'a2sendMessage\'a3\'ba\
Draft\'d6\'ae\'c7\'b0\'d2\'d1\'be\'ad\'d0\'b4\'cd\'ea\'c1\'cb\'a3\'ac\'ba\'f3\'c0\'b4\'b7\'a2\'cf\'d6\'b1\'be\'b5\'d8\'b2\'dd\'b8\'e5localDraft\'cf\'d4\'ca\'be\'d3\'d0\'ce\'ca\'cc\'e2\'a3\'a8\'c3\'bb\'d3\'d0\'b0\'d1\'b5\'da\'b6\'fe\'d6\'d6draft\'b1\'a3\'b4\'e6\'d4\'da\'b9\'d8\'cf\'b5\'b1\'ed\'d6\'d0\'a3\'ac\'c8\'e7\'b9\'fbsave\'ca\'a7\'b0\'dc\'a3\'ac\'b1\'be\'b5\'d8\'ce\'de\'b7\'a8\'b2\'e9\'bf\'b4\'a3\'a9\'a3\'ac\'b4\'cb\'b4\'ce\'d6\'d8\'d0\'c2\'d0\'de\'b8\'c4\'c1\'cbdraft\'b5\'c4\'b7\'bd\'b0\'b8\
1\'a1\'a2draft\'b7\'d6\'c8\'fd\'d6\'d6\'a3\'ac(1)\'d2\'bb\'d6\'d6\'ca\'c7\'c3\'bf\'b8\'f43\'c3\'eb\'d7\'d4\'b6\'af\'b1\'a3\'b4\'e6\'b5\'c4draft\'a3\'ac(2)\'d2\'bb\'d6\'d6\'ca\'c7\'d3\'c3\'bb\'a7\'b1\'e0\'bc\'ad\'d3\'ca\'bc\'fe\'ba\'f3\'b5\'e3\'bb\'f7\'c8\'a1\'cf\'fb\'b1\'a3\'b4\'e6\'b5\'c4\'ce\'b4\'d3\'eb\'b7\'fe\'ce\'f1\'c6\'f7\'cd\'ac\'b2\'bd\'b5\'c4localDraft\'a3\'ac(3)\'d7\'ee\'ba\'f3\'d2\'bb\'d6\'d6\'ca\'c7\'b1\'a3\'b4\'e6\'ba\'f3\'d3\'eb\'b7\'fe\'ce\'f1\'c6\'f7\'cd\'ac\'b2\'bd\'b9\'fd\'b5\'c4draft\'a3\'ac\
\'c7\'b0\'c1\'bd\'b8\'f6\'c3\'bb\'d3\'d0uid\'a3\'acuid=-1\'a3\'ac\'d7\'ee\'ba\'f3\'d2\'bb\'b8\'f6\'d3\'d0uid\
\'b5\'da\'d2\'bb\'d6\'d6draft\'a3\'ac\'d6\'bb\'b1\'a3\'b4\'e6draft\'a3\'a8message\'a3\'a9\'b1\'be\'c9\'ed\'a3\'ac\'b2\'bb\'b1\'a3\'b4\'e6\'c6\'e4\'d3\'ebfolder\'a3\'acConversation\'d6\'ae\'bc\'e4\'b5\'c4\'b9\'d8\'cf\'b5\'a3\'ac\'bf\'c9\'d2\'d4\'d6\'b1\'bd\'d3\'c9\'be\'b3\'fd\
\'b5\'da\'b6\'fe\'d6\'d6draft\'a3\'ac\'bc\'c8\'b1\'a3\'b4\'e6draft\'b1\'be\'c9\'ed\'a3\'ac\'d2\'b2\'b1\'a3\'b4\'e6\'c6\'e4\'d3\'ebfolder\'a3\'acConversation\'d6\'ae\'bc\'e4\'b5\'c4\'b9\'d8\'cf\'b5\'a3\'acref\'b1\'ed\'b4\'e6\'b4\'a2\'b8\'f1\'ca\'bd\'a3\'bamsgId=uuid , uid=-1, Conversation\'b1\'ed\'d6\'d0\'b5\'c4threadId\'d3\'c3msgId\'a3\'a8uuid\'a3\'a9\'b1\'ed\'ca\'be\
\'c0\'fd\'c8\'e7\'a3\'bamsgId = 2300B3CA-9ABF-4AA4-B9A1-0D8C28752EB2\'a3\'acuid=-1\'a3\'acthreadId=2300B3CA-9ABF-4AA4-B9A1-0D8C28752EB2\
\'b5\'da\'c8\'fd\'d6\'d6draft\'a3\'acsave(appendMessage)\'b3\'c9\'b9\'a6\'ba\'f3\'a3\'acappendMessage\'b7\'b5\'bb\'d8uid\'a3\'ac\'b5\'ab\'ca\'c7\'ce\'d2\'c3\'c7\'bb\'b9\'d0\'e8\'d2\'aa\'b0\'d1\'d5\'e2\'b8\'f6draft\'b5\'c4msgId\'ba\'cdpid\'d3\'c9uuid\'b8\'f1\'ca\'bd\'bb\'bb\'ce\'aa\'d5\'fd\'b3\'a3gmailId\'a3\'ac\'cb\'f9\'d2\'d4\'d0\'e8\'d2\'aa\'b8\'f9\'be\'dduid\'c0\'ad\'c8\'a1gmailId,\'c0\'ad\'c8\'a1gmailId\'ba\'f3\'a3\'ac\
\'bd\'ab\'d4\'ad\'c0\'b4\'b5\'c4draft update\'a1\'a3\'b8\'fc\'d0\'c2EdoMessage\'b1\'ed\'b5\'c4pid\'a3\'acmsgId\'a3\'acthreadId\'a3\'acstate\'a3\'acbodyDownloaded=true\'a3\'acref\'b1\'ed\'d6\'d0\'b5\'c4msgId\'a3\'acuid\'a3\'acEmailConversation\'b1\'ed\'d6\'d0\'b5\'c4theadId\'a1\'a3\'d5\'e2\'d1\'f9\'b5\'c4\'b2\'d9\'d7\'f7\'ba\'f3\'a3\'ac\'d5\'e2\'b8\'f6draft\'be\'cd\'b8\'faserver\'cd\'ac\'b2\'bd\'b9\'fd\'d2\'bb\'d1\'f9\'a3\'ac\'bc\'b4\'b1\'e3\'d2\'d4\'ba\'f3\'c0\'ad\'c8\'a1\'a3\'ac\'d2\'b2\'bb\'e1merge\'a3\'ac\'b2\'bb\'bb\'e1\'d3\'d0\'ca\'b2\'c3\'b4\'ce\'ca\'cc\'e2\
2\'a1\'a2\'d2\'f2\'ce\'aadraft\'b5\'c4pid\'b8\'f1\'ca\'bd\'cc\'d8\'ca\'e2\'a3\'ac\'c8\'e7\'a3\'baimap.gmail.com:lucky20191123@gmail.com``[Gmail]/&g0l6Pw-``2300B3CA-9ABF-4AA4-B9A1-0D8C28752EB2\
\'cb\'f9\'d2\'d4\'d5\'e2\'d6\'d6\'b8\'f1\'ca\'bd\'b5\'c4Gmail pid\'d3\'c3msgIdInfo\'b8\'f1\'ca\'bd\'c8\'a5\'d7\'aa\'bb\'bb\'d3\'d0\'b5\'e3\'b8\'b4\'d4\'d3\'a3\'ac\'b9\'casendMessage\'cf\'e0\'b9\'d8\'b5\'c4msgId\'b4\'ab\'b5\'dd\'ca\'b9\'d3\'c3msgIdsInfo\'ba\'cdmsgIds\'cb\'ab\'b2\'ce\'ca\'fd\'b4\'ab\'b5\'dd\'a3\'ac\'b1\'dc\'c3\'e2\'d7\'aa\'bb\'bb\'b4\'ed\'ce\'f3\
\
Draft\'d5\'e2\'b8\'f6\'b7\'bd\'b0\'b8\'b8\'fa\'d7\'c0\'c3\'e6\'b6\'cb\'b5\'c4\'b7\'bd\'b0\'b8\'b2\'bb\'cd\'ac\'a3\'ac\'d7\'c0\'c3\'e6\'b6\'cb\'ca\'c7\'cf\'c2\'c0\'ad\'b5\'c4\'ca\'b1\'ba\'f2\'cd\'a8\'b9\'fdref/message_Id\'c8\'a5merge\'a3\'ac\'b8\'f6\'c8\'cb\'b8\'d0\'be\'f5merge\'b2\'d9\'d7\'f7\'bb\'e1\'d3\'b0\'cf\'ec\'d0\'a7\'c2\'ca\'a3\'ac\'b2\'a2\'c7\'d2\'b2\'bb\'c4\'c7\'c3\'b4\'bf\'c9\'bf\'bf\'a3\'ac\'b2\'bb\'c8\'e7\'b0\'d1\'ca\'b1\'bc\'e4\'b7\'d6\'c9\'a2\'b5\'bd\'b5\'a5\'b8\'f6action\'d6\'d0\'d3\'c3\'bb\'a7\'cc\'e5\'d1\'e9\'ba\'c3\
\
Gmail Adapter\'b5\'c4\'d6\'d8\'b9\'b9\'a3\'ba\
1\'a1\'a2\'b1\'e0\'d0\'b4\'c5\'fa\'c1\'bf\'c0\'ad\'c8\'a1\'b6\'e0\'b8\'f6thread\'b5\'c4message count\'bd\'d3\'bf\'da-
\f0 fetchMsgCountByThreads
\f1 \'a3\'a8\'b4\'cb\'c7\'b0\'c3\'bb\'d3\'d0\'a3\'a9\
2\'a1\'a2\'d5\'fb\'c0\'edGmailAPI\'a3\'ac\'ba\'cf\'b2\'a2\'cd\'a8\'d3\'c3\'bd\'e2\'ce\'f6\'ba\'cd\'b4\'a6\'c0\'ed\'a3\'ac\'c9\'be\'b3\'fd\'d6\'d8\'b8\'b4\'b5\'c4\'b4\'fa\'c2\'eb\
3\'a1\'a2Batch\'bd\'d3\'bf\'da\'b7\'b5\'bb\'d8\'ca\'fd\'be\'dd\'bd\'e2\'ce\'f6\'d0\'de\'b8\'c4\
4\'a1\'a2\'cb\'f9\'d3\'d0Gmail Adapter\'b5\'c4messageId\'b5\'c4\'b4\'e6\'b4\'a2\'b7\'bd\'ca\'bd\'cd\'b3\'d2\'bb\'b3\'c9\'ca\'ae\'bd\'f8\'d6\'c6\'a3\'a8\'d6\'ae\'c7\'b0\'ce\'aa16\'bd\'f8\'d6\'c6\'a3\'a9\
5\'a1\'a2\'b4\'f2\'bf\'aaGmail Adapter\'a3\'ac\'b6\'d4\'d3\'daGmail\'d3\'ca\'bc\'fe\'b5\'f7\'d3\'c3GmailAdapter\'a3\'ac\'b2\'a2\'b2\'bb\'ca\'c7Gmail\'d3\'ca\'bc\'fe\'be\'cd\'bb\'e1\'b5\'f7\'d3\'c3GmailAPI\'a3\'ac\'be\'f8\'b4\'f3\'b2\'bf\'b7\'d6GmailAdapter\'b5\'c4\'b7\'bd\'b7\'a8\'b6\'bc\'bb\'e1\'b5\'f7\'d3\'c3super\'a3\'a8IMAP\'a3\'a9\'b5\'c4\'b7\'bd\'b7\'a8\'a3\'ac\'d6\'ae\'c7\'b0\'b5\'c4useGmailAPI\'a3\'a8\'ca\'b5\'bc\'ca\'ba\'ac\'d2\'e5\'ca\'c7\'ca\'c7\'b7\'f1\'d3\'d0token\'a3\'a9\'b8\'c4\'ce\'aa
\f0 \cf5 hasOAuthToken
\f1 \cf5 \'a3\'ac\cf2 \'d4\'da\'d0\'e8\'d2\'aa\'ca\'b9\'d3\'c3GmailAPI\'b5\'c4\'b7\'bd\'b7\'a8\'d4\'f6\'bc\'d3\'b2\'ce\'ca\'fduseGmailAPI\'a3\'ac\'c4\'ac\'c8\'cf\'d6\'b5\'ce\'aatrue\'a3\'ac\'d5\'e2\'d1\'f9\'d4\'da\'b5\'f7\'d3\'c3\'bd\'d7\'b6\'ce\'be\'cd\'c4\'dc\'c8\'b7\'b6\'a8\'ca\'c7\'b7\'f1\'ca\'b9\'d3\'c3GmailAPI\'a3\'ac\'b2\'bb\'ca\'b9\'d3\'c3\'b5\'c4\'bb\'b0\'a3\'ac\'b4\'ab\'b2\'cefalse\'bc\'b4\'bf\'c9\
6\'a1\'a2body merge\'a3\'ba\'d2\'d1\'be\'ad\'cf\'c2\'d4\'d8header\'bb\'f2\'d5\'dfbody\'b5\'c4\'d3\'ca\'bc\'fe\'a3\'ac\'ba\'cf\'b2\'a2\'d0\'c2\'b5\'c4\'d7\'b4\'cc\'ac\'ba\'cddata\'b2\'a2\'b1\'a3\'b4\'e6\'a3\'bb\
7\'a1\'a2Attachment merge\'a3\'baAttachment\'b5\'c4key\'ce\'aauuid\'a3\'ac\'b2\'bb\'ba\'cf\'b2\'a2\'bb\'e1\'b1\'a3\'b4\'e6\'b6\'e0\'cc\'f5\'a1\'a3\'cc\'ed\'bc\'d3message\'b5\'bdDB\'d6\'d0\'ca\'b1\'a3\'ac\'ce\'ac\'bb\'a44\'b8\'f6\'b9\'d8\'cf\'b5\'b1\'ed\
8\'a1\'a2baseActOperation\'b5\'c4preProcess\'d6\'d0\'d3\'c3msgIds\'c8\'a5\'d1\'ad\'bb\'b7\'b4\'a6\'c0\'ed\'a3\'ac\'ca\'b5\'bc\'ca\'c9\'cfmsgIds\'d6\'d0\'c3\'bb\'d3\'d0provider\'d0\'c5\'cf\'a2\'a3\'ac\'d3\'c3msgIdInfo\'cc\'e6\'bb\'bb\'d6\'ae\'a3\'ac\'bb\'b9\'d3\'d0\'b8\'f6\'c2\'df\'bc\'ad\'c7\'b0\'cc\'e1\'be\'cd\'ca\'c7\'a3\'ac\'d0\'c2\'b0\'e6\'b5\'c4gmail\'d3\'ca\'bc\'femsgId\'b8\'f1\'ca\'bd\'d6\'bb\'d3\'d0\'d2\'bb\'d6\'d6\'be\'cd\'ca\'c7accountId+gmailId\'a3\'ac\'c3\'bb\'d3\'d0\'c0\'cf\'b0\'e6\'d3\'c3IMAP\'ca\'c7accountId+path+uid\'b8\'f1\'ca\'bd\'a3\'ac\'d3\'c3gmailAPI\'ca\'c7accountId+gmailId\'b8\'f1\'ca\'bd\
\
ThreadView\'cf\'e0\'b9\'d8\'a3\'ba\
ThreadView\'b5\'c4\'cb\'bc\'c2\'b7\
1\'a1\'a2\'ca\'c7\'d4\'daThreadList\'bd\'e7\'c3\'e6\'c0\'ad\'c8\'a150\'b7\'e2\'d3\'ca\'bc\'fe\'bd\'e1\'ca\'f8\'ba\'f3\'a3\'ac\'be\'cd\'d3\'c3GmailAPI\'bb\'f1\'c8\'a1\'b6\'e0\'b8\'f6thread\'b5\'c4msgCount\'a3\'a8
\f0 fetchMsgCountByThreads
\f1 \'a3\'a9\'a3\'ac\'b1\'a3\'b4\'e6\'d4\'daEmailConversation\'b1\'ed\'b5\'c4
\f0 msgCount
\f1 \'d6\'d0\'a3\'ac\'c8\'e7\'b9\'fb
\f0 msgCount
\f1 \'d3\'d0\'d6\'b5\'a3\'ac\'ca\'b9\'d3\'c3
\f0 msgCount
\f1 \'b5\'c4\'d6\'b5\'a3\'ac\'c3\'bb\'d3\'d0\'be\'cd\'d3\'c3
\f0 threadInfo
\f1 \'d6\'d0\'bc\'c6\'cb\'e3\'b5\'c4\'d3\'ca\'bc\'fe\'ca\'fd\'c1\'bf\
2\'a1\'a2\'d3\'c3\'bb\'a7\'b5\'e3\'bb\'f7\'d2\'bb\'b8\'f6Thread\'bd\'f8\'c8\'eb\'b5\'bdthreadView\'d6\'d0\'a3\'acloadServerData\'d6\'d0\'b5\'f7\'d3\'c3
\f0 \cf6 fetchThreadsMessages
\f1 \cf2 \'a3\'ac\'d3\'c3GmailAPI\'c0\'ad\'c8\'a1\'d5\'e2\'b8\'f6Thread\'b5\'c4\'cb\'f9\'d3\'d0\'d3\'ca\'bc\'fe\'a3\'a8\'c8\'e7\'b9\'fb\'b2\'bb\'ca\'c7Trash folder\'a3\'ac\'c5\'c5\'b3\'fdtrash\'d3\'ca\'bc\'fe\'a3\'a9\'a3\'ac\'c0\'ad\'c8\'a1\'d6\'ae\'ba\'f3\'b5\'f7\'d3\'c3setReadMessage\'d6\'c3\'ce\'aa\'d2\'d1\'b6\'c1\'a3\'ac\'d5\'e2\'b8\'f6setReadMessage\'bb\'e1\'b5\'f7\'d3\'c3\'c1\'bd\'b4\'ce\'a3\'ac\'d2\'bb\'b4\'ce\'ca\'c7\'d4\'da\'bd\'f8\'c8\'ebthreadView\'bb\'e1\'c1\'a2\'bc\'b4\'b4\'a5\'b7\'a2\'a3\'ac\'d2\'bb\'b4\'ce\'ca\'c7GmailAPI\'cf\'c2\'d4\'d8\'cb\'f9\'d3\'d0\'d3\'ca\'bc\'fe\'ba\'f3\'b5\'f7\'d3\'c3\
3\'a1\'a2\'d2\'f2\'ce\'aa\'d0\'c2\'c0\'ad\'c8\'a1\'b5\'c4\'d3\'ca\'bc\'fe\'c3\'bb\'d3\'d0uid\'a3\'ac\'d4\'dasetReadMessage\'d5\'e2\'b8\'f6action\'b5\'f7\'d3\'c3\'d6\'ae\'c7\'b0\'a3\'acbaseAct\'d6\'d0\'b5\'c4preProcess\'bb\'e1\'c4\'c3\'d7\'c5\'b6\'e0\'b8\'f6gmailMessageId search\'bb\'f1\'c8\'a1\'d2\'bb\'d7\'e9uid\'a3\'ac\'b5\'ab\'ca\'c7\'d5\'e2\'d0\'a9uid\'bb\'b9\'c3\'bb\'b0\'ec\'b7\'a8\'ba\'cdgmailId\'b6\'d4\'d3\'a6\'c9\'cf\'a3\'ac\'bb\'b9\'b5\'c3\'cd\'a8\'b9\'fdfetchmessage\'b5\'c3\'b5\'bduid\'ba\'cdgmailId\'b5\'c4\'d3\'b3\'c9\'e4\'b9\'d8\'cf\'b5\
4\'a1\'a2ThreadView UI/dp\'b2\'bf\'b7\'d6\'d6\'d8\'d0\'c2\'ca\'e1\'c0\'ed\'d0\'de\'b8\'c4\'a3\'acdp\'ce\'aa\'bf\'d5\'b5\'c4\'ce\'ca\'cc\'e2\'b3\'b9\'b5\'d7\'bd\'e2\'be\'f6\'a3\'ac2\'b8\'f6dp\'d6\'d0\'b6\'bc\'ba\'ac\'d3\'d0folderPath\'ba\'cdfolderType\'a3\'ac
\f0 ThreadDataProvider
\f1 \'d6\'d0
\f0 threadInfo
\f1 \'b5\'c4
\f0 didset
\f1 \'b7\'bd\'b7\'a8\'d3\'d0\'ce\'ca\'cc\'e2\'a3\'ba\'b3\'f5\'ca\'bc\'bb\'af\'b2\'bb\'bb\'e1\'b4\'a5\'b7\'a2didset\'a3\'acloadData\'d6\'d0\'b8\'fc\'d0\'c2threadInfo\'bb\'e1\'d1\'ad\'bb\'b7\'b5\'f7\'d3\'c3\'d2\'fd\'b7\'a2crash\'a3\'ac\'bd\'ab\'c6\'e4\'b8\'c4\'ce\'aa\'d4\'daloadData\'d6\'d0\'b8\'b3\'d6\'b5threadInfo\'a1\'a3\'b7\'c7\'b4\'cbthreadId\'b5\'c4\'cf\'fb\'cf\'a2\'b2\'bb\'b4\'a6\'c0\'ed\
5\'a1\'a2\'d4\'daEmailList\'c1\'d0\'b1\'ed\'d6\'d0\'b5\'e3\'bb\'f7Edit\'a3\'ac\'c5\'fa\'c1\'bf\'d1\'a1\'d4\'f1\'b6\'e0\'b8\'f6thread\'bd\'f8\'d0\'d0\'b2\'d9\'d7\'f7\'a3\'a8move\'a3\'acarchive\'b5\'c8\'a3\'a9\'d6\'bb\'b6\'d4\'b8\'c3thread\'d2\'d1\'be\'ad\'cf\'c2\'d4\'d8\'b5\'c4\'d3\'ca\'bc\'fe\'bd\'f8\'d0\'d0\'b2\'d9\'d7\'f7\'a3\'ac\'c3\'bb\'d3\'d0\'cf\'c2\'d4\'d8\'b5\'c4\'b2\'bb\'b2\'d9\'d7\'f7\'a1\'a3\'bd\'f8\'c8\'eb\'b5\'bdthreadView\'bd\'e7\'c3\'e6\'a3\'ac\'b6\'d4\'b8\'c3Thread\'cb\'f9\'d3\'d0\'b5\'c4\'d3\'ca\'bc\'fe\'b2\'d9\'d7\'f7\'a3\'ac\'c8\'e7\'b9\'fb\'d3\'d0\'b6\'e0\'b8\'f6folderPath\'a3\'ac\'d4\'f2\'b7\'d6path\'b5\'f7\'d3\'c3\'cf\'e0\'b9\'d8action\'a3\'ac\'c3\'bb\'d3\'d0uid\'a3\'ac\'bb\'e1\'c7\'b0\'d6\'c3\'c0\'ad\'c8\'a1\'a1\'a3action\'b6\'bc\'bb\'e1\'d3\'c3IMAP\'bd\'d3\'bf\'da\
6\'a1\'a2\'b8\'bd\'bc\'fe\'ba\'cdinline\'cd\'bc\'c6\'ac\'cf\'c2\'d4\'d8\'a3\'ac\'c5\'c2uid\'ce\'aa0\'ca\'b1\'a3\'ac\'c7\'b0\'d6\'c3\'c0\'ad\'c8\'a1uid\'ba\'c4\'ca\'b1\'b3\'a4\'a3\'ac\'b4\'cb\'b4\'a6\'b5\'f7\'d3\'c3Gmail\'bd\'d3\'bf\'da\'c0\'ad\'c8\'a1Attachment\'ba\'cdinline\'cd\'bc\'c6\'ac\
\
\'cf\'df\'c9\'cf\'b0\'e6\'b1\'be\'d0\'e8\'d2\'aa\'d0\'de\'b8\'b4\'b8\'fc\'d0\'c2\'b5\'c4\'b5\'d8\'b7\'bd\'a3\'ba\
1\'a1\'a2\'d6\'dc\'c4\'a9\'b5\'f7\'b3\'cc\'d0\'f2\'ca\'b1\'b7\'a2\'cf\'d6gmail \'c0\'ad\'d3\'ca\'bc\'fe\'b5\'c4batch\'bd\'d3\'bf\'da\'cd\'bb\'c8\'bb\'bd\'e2\'ce\'f6\'ca\'a7\'b0\'dc\'a3\'ac\'d6\'ae\'c7\'b0\'bb\'b9\'c3\'bb\'b3\'f6\'cf\'d6\'b9\'fd\'a3\'ac\'b7\'a2\'cf\'d6\'ca\'c7batch\'bd\'d3\'bf\'da\'b7\'b5\'bb\'d8\'b5\'c4data\'b8\'f1\'ca\'bd\'b1\'e4\'c1\'cb\'a3\'ac\'bf\'aa\'cd\'b7\'b6\'e0\'c1\'cb\'d2\'bb\'b8\'f6\'a1\'b1\\r\\n\'a1\'b1,\'b5\'bc\'d6\'c2\'ce\'de\'b7\'a8\'d5\'fd\'c8\'b7\'d5\'d2\'b5\'bdboundary\'a3\'ac\'bd\'e2\'ce\'f6\'ca\'a7\'b0\'dc\'a1\'a3\'be\'ad\'b9\'fd\'ba\'cb\'ca\'b5\'b7\'a2\'cf\'d6\'b2\'a2\'b2\'bb\'ca\'c7\'cb\'f9\'d3\'d0\'b5\'c4\'d5\'cb\'ba\'c5\'cb\'f9\'d3\'d0\'b5\'c4\'d3\'ca\'bc\'fe\'bb\'e1\'d3\'c3\'d5\'e2\'d6\'d6\'d0\'c2\'b5\'c4\'b8\'f1\'ca\'bd\'a3\'ac\'d6\'bb\'ca\'c7\'c4\'b3\'d0\'a9\'d5\'cb\'ba\'c5\'bb\'e1\'d3\'c3\'d5\'e2\'d6\'d6\'d0\'c2\'b8\'f1\'ca\'bd\'a3\'ac\'b2\'c2\'b2\'e2\'ca\'c7Gmail\'c4\'b3\'d0\'a9\'b7\'fe\'ce\'f1\'c6\'f7\'b5\'c4\'bd\'d3\'bf\'da\'b7\'b5\'bb\'d8\'d5\'e2\'d6\'d6\'b8\'f1\'ca\'bd\'a3\'ac\'b8\'f6\'c8\'cb\'be\'f5\'b5\'c3\'b5\'c3\'d4\'da\'b5\'fc\'b4\'fa\'b0\'e6\'b1\'be\'d6\'d0\'d0\'de\'b8\'c4\'b8\'fc\'d0\'c2\'b6\'d4Gmail batch\'bd\'d3\'bf\'da\'d0\'c2\'b8\'f1\'ca\'bd\'b5\'c4\'bd\'e2\'ce\'f6\'a1\'a3\'d6\'d8\'b9\'b9\'b0\'e6\'b1\'be\'b4\'cb\'b4\'a6\'d2\'d1\'be\'ad\'d0\'de\'b8\'b4\
2\'a1\'a2Gmail\'b6\'d4batch\'bd\'d3\'bf\'da\'b5\'c4\'d7\'d3\'c7\'eb\'c7\'f3\'ca\'fd\'c1\'bf\'cf\'de\'d6\'c6\'d4\'da\'b2\'bb\'b3\'ac\'b9\'fd50\'a3\'a8\'ce\'c4\'b5\'b5\'d6\'d0\'ca\'c7100\'bb\'b9\'ce\'b4\'b8\'fc\'d0\'c2\'a3\'a9\'a3\'ac\'c8\'e7\'b9\'fb\'b3\'ac\'b9\'fd50\'a3\'ac\'d4\'f2\'c7\'eb\'c7\'f3\'ca\'a7\'b0\'dc\'a1\'a3\'c4\'bf\'c7\'b0\'cf\'df\'c9\'cf\'b0\'e6\'b1\'be\'b5\'c4queryUnread\'a3\'acqueryFlagged\'a3\'acqueryAttachment\'a3\'ac\
\'c6\'e4\'d6\'d0queryAttachment  search\'b5\'c4\'ca\'fd\'c1\'bf\'ca\'c71000\'a3\'a8
\f3\b \cf4 let
\f0\b0 \cf2  ATTACHMENT_CHECK_SIZE = \cf12 1000
\f1 \cf2 \'a3\'a9\'a3\'ac\'d4\'da\'b7\'b5\'bb\'d8\'b5\'c4\'bd\'e1\'b9\'fb\'d6\'d0\'a3\'a81000\'b8\'f6\'c0\'ef\'c3\'e6\'b4\'f3\'b8\'c5\'c2\'ca\'bb\'e1\'b3\'ac\'b9\'fd50\'b4\'f8\'b8\'bd\'bc\'fe\'a3\'a9\'b5\'f7\'d3\'c3Gmail API\'b5\'c4
\f0 syncMessagesStructure
\f1 \'a3\'ac
\f0 downloadMessagesBody
\f1 \'ba\'cd
\f0 syncMessageFlags
\f1 \'a3\'ac\'d5\'e2\'c8\'fd\'b8\'f6\'b6\'bc\'ca\'c7\'c5\'fa\'c1\'bf\'bb\'f1\'c8\'a1message\'b5\'c4
\f0 batch
\f1 \'bd\'d3\'bf\'da\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 deleteAccount\'b5\'f7\'d3\'c3\'c1\'f7\'b3\'cc\cf2 \'a3\'ba\
AccountSettingViewController.tableView(_:didSelectRowAt:->
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 deleteAccount\cf2 ()->SettingsManager.deleteAccount
\f1 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 ->
\f0\b0 \cf5 UniboxFilterSettingManager\cf2 .\cf6 deleteAccount\cf2 (accountId: accountId)\
->
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 saveUniboxFilterSettings\cf2 (uniboxFilterSettings: uniboxFilterSettings)\
->\cf5 BroadcastCenter\cf2 .\cf6 postNotification\cf2 (.\cf6 UniboxSettingChanged\cf2 )\
->DataProvider.processNotification(_:)\
->ThreadListDataProvider.loadData(notification:)\
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f5\b \cf10 \'b8\'fa\'ca\'e9\'ba\'c0\'cd\'ac\'b2\'bd
\f3 4
\f5 \'d4\'c2\'b5\'d7\'b0\'e6\'b1\'be\'b5\'c4\'d2\'bb\'d0\'a9\'c7\'e9\'bf\'f6\'a3\'ba
\f1\b0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 DB\'a3\'ba\cf2 \
1\'a1\'a2\'b8\'f7\'b8\'f6\'b1\'ed\'b5\'c4primary key\'d2\'d1\'be\'ad\'bb\'bb\'ce\'aarowId\'a3\'ac\'d6\'ae\'c7\'b0\'b5\'c4pid\'b5\'c3\'d2\'d4\'b1\'a3\'c1\'f4\'a3\'ac\'b5\'ab\'d2\'d1\'b2\'bb\'ca\'c7\'d6\'f7\'bc\'fc\'a3\'ac\'d0\'e8\'d2\'aa\'cd\'a8\'b9\'fd\'c5\'d0\'b6\'cfpid\'ca\'c7\'b7\'f1\'b4\'e6\'d4\'da\'b1\'dc\'c3\'e2\'d6\'d8\'b8\'b4\'a3\'acPid\'b5\'c4\'c9\'fa\'b3\'c9\'d7\'e9\'b3\'c9-
\f0 generateKey
\f1 \'a3\'acGmail\'a3\'baaccountId+msgId; IMAP:accountId+path+uid; localDraft: accountId+draftpath+uuid, uid=-1, original Draft: accountId+draftPath+uid\
2\'a1\'a2\'c8\'a5\'b5\'f4EdoLabel\'b1\'ed\'a3\'acEdoThread\'b1\'ed\'c3\'bb\'d3\'c3\'c1\'cb\'a3\'ac\'c8\'a5\'b5\'f4EdoMessage\'d6\'d0\'b5\'c4label\'d7\'d6\'b6\'ce\
3\'a1\'a2EdoMessage\'b1\'ed\'d6\'d0\'b5\'c4Body\'a3\'acpath\'a3\'actype\'b5\'c8\'ca\'b9\'d3\'c3\'b5\'c4\'b5\'d8\'b7\'bd\'cc\'ab\'b9\'fd\'b9\'e3\'b7\'ba
\fs24 \cf0 \cb1 \'a3\'a8\'c7\'a9\'c3\'fb\'a1\'a2
\f8 sift
\f1 \'a3\'ac
\f8 notification
\f1 \'a3\'ac
\f8 exchange
\f1 \'a3\'a9
\fs26 \cf2 \cb3 \'d4\'f1\'bb\'fa\'d2\'c6\'b3\'fd\'a3\'acbody\'ce\'c4\'bc\'fe\'b4\'e6\'b4\'a2\'d3\'c3\'b5\'c4\'ca\'c7rowId\'d7\'f6\'ce\'c4\'bc\'fe\'c3\'fb\'a3\'ac\'d2\'d7\'d3\'da\'b2\'e9\'d5\'d2\'ba\'cd\'b5\'f7\'ca\'d4\
4\'a1\'a2Labels,labelIds,path\'d5\'e2\'c8\'fd\'d5\'df\'cd\'b3\'d2\'bb\'ce\'aapath\'a3\'ac\'d7\'ee\'ba\'f3\'b6\'bc\'d7\'aa\'bb\'bb\'ce\'aapath\'a3\'ac\'bc\'f2\'bb\'af\'c2\'df\'bc\'ad\'a3\'ac\'bd\'ablabels\'d4\'a4\'d6\'c3\'b5\'bdDB\'d6\'d0\'a3\'acEdoFolder\'b5\'c4sysLabelName\'d7\'d6\'b6\'ce\'a3\'acEdoEmailRef.swift\'ce\'c4\'bc\'fe\'d6\'d0\'b6\'bc\'ca\'c7labels\'a3\'aclabelId\'ba\'cdpath\'d6\'ae\'bc\'e4\'b5\'c4\'d7\'aa\'bb\'bb\'a3\'ac\'bc\'d3\'c1\'cbcache\
5\'a1\'a2EdoConversation\'b1\'ed\'d4\'f6\'bc\'d3msgCount\'a3\'a8list\'d6\'d0\'d3\'ca\'bc\'fe\'ca\'fd\'c1\'bf\'a3\'a9\'ba\'cdstate\'d7\'d6\'b6\'ce\'a3\'a8snooze\'a3\'a9\
6\'a1\'a2\'c0\'ad\'c8\'a1\'d3\'ca\'bc\'fe\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'aclabels\'c0\'ef\'c3\'e6\'c4\'ac\'c8\'cf\'b2\'e5\'c8\'ebAllMail\'a3\'acAllMail\'ba\'cd
\f0 trashPath
\f1 \'a1\'a2
\f0 spamPath
\f1 \'b7\'d6\'b1\'f0\'ca\'c7\'bb\'a5\'b3\'e2\'b5\'c4\
7\'a1\'a2\'b8\'bd\'bc\'fe\'d2\'f2\'ce\'aamessage\'d6\'bb\'d3\'d0\'d2\'bb\'b8\'f6\'a3\'ac\'cb\'f9\'d2\'d4\'b8\'bd\'bc\'fe\'d6\'bb\'d3\'d0\'d2\'bb\'b8\'f6\'b8\'b1\'b1\'be\'a3\'ac\'c0\'cf\'b0\'e6\'bb\'e1\'d3\'d0\'b6\'e0\'b8\'f6\'b8\'b1\'b1\'be\'a3\'acbody\'ce\'c4\'bc\'fe\'d2\'b2\'d6\'bb\'d3\'d0\'d2\'bb\'b8\'f6\'b8\'b1\'b1\'be\
8\'a1\'a2msgIdInfo\'ba\'cdpid\'d6\'ae\'bc\'e4\'b5\'c4\'d7\'aa\'bb\'bb\'a3\'acmsgIdInfo\'d6\'d0\'c3\'bb\'d3\'d0\'bc\'d3\'c0\'e0\'d0\'cd\'d0\'c5\'cf\'a2\'a3\'ac\'ca\'c7\'cd\'a8\'b9\'fdaccuntId\'c0\'b4\'c5\'d0\'b6\'cf\'c0\'e0\'d0\'cd\'b5\'c4\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf13 \'d2\'bb\'a1\'a2Sync
\f0 Manager\cf2 \
1
\f1 \'a1\'a2
\f0 SyncInfo
\f1 \'a3\'ba
\f0 createPrimaryOperations
\f1 \'d6\'d0\'b5\'c4\'d0\'de\'b8\'c4\'a3\'bafolderPath\'ba\'cdfolderType\'a3\'ac\'bf\'c9\'c4\'dc\'b4\'ab\'c8\'eb\'b5\'c4folderPath\'ce\'aa\'bf\'d5\'a3\'ac\'bb\'f2\'d5\'dffolderType\'ce\'aa\'bf\'d5\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 2
\f1 \'a1\'a2\'d4\'da
\f0 SyncInfo
\f1 \'d6\'d0\'cc\'ed\'bc\'d3\'c8\'f5\'d2\'fd\'d3\'c3
\f0 syncOpDelegate
\f1 \'a3\'ac
\f0 syncInfo.\cf5 syncOpDelegate\cf2  = op
\f1 \'a3\'ac
\f0 Action
\f1 \'d2\'b2\'ca\'c7\'c8\'e7\'b4\'cb\'cc\'ed\'bc\'d3\'c8\'f5\'d2\'fd\'d3\'c3\'a1\'a3
\f0 \
3
\f1 \'a1\'a2fetchMessage\'ca\'c7\'b6\'d44\'b8\'f6\'b1\'ed\'b5\'c4\'ce\'ac\'bb\'a4\'a3\'acmessage\'a3\'acfolder\'a3\'acref\'a3\'acConversation\'a1\'a3
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 \'cc\'ed\'bc\'d3message-\'a1\'b7
\f0 \cf2 addOrMergeMessage\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \'c9\'be\'b3\'fd
\f0 message
\f1 -\'a1\'b7
\f0 deleteUpdateMsgs\
Move
\f1 \'c0\'e0\'b2\'d9\'d7\'f7-\'a1\'b7
\f0 changeMessagesFolder\
message
\f1 \'b5\'c4
\f0 merge
\f1 -\'a1\'b7
\f0 mergeWithMailcoreMsg\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 \'ce\'ac\'bb\'a4Edo
\f0 Folder
\f1 \'ba\'cd
\f0 EdoIMAPRef
\f1 \'b1\'ed-\'a1\'b7
\f0 updateGmailIMAPRef\

\f1 \'ce\'ac\'bb\'a4Email
\f0 Conversation
\f1 \'b1\'ed\'ba\'cd
\f0 EdoMessage
\f1 \'b1\'ed-\'a1\'b7
\f0 updateFoldersInConv
\f1 \
4\'a1\'a2\'ba\'dc\'b6\'e0\'b7\'bd\'b7\'a8\'c8\'b1path\'a3\'ac\'d0\'e8\'d2\'aa\'b4\'ab\'c8\'ebpath\'a3\'ac\'b1\'c8\'c8\'e7\'a3\'ba
\f0 \cf2 remoteUids
\f1 \cf10 \
5\'a1\'a2\'bd\'d3\'bf\'da\'b9\'fd\'c2\'cb\'cf\'fb\'cf\'a2\'d7\'b4\'cc\'ac\'a3\'ac
\f0 \cf2 excludeState:\cf7 Int\cf2 =\cf5 STATE_BOTH_DELETE
\f1 \cf10 \'a3\'ac\'b8\'b4\'d3\'c3\'a3\'ac\'d5\'fb\'b8\'f6app\'b5\'c4\'d2\'bb\'b8\'f6\'cb\'bc\'c2\'b7\'be\'cd\'ca\'c7\'be\'a1\'bf\'c9\'c4\'dc\'b5\'c4\'b8\'b4\'d3\'c3\'a3\'ac\'b2\'bb\'d0\'b4\'d6\'d8\'b8\'b4\'b4\'fa\'c2\'eb\'a3\'ac\'b1\'e3\'d3\'da\'ce\'ac\'bb\'a4\'a3\'ac\'b8\'c4\'ba\'c3\'d2\'bb\'b4\'a6\'a1\'a3\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 ThreadListProvider:\cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 1\'a1\'a2\'d4\'da
\f0 getConvInfos
\f1 \'d6\'d0\'a3\'ac\'b6\'d4
\f0 snooze
\f1 \'a3\'acmessage
\f0 _delete
\f1 \'a3\'ac
\f0 trash message
\f1 \'b5\'c4\'b9\'fd\'c2\'cb\'a3\'a8\'c8\'e7\'b9\'fb\'d4\'datrash folder\'d0\'e8\'d2\'aa\'cf\'d4\'ca\'be\'a3\'a9\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 2\'a1\'a2queryMessage\'b5\'c4\'b5\'f7\'b6\'c8\
3\'a1\'a2
\fs24 \cf0 \cb1 opkeys\'b9\'dc\'c0\'ed\'a3\'acfinished=true\'a3\'ac\'d0\'e8\'d2\'aa\'d2\'c6\'b3\'fd\'a3\'ac\'b2\'bb\'d2\'c6\'b3\'fd\'bb\'e1\'b1\'a81005 cancel\'b4\'ed\'ce\'f3\'a3\'bb\'b4\'d3\'b1\'f0\'b5\'c4provider\'b7\'a2\'c0\'b4\'b5\'c4op\'b2\'bb\'bb\'e1\'b4\'a6\'c0\'ed\

\fs26 \cf10 \cb3 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf10 Trash\'b5\'c4\'cf\'d4\'ca\'be\'b2\'df\'c2\'d4\'b2\'bb\'ca\'c7\'d4\'daDB\'d6\'d0\'b4\'e6\'b4\'a2\'d7\'d6\'b6\'ce\'a3\'ac\'b6\'f8\'ca\'c7\'bc\'d3\'d4\'d8\'ca\'fd\'be\'dd\'ca\'b1\'b9\'fd\'c2\'cb\'a3\'bb\'d2\'bb\'b8\'f6\'ca\'c7
\f0 \cf2 info.\cf5 isInTrash(\cf2 conv.\cf10 folders
\f1 \'d6\'d0\'ca\'c7\'b7\'f1\'d3\'d0trash folder
\f0 \cf5 )
\f1 \cf10 \'a3\'ac\'d2\'bb\'b8\'f6\'ca\'c7\'b5\'b1\'c7\'b0folder\'ca\'c7\'b7\'f1\'ca\'c7
\f0 \cf2 .\cf6 Trash\cf2 , .\cf6 AllTrash\cf2 , .\cf6 Junk,
\f1 \cf10  \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 if
\f0\b0 \cf2  info.\cf5 isInTrash\cf2  && !\cf6 isInTrashFolder\cf2 (
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 accountId\cf2 ,
\f2\fs24 \cf0  
\f0\fs26 \cf2 folderPath:
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 folderPath\cf2 ,folderType:
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 folderType\cf2 )\{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2 	
\f3\b \cf4 continue
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2 \}
\f1 \cf10 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 \'b6\'fe\'a1\'a2ActionManager\cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f5\b \cf10 TodoAction\'a3\'ba
\f1\b0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf10 1
\f1 \'a1\'a2
\f0 needUseGmailAPI
\f1 \'a3\'ba
\f0 \cf2 .\cf6 setFlagMessage\cf2 , .\cf6 clearFlagMessage\cf2 , .\cf6 trashMessage\cf2 , .\cf6 deleteMessage\cf2 :\cf10 \
2
\f1 \'a1\'a2
\f0 needFilterCurrPath
\f1 ,\'b6\'d4\'d3\'da\'d2\'bb\'b8\'f6action\'a3\'ac\'b1\'c8\'c8\'e7move\'a3\'acarchive\'a3\'acspam\'a3\'actrash\cf2 \'a3\'ac\'d6\'bb\'d0\'e8\'d2\'aa\'d2\'c6\'b6\'af\'b5\'b1\'c7\'b0folder\'b5\'c4\'d3\'ca\'bc\'fe\
\pard\pardeftab560\slleading20\partightenfactor0

\fs24 \cf0 \cb1 \'c4\'bf\'c7\'b0\'b5\'c4
\f8 trash
\f1 \'a3\'ac
\f8 spam
\f1 \'a3\'ac
\f8 archive
\f1 \'d3\'c3\'b5\'c4\'b6\'bc\'ca\'c7
\f8 IMAP
\f1 \'b5\'c4
\f8 move
\f1 \'b2\'d9\'d7\'f7\'a3\'a8
\f8 Gmail
\f1 \'b5\'c4
\f8 trash
\f1 \'b2\'bb\'ca\'c7\'a3\'ac\'ca\'c7
\f8 GmailAPI
\f1 \'b2\'d9\'d7\'f7\'a3\'a9\'a3\'ac\'c8\'e7\'b9\'fb
\f8 msgs
\f1 \'d3\'d0\'b6\'e0\'b8\'f6
\f8 folder
\f1 \'a3\'ac\'c4\'c7\'c3\'b4\'d6\'bb\'d2\'c6\'b6\'af\'b5\'b1\'c7\'b0
\f8 folder
\f1 \'b5\'c4
\f8 msg
\f1 \'a3\'ac\'c6\'e4\'cb\'fb\'b5\'c4
\f8 message
\f1 \'bb\'e1\'b8\'fa\'cb\'e6\'d5\'fb\'b8\'f6
\f8 thread
\f1 \'d4\'da
\f8 dest folder
\f1 \'d6\'d0\'cf\'d4\'ca\'be\'a3\'ac
\f8 archive
\f1 \'ca\'c7\'d6\'bb\'c4\'dc\'d2\'c6\'b6\'af
\f8 INBOX folder
\f1 \'d6\'d0\'b5\'c4\'d3\'ca\'bc\'fe\'a3\'ac\'c6\'e4\'d3\'e0
\f8 folder
\f1 \'b2\'bb\'b4\'a6\'c0\'ed
\f0\fs26 \cf10 \cb3 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 3
\f1 \'a1\'a2
\f0 needBackupOldUids
\f1 \'a3\'acundo\'b2\'d9\'d7\'f7\'d6\'ae\'c7\'b0\'a3\'ac\'b1\'b8\'b7\'dd\'d4\'ad\'d3\'d0\'b5\'c4uid,flag,path\'b5\'c8\'d0\'c5\'cf\'a2\'b5\'bd
\f0 \cf2 actionStoreMsgs
\f1 \cf10  
\f4\i \cf20 [folderId:[MsgRestoreInfo]]
\f1\i0 \'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 \'b5\'e3\'bb\'f7
\f4\i undo
\f1\i0 \'d4\'d9\'bb\'d6\'b8\'b4\'a3\'ac\'b6\'d4\'d3\'a6
\f0 \cf2 removeLocally
\f1 \'ba\'cd
\f0 restoreLocallyRemoved\
4
\f1 \'a1\'a2
\f0 createOperations
\f1 \'d6\'d0\'d3\'d0\'d2\'bb\'b8\'f6\'b6\'d4gmail 
\f0 batch API
\f1 \'d7\'ee\'b6\'e0\'d6\'bb\'d6\'a7\'b3\'d6
\f0 50
\f1 \'b5\'c4\'b4\'a6\'c0\'ed\'a3\'ac\'b7\'d6\'bd\'e2\'ce\'aa\'b6\'e0\'b8\'f6\'d7\'e3\'b5\'d7\'b0\'a150\'b5\'c4action\
\cf10 5\'a1\'a2\'d2\'bb\'b8\'f6TodoAction\'b6\'d4\'d3\'a6\'b6\'e0\'b8\'f6actionOp\'a3\'ac\'c3\'bf\'b8\'f6actionOperation\'b6\'d4\'d3\'a6\'d2\'bb\'b8\'f6
\f0 \cf2 actInfo
\f1 \'a3\'ac
\f0 actInfo
\f1 \'b3\'d6\'d3\'d0\'d2\'bb\'b8\'f6
\f0 act
\f1 Op\'b5\'c4\'ca\'fd\'be\'dd\'a3\'ac\'d5\'e2\'d1\'f9\'b5\'c4\'c9\'e8\'d6\'c3\'a3\'acundo\'c3\'bb\'d3\'d0\'ce\'ca\'cc\'e2\cf10 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 6\'a1\'a2
\f8\fs24 \cf0 \cb1 msgIdInfoGroups
\f1 \'b7\'bd\'b7\'a8\'d4\'f6\'bc\'d3
\f8 folderType
\f1 \'a3\'ac\'d3\'c3
\f8 folderPath
\f1 \'ba\'cd
\f8 folderType
\f1 \'d2\'bb\'c6\'f0\'bb\'f1\'c8\'a1
\f8 path\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\fs26 \cf10 \cb3 7\'a1\'a2\'d4\'ad\'c0\'b4\'b5\'c4
\f0 groups
\f1 \'b7\'d6\'ce\'aa
\f0 groups
\f1 \'ba\'cd
\f0 gmailGroups
\f1 \'c1\'bd\'b8\'f6
\f0 group
\f1 \'a3\'ac\'b7\'d6\'b1\'f0\'b6\'d4\'d3\'a6
\f0 IMAP
\f1 \'ba\'cd
\f0 Gmail
\f1 \'d5\'cb\'ba\'c5\'b8\'f7\'d7\'d4\'b5\'c4Conversations\'a3\'ac\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 msgIdInfoGroups
\f1 \cf10 \'b5\'c4\cf2 \'d7\'f7\'d3\'c3\'ca\'c7\'bd\'ab\'b4\'ab\'c8\'eb\'b5\'c4
\f0 Conversations
\f1 \'a3\'a8\'bf\'c9\'c4\'dc\'d3\'d0\'b2\'bb\'cd\'ac\'d5\'cb\'ba\'c5\'b5\'c4convs\'a3\'a9\'b1\'e4\'b3\'c9\'d2\'d4folderId\'ce\'aakey\'a3\'acmsgIdinfo\'ca\'fd\'d7\'e9\'ce\'aavalue\'b5\'c4\'d7\'d6\'b5\'e4\'a3\'ac
\f8\fs24 \cf0 \cb1 \

\f0\fs26 \cf2 \cb3 8
\f1 \'a1\'a2
\f0 msgIdInfoGroups
\f1 \'b1\'d8\'d0\'eb\'b5\'c3\'b4\'ab\'c8\'ebfolderPath\'b2\'ce\'ca\'fd\'a3\'ac\'b2\'bb\'c8\'bb\'ce\'de\'b7\'a8\'d5\'fd\'c8\'b7\'bb\'f1\'c8\'a1\'d0\'e8\'d2\'aa\'b5\'c4uid\'a3\'a8msgIdInfo\'a3\'a9\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f8\fs24 \cf0 \cb1 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf13 UI action
\f1 \'cf\'e0\'b9\'d8\'a3\'ba
\f8 \cf0 \
\pard\pardeftab560\slleading20\partightenfactor0
\cf0 ThreadListViewController/ThreadViewController/ThreadDataProvider/EmailView:\
1
\f1 \'a1\'a2
\f8 ThreadListViewController
\f1 \'b5\'c4\'c5\'fa\'c1\'bfaction\'b2\'d9\'d7\'f7\'a3\'ac\'b6\'e0\'d5\'cb\'ba\'c5\'a3\'ac\'bc\'af\'b3\'c9/\'c8\'cb\'b9\'a4 
\f8 folder
\f1 \'a3\'ac\'d7\'d4\'b6\'a8\'d2\'e5
\f8 folder
\f1 \'a3\'ac\'d0\'e8\'d2\'aafolder
\f8 Path
\f1 \'ba\'cd
\f8 folderType
\f1 \'d5\'e2\'c1\'bd\'b8\'f6\'b2\'ce\'ca\'fd\'b9\'b2\'cd\'ac\'bb\'f1\'c8\'a1\'d5\'fd\'c8\'b7\'b5\'c4
\f8 path\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf0 2\'a1\'a2vc\'a3\'acview\'a3\'acprovider\'b6\'bc\'ba\'ac\'d3\'d0folderPath\'a3\'acfolderType\'a3\'acaccountId\'a3\'ac
\f0\fs26 \cf2 \cb3 threadInfo
\f1 \'d5\'e2\'d0\'a9\'ca\'f4\'d0\'d4\'a3\'ac\'d2\'f2\'ce\'aa
\fs24 \cf0 \cb1 \'b6\'e0\'d5\'cb\'ba\'c5\'a3\'ac\'bc\'af\'b3\'c9
\f8 folder
\f1 \'a3\'ac\'d7\'d4\'b6\'a8\'d2\'e5
\f8 folder
\f1 \'d5\'e2\'d0\'a9path\'b5\'c4\'bb\'f1\'c8\'a1\'d0\'e8\'d2\'aafolderPath\'ba\'cdfolderType\'b9\'b2\'cd\'ac\'bb\'f1\'c8\'a1\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\fs26 \cf2 \cb3 3\'a1\'a2\'d4\'daEmailListViewController\'d6\'d0\'b6\'d4thread\'bd\'f8\'d0\'d0Move\'b5\'c8action\'a3\'ac\'c8\'e7\'b9\'fbthread\'d6\'d0\'d3\'d0\'ce\'b4\'cf\'c2\'d4\'d8\'b5\'c4msg\'a3\'ac\'d4\'f2\'d6\'bb\'b6\'d4\'c4\'bf\'c7\'b0DB\'d3\'d0\'b5\'c4msg\'bd\'f8\'d0\'d0\'b2\'d9\'d7\'f7\
MoveMessage\'b5\'c4gmailId\'b8\'f1\'ca\'bd\'ca\'c716\'bd\'f8\'d6\'c6\'a3\'ac\'b8\'c4\'d6\'ae,\'d4\'daadapter\'b5\'f7\'d3\'c3\'b5\'c4\'ca\'b1\'ba\'f2\'a3\'ac\'b5\'f7\'b5\'bdgmail\'b5\'c4movemessage\'b7\'bd\'b7\'a8\'d6\'d0\'a3\'ac\'d0\'e8\'d2\'aa\'b5\'f7\'d3\'c3super. moveMessage\'d7\'aa\'b5\'bdIMAP\'b5\'c4moveMessage\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f8\fs24 \cf0 \cb1 \
\
\pard\pardeftab560\slleading20\partightenfactor0
\cf0 \
\pard\pardeftab560\slleading20\partightenfactor0

\f5\b \cf13 BaseActOperation\'a3\'ba
\f8\b0 \cf0 \
\pard\pardeftab560\slleading20\partightenfactor0

\f1 \cf0 \'d6\'d8\'b9\'b9\'b3\'c9\'b8\'faBase
\f8 SyncOperation
\f1 \'b5\'c4\'bc\'dc\'b9\'b9\'a3\'a8
\f0\fs26 \cf2 \cb3 runAdapterFunction
\f1 \'a3\'ac
\f0 broadCast
\f1\fs24 \cf0 \cb1 \'a3\'a9,\'c3\'bf\'b8\'f6\'d7\'d3Operation\'b8\'b2\'d0\'b4
\f0\fs26 \cf2 \cb3 runAdapterFunction
\f1 \'a3\'ac
\f0 bcn
\f1 \'a3\'ac
\f0 buildBCNInfo
\f1 \'a3\'ac
\f0 postProcess
\f1 \'b5\'c8\'b7\'bd\'b7\'a8
\f0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 preProcess
\f1 \'a3\'ba
\f0 IMAP
\f1 \'b2\'bb\'b4\'a6\'c0\'ed\'a3\'ac
\f0 gmail
\f1 \'d3\'ca\'bc\'fe\'b2\'bb\'d0\'e8\'d2\'aa\'cc\'e1\'c7\'b0\'c0\'ad\'c8\'a1uid\'b5\'c4\'b2\'bb\'b4\'a6\'c0\'ed\'a3\'ac\'ca\'a3\'cf\'c2\'b5\'c4gmail\'cd\'a8\'b9\'fdgmailIds search\'b5\'bduids\'a3\'ac\'bb\'b9\'d0\'e8\'d2\'aafetchmessage\'bb\'f1\'c8\'a1uid\'ba\'cdgmailId\'b5\'c4\'d3\'b3\'c9\'e4\'ba\'f3\'b1\'a3\'b4\'e6
\f8\fs24 \cf0 \cb1 \
\pard\pardeftab560\slleading20\partightenfactor0
\cf0 \
\pard\pardeftab560\slleading20\partightenfactor0
\cf13 GmailAdapter
\f1 \'a3\'ba\cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f8 \cf0 1
\f1 \'a1\'a2\'d6\'d8\'b9\'b9\'be\'f8\'b4\'f3\'b2\'bf\'b7\'d6
\f8 gmail API
\f1 \'a3\'ac
\f8 gmail
\f1 Id\'b8\'f1\'ca\'bd\'cd\'b3\'d2\'bb\'b8\'c4\'b3\'c910\'bd\'f8\'d6\'c6\'a3\'ac
\f0\fs26 \cf2 \cb3 fetchMessagesByThread
\f1 \'d6\'d0\'b5\'c4
\fs24 \cf0 \cb1 convertMessage\'a3\'ac
\fs26 \cf25 \cb26 \expnd0\expndtw0\kerning0
body merge\'a3\'acAttachment merge
\f8\fs24 \cf0 \cb1 \kerning1\expnd0\expndtw0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\fs26 \cf2 \cb3 2\'a1\'a2\'d4\'ad
\f0 useGmailAPI
\f1 \'b8\'c4\'ce\'aa
\f0 \cf10 hasOAuthToken
\f1 \'a3\'ac\'d4\'ad\'d3\'d0\'b5\'c4\'ca\'c7\'b7\'f1\'ca\'b9\'d3\'c3gmail\'ca\'c7\'cd\'a8\'b9\'fd\'ca\'c7\'b7\'f1\'d3\'d0OAthtoken\'c0\'b4\'c5\'d0\'b6\'cf\'b2\'bb\'d7\'bc\'c8\'b7\'a3\'acsync\'bb\'f2\'d5\'dfaction\'b5\'c4\'bd\'d3\'bf\'da\'d0\'c2\'d4\'f6
\f0 \cf2 useGmailAPI
\f1 \'b2\'ce\'ca\'fd\'a3\'ac\'d3\'c3\'d3\'da\'bf\'c9\'d2\'d4\'c7\'bf\'d6\'c6\'ca\'b9\'d3\'c3Gmail API\'a3\'ac\'b2\'a2\'b2\'bb\'ca\'c7\'c4\'ac\'c8\'cf\'b5\'c4\'c8\'e7\'b9\'fb\'ca\'c7GmailAdapter\'be\'cd\'d2\'aa\'d7\'dfgmail API\'a3\'ac\'b5\'f7\'d3\'c3\'ca\'b1\'b4\'ab\'b5\'dd
\f0 useGmailAPI true
\f1 \'ba\'cd
\f0 false
\f1 \'c0\'b4\'be\'f6\'b6\'a8\'ca\'c7\'b7\'f1\'ca\'b9\'d3\'c3
\f0 Gmail API
\f1 \'a3\'ac\'b1\'c8\'bd\'cf\'c1\'e9\'bb\'ee\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f8\fs24 \cf0 \cb1 3
\f1 \'a1\'a2
\fs26 \cf2 \cb3 \'d7\'ee\'bd\'fc\'b9\'c8\'b8\'e8\'b0\'d1\'b7\'b5\'bb\'d8\'b5\'c4\'b8\'f1\'ca\'bd\'b8\'c4\'c1\'cb\'a3\'ac
\f0 batch
\f1 \'bd\'d3\'bf\'da\'b5\'c4
\f0 boundary
\f1 \'b8\'c4\'d3\'c3\'b4\'d3http\'b5\'c4header\'bb\'f1\'c8\'a1\'b8\'fc\'bc\'d3\'d7\'bc\'c8\'b7\'a3\'ac\'d6\'ae\'c7\'b0\'ca\'c7\'bd\'e2\'ce\'f6\'b7\'b5\'bb\'d8\'b5\'c4data\'a3\'ac\

\f8\fs24 \cf0 \cb1 4
\f1 \'a1\'a2\'d3\'c3IMAP\'c0\'ad\'c8\'a1\'b5\'c4\'d3\'ca\'bc\'fe\'cd\'b7\'a3\'ac\'b2\'bb\'c4\'dc\'d3\'c3Gmail API\'c0\'ad\'c8\'a1\'a3\'ac\'d3\'c3gmail\'c0\'ad\'c8\'a1\'b5\'c4\'d3\'ca\'bc\'fe\'cd\'b7\'a3\'ac\'c3\'bb\'d3\'d0part\'d0\'c5\'cf\'a2\'a3\'ac\'d2\'b2\'b2\'bb\'c4\'dc\'d3\'c3IMAP\'c0\'ad\'c8\'a1\'a3\'ac\'d6\'bb\'c4\'dc\'d3\'c3Gmail API\'c0\'ad\'c8\'a1\'a3\'ac\'d5\'e2\'b8\'f6\'b0\'ef\'cd\'f5\'be\'fc\'b7\'d6\'ce\'f6\'ba\'cd\'bd\'e2\'be\'f6\'c1\'cb\'c0\'ad\'d3\'ca\'bc\'fe\'b4\'ed\'ce\'bb\'b5\'c4\'ce\'ca\'cc\'e2
\f8 \
\pard\pardeftab560\slleading20\partightenfactor0

\f1 \cf0 \
\
\pard\pardeftab560\slleading20\partightenfactor0
\cf13 \'d4\'da\'d2\'bb\'b8\'f6thread\'d6\'d0\'b2\'d9\'d7\'f7\'d3\'ca\'bc\'fe(action)\'a3\'ba\cf0 \
1\'a1\'a2\'b5\'e3\'bb\'f7ThreadList\'b5\'c4Cell\'a3\'acgmail\'d3\'ca\'bc\'fe\'bb\'e1\'d3\'c3gmail API\'b5\'c4thread batch\'bd\'d3\'bf\'da\'c0\'ad\'c8\'a1\'d5\'fb\'b8\'f6thread\'b5\'c4\'d3\'ca\'bc\'fe\'a3\'ac\'c4\'bf\'c7\'b0\'ca\'c7\'c3\'bf\'b4\'ce\'bd\'f8thread\'b6\'bc\'c0\'ad\'c8\'a1\
2\'a1\'a2Read/unread\'a3\'ba\'c9\'e8\'d6\'c3\'d2\'d1\'b6\'c1\'d6\'bb\'c9\'e8\'d6\'c3\'b5\'b1\'c7\'b0\'cf\'c2\'d4\'d8\'b5\'c4\'d3\'ca\'bc\'fe\'a3\'ac\'ce\'b4\'cf\'c2\'d4\'d8\'b5\'c4\'d3\'ca\'bc\'fe\'cf\'c2\'d4\'d8\'ba\'f3\'c9\'e8\'d6\'c3\'d2\'d1\'b6\'c1\'a1\'a3\
3\'a1\'a2\'b6\'d4\'d3\'dagmail\'a3\'ac set/clear flag\'a3\'actrash\'a3\'acdelete\'b6\'bc\'bb\'e1\'ca\'b9\'d3\'c3Gmail\'a3\'ac\'d4\'ad\'d2\'f2\'ca\'c7\'d2\'bb\'b8\'f6thread\'d6\'d0\'bf\'c9\'c4\'dc\'bb\'e1\'d3\'d0\'b6\'e0\'b8\'f6\'b2\'bb\'cd\'ac\'b5\'c4folder\'a3\'acIMAP\'cf\'c2\'c7\'d0\'bb\'bbfolder\'a3\'acselect\'b5\'c4\'d0\'a7\'c2\'ca\'b1\'c8\'bd\'cf\'b5\'cd\'a3\'ac\'ba\'c4\'ca\'b1\'b1\'c8\'bd\'cf\'b3\'a4\'a3\'ac\
\'b6\'f8\'c7\'d2\'d2\'bb\'b8\'f6message\'d3\'d0\'b6\'e0\'b8\'f6label\'a3\'ac\'d6\'bb\'d3\'d0\'d2\'bb\'b8\'f6uid\'bb\'b9\'ba\'c3\'a3\'ac\'c8\'e7\'b9\'fb\'d3\'d0\'b6\'e0\'b8\'f6label\'d3\'d0uid\'a3\'ac\'b2\'bb\'ba\'c3\'d1\'a1\'d4\'f1\
4\'a1\'a2
\fs26 \cf10 \cb3 thread
\fs24 \cf0 \cb1 list\'d6\'d0\'b5\'c4\'d3\'ca\'bc\'fe\'ca\'fd\'c1\'bf\'ca\'c7\'cd\'a8\'b9\'fdFetchThreadsMsgCountOperation\'c0\'ad\'c8\'a1\'b5\'c4\'a3\'ac\'c0\'ad\'c8\'a1\'d6\'ae\'ba\'f3\'b4\'e6\'b4\'a2\'d4\'daEmailConversation\'d6\'d0\'b5\'c4msgCount\'d7\'d6\'b6\'ce\'a3\'ac\'c8\'e7\'b9\'fb\'ce\'aa0\'d4\'f2\'c8\'a1convInfo\'d6\'d0\'cb\'e3\'b5\'c4msg\'ca\'fd\'c1\'bf\
\
\
\cf13 Draft\'a3\'ba\cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\fs26 \cf2 \cb3 draftUID\'b8\'f1\'ca\'bd\'a3\'aclocalDraft: accountId+draftpath+uuid, uid=-1, original Draft: accountId+draftPath+uid\
Append\'b2\'d9\'d7\'f7\'ca\'c7\'d6\'b1\'bd\'d3\'d5\'d2\'b5\'bdDB\'d6\'d0\'b5\'c4local draft\'a3\'acgmail\'d3\'ca\'bc\'fe\'b6\'e0\'d2\'bb\'b2\'bd\'cd\'a8\'b9\'fduid\'c0\'ad\'c8\'a1gmailId\'a3\'ac\'d4\'d9merge\'b5\'bdDB\
\'d0\'de\'b8\'c4\'b5\'c4\'d3\'d0pid,uid\'a3\'acstate\'a3\'acref(uid,msgId)\'a3\'acthreadId,\'d0\'de\'b8\'c4\'d6\'ae\'ba\'f3state\'ce\'aasynced\'a3\'ac\'b2\'bb\'d0\'e8\'d2\'aa\'c1\'ed\'cd\'e2fetchMessage\'a3\'ac\'bf\'c9\'d2\'d4\'d6\'b1\'bd\'d3\'cf\'d4\'ca\'be\'a3\'ac\'b2\'bb\'bb\'e1\'cf\'c8\'cf\'fb\'ca\'a7\'a3\'ac\'c8\'bb\'ba\'f3\'d4\'d9\'cf\'d4\'ca\'be\'a1\'a3\
\pard\pardeftab560\slleading20\partightenfactor0

\fs24 \cf0 \cb1 \
\pard\pardeftab560\slleading20\partightenfactor0
\cf13 \'ce\'ca\'cc\'e2\'d5\'fb\'c0\'ed\'a3\'ba
\fs26 \cf2 \cb3 \
1\'a1\'a2\'c6\'f4\'b6\'af\'ca\'b1\'c0\'ad\'c8\'a1sent folder(
\f8\fs24 \cf0 \cb1 syncSentAndContacts
\f1 \'d6\'d0
\fs26 \cf2 \cb3 )\'b5\'c4\'ca\'b1\'bb\'fa\'cc\'ab\'d4\'e7\'a3\'ac\'c0\'ad\'c8\'a1\'b5\'c4folderList\'bb\'b9\'ce\'b4\'c8\'ebEdoFolder\'bf\'e2\'a3\'ac\'cb\'f9\'d2\'d4\'bb\'f1\'c8\'a1path\'b4\'ed\'ce\'f3\'a3\'ac
\fs24 \cf0 \cb1 \'b1\'c8\'c8\'e7
\f8 folderType
\f1 \'ce\'aa
\f8 AllSent
\f1 \'a3\'ac\'bb\'f1\'c8\'a1\'b5\'c4
\f8 path
\f1 \'d2\'b2\'ce\'aa
\f8 AllSent
\f1 \'a3\'ac\'bd\'e1\'b9\'fb
\f8 fetchMessage
\f1 \'ca\'a7\'b0\'dc
\fs26 \cf2 \cb3 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 2\'a1\'a2\'c0\'cf\'b0\'e6\'b1\'be\'b5\'c4search\'d6\'d0\'b5\'c4getFolderPath\'bb\'f1\'c8\'a1\'b5\'c4path\'d3\'d0\'ce\'ca\'cc\'e2\'a3\'ac\'b1\'c8\'c8\'e7AllInbox\'bb\'e1\'b7\'b5\'bb\'d8AllMail,UI\'ba\'cdsearch\'d3\'c3\'b5\'c4\'b6\'bc\'ca\'c7\'b2\'bb\'cd\'ac\'b5\'c4\'b7\'bd\'b7\'a8\'a3\'ac\'cf\'d6\'d4\'da\'cd\'b3\'d2\'bb\'b3\'c9\'d2\'bb\'b8\'f6\'b7\'bd\'b7\'a8\
3\'a1\'a2fetchMessage\'b5\'c4\'c1\'bd\'b6\'ce\'ca\'bd\'c0\'ad\'c8\'a1\'a3\'a8\'b5\'da\'d2\'bb\'b4\'ce50\'a3\'ac\'b5\'da\'b6\'fe\'b4\'ce500\'a3\'a9\'a3\'ac\'b5\'da\'b6\'fe\'b4\'ce500\'d5\'e2\'b8\'f6\'c0\'ad\'c8\'a1\'d4\'da24\'d0\'a1\'ca\'b1\'d6\'ae\'c4\'da\'d6\'bb\'c0\'ad\'d2\'bb\'b4\'ce\'a3\'ac\'c8\'e7\'b9\'fb\'b1\'bb\'b4\'f2\'b6\'cf\'bb\'f2\'d5\'df\'c8\'a1\'cf\'fb\'a3\'ac\
4\'a1\'a2
\fs24 \cf0 \cb1 \'cf\'d6\'d3\'d0\'b5\'c4
\f8 action
\f1 Operation\'d4\'da\'c4\'da\'b4\'e6\'d6\'d0\'a3\'ac
\f8 EdoAction
\f1 \'c6\'fa\'d3\'c3\'c1\'cb\'a3\'ac\'b5\'ab\'ca\'c7\'bb\'b9\'d0\'e8\'d2\'aa\'c0\'e0\'cb\'c6\'d4\'ad\'c0\'b4\'b5\'c4
\f8 EdoAction
\f1 \'c8\'eb\'bf\'e2\'a3\'ac\'bd\'e2\'be\'f6
\f8 pending
\f1 \'ce\'ca\'cc\'e2\'a3\'ac\'ba\'cd
\f8 app
\f1 \'cd\'cb\'b3\'f6\'d4\'d9\'c6\'f4\'b6\'af\'ba\'f3\'b5\'c4\'ce\'b4\'cd\'ea\'b3\'c9action\'b5\'c4\'d6\'d8\'ca\'d4\'ce\'ca\'cc\'e2\
5\'a1\'a2query\'c0\'e0\'d0\'cd
\f8 (flagged
\f1 \'a3\'ac
\f8 unread
\f1 \'a3\'ac
\f8 Attachment)
\f1 \'a3\'ac\'d7\'ee\'ba\'c3\'b2\'bb\'b8\'fa
\f8 fetchmessage
\f1 \'c0\'e0\'d0\'cd\'bb\'ec\'d4\'da\'d2\'bb\'c6\'f0\'a3\'ac\'b4\'a6\'c0\'ed\'c6\'f0\'c0\'b4\'b2\'bb\'b7\'bd\'b1\'e3\
\pard\pardeftab560\slleading20\partightenfactor0

\f8 \cf0 6
\f1 \'a1\'a2
\f0\fs26 \cf2 \cb3 downloadMessagesBody
\f1 \'b1\'dc\'c3\'e2\'d6\'d8\'b8\'b4\'cf\'c2\'d4\'d8\'d3\'d0\'d2\'bb\'b8\'f6\'c8\'ab\'be\'d6\'b5\'c4\'b4\'e6\'b4\'a2-
\f0 \cf5 EmailAdapter\cf2 .\cf5 downloadingBody
\f1 \cf2 \'a3\'ac\'d2\'bb\'b5\'a9\'b3\'f6\'ce\'ca\'cc\'e2\'a3\'ac\'d2\'d4\'ba\'f3\'c3\'bb\'b0\'ec\'b7\'a8\'cf\'c2\'d4\'d8\'c1\'cb\'a1\'a3
\f3\b \cf4 if
\f0\b0 \cf2  \cf5 EmailAdapter\cf2 .\cf5 downloadingBody\cf2 .\cf19 contains\cf2 (msg.\cf5 pId\cf2 )
\f1 \

\fs24 \cf0 \cb1 7\'a1\'a2folderType\'d6\'d0\'b5\'c4
\f0\fs26 \cf2 \cb3 displayFlagIndicator
\f1 \'a3\'ac\'b2\'bb\'cf\'d4\'ca\'be
\f0 flag\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2     
\f3\b \cf4 var
\f0\b0 \cf2  displayFlagIndicator: \cf7 Bool\cf2  \{ 
\f4\i \cf20 //TODO: ?? why?? if folderType is a Customized
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  
\f3\b \cf4 true
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 switch
\f0\b0 \cf2  (
\f3\b \cf4 self
\f0\b0 \cf2 ) \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 case
\f0\b0 \cf2  .\cf6 Inbox\cf2 , .\cf6 Flagged\cf2 , .\cf6 Unread\cf2 , .\cf6 Attachments\cf2 , .\cf6 Today\cf2 , .\cf6 AllInboxes\cf2 , .\cf6 Snoozed\cf2 ,
\f2\fs24 \cf0 \

\f0\fs26 \cf2              .\cf6 AllSent\cf2 , .\cf6 AllArchive\cf2 , .\cf6 AllTrash\cf2 , .\cf6 Junk\cf2 : 
\f4\i \cf20 //, .Customized:
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 return
\f0\b0 \cf2  
\f3\b \cf4 true
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 default
\f0\b0 \cf2 : 
\f4\i \cf20 //Sent/Spam/Trash/Archive
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 return
\f0\b0 \cf2  
\f3\b \cf4 false
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2         \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \} \
8
\f1 \'a1\'a2\'bf\'bc\'c2\'c7EdoConversation\'ca\'c7\'b7\'f1\'d0\'e8\'d2\'aa\'d4\'f6\'bc\'d3\'b8\'fa
\f0 EdoMessage
\f1 \'ba\'cd
\f0 EdoFolder
\f1 \'b5\'c8\'b1\'ed\'d2\'bb\'d1\'f9\'b5\'c4\'c8\'ed\'c9\'be\'b3\'fd\'bb\'fa\'d6\'c6\'a3\'a8state\'a3\'a9\'a3\'ac\'d3\'b2\'c9\'be\'b3\'fd\'d2\'d7\'d2\'fd\'b7\'a2crash\'a3\'a8delete account\'ca\'b1\'a3\'a9\

\f0 9
\f1 \'a1\'a2
\f0 \
\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf13 \'b9\'d8\'d3\'daMerge\'a3\'ba\cf2 \'bd\'a8\'d2\'e9\'d2\'bb\'b2\'bd\'d2\'bb\'b2\'bd\'b5\'c4\'bd\'f7\'c9\'f7\'b5\'c4merge\'a3\'acmerge\'b5\'c4\'b9\'a4\'d7\'f7\'bb\'b9\'d3\'d0\'d2\'bb\'d0\'a9\'d7\'aa\'bb\'bb\'b5\'bdthread\'b5\'c4\'bf\'aa\'b7\'a2\'b9\'a4\'d7\'f7\'a3\'ac\'b1\'c8\'c8\'e7\'a3\'bablockFilter\'a3\'acprimary/other,\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\fs24 \cf0 \cb1 \
\
\pard\pardeftab560\slleading20\partightenfactor0
\cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\fs26 \cf2 \cb3 SetFlags\'d4\'damove\'ba\'cddelete\'d6\'d0\'b5\'f7\'d3\'c3
\fs24 \cf0 \cb1 \

\fs26 \cf2 \cb3 \
\
1\'a1\'a2\'d1\'a1\'d3\'d0uid\'b5\'c4\
2\'a1\'a2\'c3\'bb\'d3\'d0uid\'b5\'c4\'a3\'ac\'d3\'c3\'cf\'b5\'cd\'b3\'b5\'c4folder\'c5\'c5\'d0\'f2\'d1\'a1\'d4\'f1\
\
1\'a1\'a2\'b5\'b1\'c7\'b0folder\
2\'a1\'a2\'c8\'e7\'b9\'fb\'c3\'bb\'d3\'d0uid\'b5\'c4\'a3\'ac\'d3\'c3\'cf\'b5\'cd\'b3\'b5\'c4folder\'c5\'c5\'d0\'f2\'d1\'a1\'d4\'f1\'a3\'acINBOX\'a3\'acSENT\'a3\'ac\
\
1\'a1\'a2\'b8\'c3message\'ca\'c7\'b7\'f1\'d3\'d0\'b5\'b1\'c7\'b0\'b5\'c4folderpath\'a3\'ac\'c8\'e7\'b9\'fb\'d3\'d0\'a3\'ac\'d1\'a1\'d4\'f1\'b8\'c3folderPath\'b5\'c4ref\
2\'a1\'a2\'c8\'e7\'b9\'fb\'c3\'bb\'d3\'d0\'a3\'ac\'c5\'c5\'d0\'f2\'d1\'a1\'d4\'f1\'cf\'b5\'cd\'b3\'b5\'c4folderPath\'a3\'acINBOX\'a3\'acSENT\'a3\'acALLMAil\
\
\
search\'a3\'ba\
1\'a1\'a2\'b5\'b1\'c7\'b0folder\
2\'a1\'a2\'c3\'bb\'d3\'d0uid\'b5\'c4\'a3\'ac\'d3\'c3\'cf\'b5\'cd\'b3\'b5\'c4folder\'c5\'c5\'d0\'f2\'d1\'a1\'d4\'f1\
\
search\'d6\'ae\'ba\'f3fetch\'d3\'ca\'bc\'fe\'b2\'bb\'b7\'a2\'cd\'a8\'d6\'aa\
\
1663913034767188123\
1660829265498428163\
\
1666109275294415193  Qqq2 \'b7\'a2\'d7\'d4\'ce\'d2\'b5\'c4iPhone\
1666109454580282685  Re: qq2\
\
junk,\
\
\'d3\'ca\'bc\'fe1\'a3\'ba\
INBOX\
TRASH\
F0\
\
\'d3\'ca\'bc\'fe2\'a3\'ba\
INBOX\
JUNK\
F0\
\
\cf27 EmailConversation\'b5\'c4getInfo\'d3\'ca\'bc\'fe\'ca\'c7\'b7\'f1\'cf\'d4\'ca\'be\'b5\'c4\'c2\'df\'bc\'ad\'c5\'d0\'b6\'cf\'a3\'ba\cf2 \
1\'a1\'a2\'d3\'ca\'bc\'fe\'d4\'datrash\'a3\'ac\'b5\'b1\'c7\'b0\'ca\'c7trash	\'cf\'d4\'ca\'be-true\
2\'a1\'a2\'d3\'ca\'bc\'fe\'d4\'daspam\'a3\'ac\'b5\'b1\'c7\'b0\'ca\'c7spam	\'cf\'d4\'ca\'be-true\
3\'a1\'a2\'d3\'ca\'bc\'fe\'d4\'datrash\'a3\'ac\'b5\'b1\'c7\'b0\'ca\'c7INBOX\'a3\'a8\'b7\'c7trash\'a3\'a9 \'b2\'bb\'cf\'d4\'ca\'be-false\
4\'a1\'a2\'d3\'ca\'bc\'fe\'d4\'daspam\'a3\'ac\'b5\'b1\'c7\'b0\'ca\'c7INBOX\'a3\'a8\'b7\'c7spam\'a3\'a9\'b2\'bb\'cf\'d4\'ca\'be-false\
5\'a1\'a2\'d3\'ca\'bc\'fe\'d4\'datrash\'a3\'ac\'b5\'b1\'c7\'b0\'ca\'c7spam    \'b2\'bb\'cf\'d4\'ca\'be-false\
6\'a1\'a2\'d3\'ca\'bc\'fe\'d4\'daspam\'a3\'ac\'b5\'b1\'c7\'b0\'ca\'c7trash	\'b2\'bb\'cf\'d4\'ca\'be-false\
7\'a1\'a2\'d3\'ca\'bc\'fe\'d4\'daINBOX\'a3\'a8\'b7\'c7trash spam\'a3\'a9 \'b5\'b1\'c7\'b0\'ca\'c7INBOX\'a3\'a8\'b7\'c7trash spam\'a3\'a9   \'cf\'d4\'ca\'be-true\
7\'a1\'a2\'d3\'ca\'bc\'fe\'d4\'daINBOX\'a3\'a8\'b7\'c7trash spam\'a3\'a9 \'b5\'b1\'c7\'b0\'ca\'c7trash\'bb\'f2spam   \'b2\'bb\'cf\'d4\'ca\'be-false\
\cf27 \'ce\'b1\'c2\'eb\cf2 \
If \'d3\'ca\'bc\'fe\'d4\'daINBOX\'a3\'a8\'b7\'c7trash spam\'a3\'a9\{\
	if \'b5\'b1\'c7\'b0\'ca\'c7INBOX\'a3\'a8\'b7\'c7trash spam\'a3\'a9\{\
		return true\
	\}else\{\
		return false\
	\}\
\}else \{ //in trash or spam\
	if \'b5\'b1\'c7\'b0\'ca\'c7INBOX\'a3\'a8\'b7\'c7trash\'a3\'a9\{\
		return false\
	\}else\{\
		if  \'d3\'ca\'bc\'fe\'d4\'datrash,\'b5\'b1\'c7\'b0\'ca\'c7trash\{\
			return true\
		\}else if \'d3\'ca\'bc\'fe\'d4\'daspam\'a3\'ac\'b5\'b1\'c7\'b0\'ca\'c7spam\{\
			return true\
		\}else\{\
			return false\
		\}\
	\}\
\}\
\
1666109185106592912\
1666109213018759571\
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 useGmailAPI:\cf7 Bool\cf2  = 
\f3\b \cf4 false
\f0\b0 \cf2 ,\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 if
\f0\b0 \cf2  \cf5 hasOAuthToken\cf2  && useGmailAPI\{
\f1 \

\f3\b \cf4 if
\f0\b0 \cf2  !\cf5 hasOAuthToken\cf2  || !useGmailAPI\{
\f1 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 remakeConstraints
\f1 \
\
1\'a1\'a2fetchThreadsMsgCountOperation\'a3\'ac\'b5\'a5\'b8\'f6thread\'ca\'b1\'a3\'ac\'b5\'f7\'d3\'c3\'b5\'a5\'b8\'f6threadId\'bd\'d3\'bf\'da\'a3\'ac\'b3\'a1\'be\'b0\'ca\'c7\'b5\'e3\'bb\'f7EmailList\'d6\'d0\'b5\'c4\'d2\'bb\'b8\'f6thread\'a3\'ac\'bd\'f8\'c8\'ebthreadView\'a3\'ac\'bf\'c9\'d2\'d4\'cf\'c8\'c0\'ad\'c8\'a1messageCount\'ba\'cdmsgId\'a3\'ac\'bb\'b9\'d3\'d0header\
2\'a1\'a2fetchMessageByThreadOperation\
3\'a1\'a2\'c1\'aa\'b5\'f7fetchMessageByThread\
\
1\'a1\'a2
\f4\i \cf9 QueryThreadMsgCountOperation\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf10 2
\f1\i0 \'a1\'a2fetchMessageByThread\'d5\'fb\'c0\'ed\'a3\'ac\'b8\'fa\'d2\'d1\'cf\'c2\'d4\'d8\'b5\'c4message  merge\cf2 \
\
ThreadViewController\'b5\'f7\'d3\'c3\'cb\'b3\'d0\'f2\'a3\'ba\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf2 viewDidLoad
\f1 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0 \cf5  	dp\cf2 .\cf6 viewDidLoad\cf2 ()
\f1 \
		1\'a1\'a2db.viewDidload\'d6\'d0\'b5\'f7\'d3\'c3
\f0 \cf6 initialLoadData\
			1
\f1 \cf6 \'a1\'a2\'d7\'d3\'c0\'e0dp\'d6\'d0\'b5\'c4
\f0 \cf6 loadServerData()\
			2
\f1 \cf6 \'a1\'a2\'d7\'d3\'c0\'e0dp\'d6\'d0\'b5\'c4
\f0 \cf6 loadData()
\f1 \cf2 \
		2\'a1\'a2
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 delegate\cf2 ?.\cf6 dataUpdated\cf2 ()\
			1
\f1 \'a1\'a2
\f0 \cf5 threadHeaderFooterManager\cf2 .\cf6 update\cf2 (isInitialLoad: 
\f3\b \cf4 true
\f0\b0 \cf2 )\
			2
\f1 \'a1\'a2
\f0 \cf5 replyManager\cf2 .\cf6 update\cf2 (msgId: \cf5 dp\cf2 .\cf5 threadInfo\cf2 .\cf5 keyMsgPId\cf2 )\
			3
\f1 \'a1\'a2
\f0 \cf6 initUI\cf2 ()\
				1
\f1 \'a1\'a2
\f0 \cf6 updateHeaderFooters\cf2 ()\
				2
\f1 \'a1\'a2
\f0 \cf6 setupEmailViews
\f1 \cf6 ()\
					
\f0 \cf19 1
\f1 \cf6 \'a1\'a2
\f0 \cf5 emailViews\cf2  = \cf5 dp\cf2 .\cf5 threadInfo\cf2 .\cf5 msgPIds\cf2 .\cf19 map\
					2
\f1 \cf19 \'a1\'a2
\f0 \cf2 emailView.\cf5 dataProvider\cf2 .\cf6 viewDidLoad\cf2 ()\
						1
\f1 \'a1\'a2
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 initialLoadData\cf2 ()\
							1
\f1 \'a1\'a2
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 loadServerData\cf2 ()\
							2
\f1 \'a1\'a2
\f0 EmailDataProvider.\cf6 loadData\cf2 ()\
						2
\f1 \'a1\'a2
\f3\b \cf4 self
\f0\b0 \cf2 .\cf5 delegate\cf2 ?.\cf6 dataUpdated\cf2 ()\
							1
\f1 \'a1\'a2EmailView.
\f0 dataUpdated()\
							2
\f1 \'a1\'a2EmailView.
\f0 initUI()\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1 \cf2 				3\'a1\'a2
\f0 \cf6 setReadMessages\cf2 ()
\f1 \
\
\
If is gmail:\
	
\f3\b \cf4 if
\f0\b0 \cf2  localDraft.\cf5 state\cf2  == \cf5 MESSAGE_DELETE_ON_CLIENT
\f1 \cf2 \{\
		var msgIdInfo = \
		
\f0 \cf5 ActionManager\cf2 .\cf6 run\cf2 (.\cf6 deleteMessage,.messagesIdInfo:messagesIdInfo
\f1 \cf2 \
	\}else\{\

\f3\b \cf4 			self
\f0\b0 \cf2 .\cf6 fetchGmailIdByUids\cf2 (uids:[newUid],path:thsFolder.\cf5 path\cf2 )\{error,gmailIdMap,uidMap 
\f3\b \cf4 in
\f2\b0\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2                                 
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  error = error\{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                     
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                 \}
\f3\b \cf4 else
\f0\b0 \cf2 \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                     
\f3\b \cf4 let
\f0\b0 \cf2  gmailId = uidMap[newUid]
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                     
\f4\i \cf9 //let gmailId = uidIdMap[newUid]
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2                                     
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  savedMsg: \cf5 EdoMessage\cf2  = \cf5 EmailDAL\cf2 .\cf6 get\cf2 (byKey: msgId) \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                         \cf5 EmailDAL\cf2 .\cf6 writeToDBSync\cf2  \{ db 
\f3\b \cf4 in
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2                                             savedMsg.\cf5 state\cf2  = \cf5 MESSAGE_SYNCED
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                         \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                     \} 
\f3\b \cf4 else
\f0\b0 \cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                         \cf5 EmailDAL\cf2 .\cf6 writeToDBSync\cf2  \{ db 
\f3\b \cf4 in
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2                                             localDraft.\cf5 state\cf2  = \cf5 MESSAGE_SYNCED
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                             localDraft.\cf5 uid\cf2  = newUid
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                         \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                     \}
\f2\fs24 \cf0 \
\

\f0\fs26 \cf2                                 \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2                             \}
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f1\fs26 \cf2 \
	\}\
If is imap:\
	
\f3\b \cf4 var
\f0\b0 \cf2  msgId = \cf5 EdoMessage\cf2 .\cf6 generateKey\cf2 (thsFolder.\cf5 pId\cf2 , idType: \cf5 IDType\cf2 .\cf6 uid\cf2 , id: newUid)\
	if state == message_delete\{\
		\cf5 ActionManager\cf2 .\cf6 run\cf2 (.\cf6 deleteMessage,.messagesIdInfo:messagesIdInfo\cf2 \
	\}else\{\

\f3\b \cf4 		if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  savedMsg: \cf5 EdoMessage\cf2  = \cf5 EmailDAL\cf2 .\cf6 get\cf2 (byKey: msgId) \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2                                 \cf5 EmailDAL\cf2 .\cf6 writeToDBSync\cf2  \{ db 
\f3\b \cf4 in
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2                                     savedMsg.\cf5 state\cf2  = \cf5 MESSAGE_SYNCED
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                 \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2                             \} 
\f3\b \cf4 else
\f0\b0 \cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                 \cf5 EmailDAL\cf2 .\cf6 writeToDBSync\cf2  \{ db 
\f3\b \cf4 in
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2                                     localDraft.\cf5 state\cf2  = \cf5 MESSAGE_SYNCED
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                     localDraft.\cf5 uid\cf2  = newUid
\f2\fs24 \cf0 \

\f0\fs26 \cf2                                 \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2                             \}\
\}
\f1 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 @escaping
\f0\b0 \cf2  (\cf7 NSError\cf2 ?, \cf5 EdoAdpSearchResp\cf2 ?) -> \cf7 Void\cf2 )
\f1 \
\

\f3\b \cf4 @interface
\f0\b0 \cf2  ExMessage : \cf7 NSObject\

\f3\b \cf4 @property
\f0\b0 \cf2  (
\f3\b \cf4 nonatomic
\f0\b0 \cf2 , 
\f3\b \cf4 assign
\f0\b0 \cf2 ) \cf7 NSInteger\cf2  importance;
\f1 \

\f3\b \cf4 @property
\f0\b0 \cf2  (
\f3\b \cf4 nonatomic
\f0\b0 \cf2 , 
\f3\b \cf4 retain
\f0\b0 \cf2 , 
\f3\b \cf4 nonnull
\f0\b0 \cf2 ) \cf7 NSString\cf2  * itemId;
\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 @property
\f0\b0 \cf2  (
\f3\b \cf4 nonatomic
\f0\b0 \cf2 , 
\f3\b \cf4 retain
\f0\b0 \cf2 , 
\f3\b \cf4 nullable
\f0\b0 \cf2 ) \cf7 NSString\cf2  * changeKey;
\f1 \

\f3\b \cf4 @property
\f0\b0 \cf2  (
\f3\b \cf4 nonatomic
\f0\b0 \cf2 , 
\f3\b \cf4 strong
\f0\b0 \cf2 , 
\f3\b \cf4 nullable
\f0\b0 \cf2 ) \cf7 NSString\cf2 * parentFolderID;
\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 @property
\f0\b0 \cf2  (
\f3\b \cf4 nonatomic
\f0\b0 \cf2 , 
\f3\b \cf4 strong
\f0\b0 \cf2 , 
\f3\b \cf4 nullable
\f0\b0 \cf2 ) \cf7 NSString\cf2 * parentFolderChangekey;
\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 @property
\f0\b0 \cf2  (
\f3\b \cf4 nonatomic
\f0\b0 \cf2 , 
\f3\b \cf4 strong
\f0\b0 \cf2 , 
\f3\b \cf4 nullable
\f0\b0 \cf2 ) \cf7 NSString\cf2 * itemClass;
\f2\fs24 \cf0 \
\

\f3\b\fs26 \cf4 @property
\f0\b0 \cf2  (
\f3\b \cf4 nonatomic
\f0\b0 \cf2 , 
\f3\b \cf4 strong
\f0\b0 \cf2 , 
\f3\b \cf4 nullable
\f0\b0 \cf2 ) \cf7 NSString\cf2 * conversationItemId;
\f2\fs24 \cf0 \

\f3\b\fs26 \cf4 @property
\f0\b0 \cf2  (
\f3\b \cf4 nonatomic
\f0\b0 \cf2 , 
\f3\b \cf4 strong
\f0\b0 \cf2 , 
\f3\b \cf4 nullable
\f0\b0 \cf2 ) \cf7 NSString\cf2 * conversationChangeKey;
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2 \
\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f3\b \cf4 let
\f0\b0 \cf2  uid = \cf7 Int\cf2 (message.\cf5 uid\cf2 )\
edoMessage.\cf5 msgId\cf2  = \cf7 String\cf2 (message.\cf5 gmailMessageID\cf2 )\
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf7 String\cf2 (message.\cf5 gmailThreadID\cf2 )\
\
    
\f3\b \cf4 static
\f0\b0 \cf2  
\f3\b \cf4 func
\f0\b0 \cf2  reversePid(
\f3\b \cf4 _
\f0\b0 \cf2  key:\cf7 String\cf2 ) -> (accountId:\cf7 String\cf2 , folderPath:\cf7 String\cf2 ,id:\cf7 String\cf2 )? \{
\f2\fs24 \cf0 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f0\fs26 \cf2         
\f3\b \cf4 let
\f0\b0 \cf2  components = key.\cf19 components\cf2 (separatedBy: \cf5 DELIM\cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 var
\f0\b0 \cf2  accountId:\cf7 String\cf2  = \cf8 ""
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 var
\f0\b0 \cf2  folderPath:\cf7 String\cf2  = \cf8 ""
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 var
\f0\b0 \cf2  idString:\cf7 String\cf2  = \cf8 ""
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 if
\f0\b0 \cf2  components.\cf7 count\cf2  == \cf12 2\cf2 \{ 
\f4\i \cf9 //gmail or exchange
\f2\i0\fs24 \cf0 \

\f0\fs26 \cf2             accountId = components[\cf12 0\cf2 ]
\f2\fs24 \cf0 \

\f0\fs26 \cf2             idString = components[\cf12 1\cf2 ]
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}
\f3\b \cf4 else
\f0\b0 \cf2  
\f3\b \cf4 if
\f0\b0 \cf2  components.\cf7 count\cf2  == \cf12 3\cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2             accountId = components[\cf12 0\cf2 ]
\f2\fs24 \cf0 \

\f0\fs26 \cf2             folderPath = components[\cf12 1\cf2 ]
\f2\fs24 \cf0 \

\f0\fs26 \cf2             idString = components[\cf12 2\cf2 ]
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 return
\f0\b0 \cf2  (accountId:accountId, folderPath:folderPath, id: idString)
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2 \
    
\f3\b \cf4 override
\f0\b0 \cf2  
\f3\b \cf4 func
\f0\b0 \cf2  fetchIDsByThread(
\f3\b \cf4 _
\f0\b0 \cf2  thsFolder: \cf5 EdoTHSFolder\cf2 , threadId:\cf7 String\cf2 , callback:
\f3\b \cf4 @escaping
\f0\b0 \cf2  (\cf7 NSError\cf2 ?, \cf5 IDType\cf2 , 
\f3\b \cf4 Any
\f0\b0 \cf2 ?)->\cf7 Void\cf2 ) \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 let
\f0\b0 \cf2  filters: [(relation:\cf5 MCOIMAPSearchKind\cf2 ?, kind:\cf5 MCOIMAPSearchKind\cf2 ?, filter:
\f3\b \cf4 Any
\f0\b0 \cf2 ?)] = [(relation:
\f3\b \cf4 nil
\f0\b0 \cf2 , kind:\cf5 MCOIMAPSearchKind\cf2 .\cf6 gmailThreadID\cf2 , filter:threadId)]
\f2\fs24 \cf0 \

\f0\fs26 \cf2         
\f3\b \cf4 self
\f0\b0 \cf2 .\cf6 search\cf2 (thsFolder, filters:filters, start: \cf12 0\cf2 , size: \cf5 EMAIL_LIST_MAX_SIZE\cf2 ) \{ (error, searchResp) -> \cf7 Void\cf2  
\f3\b \cf4 in
\f2\b0\fs24 \cf0 \

\f0\fs26 \cf2             
\f3\b \cf4 if
\f0\b0 \cf2  
\f3\b \cf4 let
\f0\b0 \cf2  resp = searchResp \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 callback(error, resp.\cf5 idType\cf2 , resp.\cf5 ids\cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \} 
\f3\b \cf4 else
\f0\b0 \cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 
\f3\b \cf4 var
\f0\b0 \cf2  err = error
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 
\f3\b \cf4 if
\f0\b0 \cf2  err == 
\f3\b \cf4 nil
\f0\b0 \cf2  \{
\f2\fs24 \cf0 \

\f0\fs26 \cf2                     err = \cf7 NSError\cf2 (domain: \cf8 "Failed to get response"\cf2 , code: \cf5 EdoErrorCode\cf2 .\cf6 default\cf2 .\cf5 rawValue\cf2 , userInfo: 
\f3\b \cf4 nil
\f0\b0 \cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2                 callback(err, \cf5 IDType\cf2 .\cf6 none\cf2 , 
\f3\b \cf4 nil
\f0\b0 \cf2 )
\f2\fs24 \cf0 \

\f0\fs26 \cf2             \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2         \}
\f2\fs24 \cf0 \

\f0\fs26 \cf2     \}\
\
\
\
\pard\tx593\pardeftab593\pardirnatural\partightenfactor0

\fs24 \cf2 "<div style=\\"min-height:22px;margin-bottom:8px;\\">11</div><div style=\\"min-height:22px;margin-bottom:8px;\\"><br></div><div id=\\"QQMailSignature\\" class=\\"mail-footer\\" aria-hidden=\\"true\\"><hr style=\\"margin: 0 0 10px 0;border: 0;border-bottom:1px solid #E6E8EB;height:0;line-height:0;font-size:0;padding: 20px 0 0 0;width: 50px;\\">
\f1 \'b7\'a2\'d7\'d4\'ce\'d2\'b5\'c4
\f0 iPhone</div><div id=\\"original-content\\"></div>"
\fs26 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0
\cf2 \
\pard\tx642\pardeftab642\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \
<div style="min-height:22px;margin-bottom:8px;">11</div><div style="min-height:22px;margin-bottom:8px;"><br></div><div id="QQMailSignature" class="mail-footer" aria-hidden="true"><hr style="margin: 0 0 10px 0;border: 0;border-bottom:1px solid #E6E8EB;height:0;line-height:0;font-size:0;padding: 20px 0 0 0;width: 50px;">
\f1 \'b7\'a2\'d7\'d4\'ce\'d2\'b5\'c4
\f2 iPhone</div><div id="original-content"></div>\
\
\
\
\
\
\
<html><body><div id="edo-message"><div></div><br></div><div id="edo-meta"></div><div id="edo-original"><div><br><br>Begin forwarded message:<br><br><blockquote type="cite" style="margin:1ex 0 0 0;border-left:1px #ccc solid;padding-left:0.5ex;"><div><b>From: </b>
\f1 \'be\'f4\'ca\'bf\'c0\'d6
\f2  &lt;<a href="mailto:690114973@qq.com">690114973@qq.com</a>&gt;<br><b>Date: </b>Oct 29, 2019 at 6:21 PM<br><b>To: </b>
\f1 \'c1\'f5\'bb\'d4
\f2 2 &lt;<a href="mailto:2549425200@qq.com">2549425200@qq.com</a>&gt;<br><b>Subject: a1</b><br><br></div><div><div style="min-height:22px;margin-bottom:8px;">11</div><div style="min-height:22px;margin-bottom:8px;"><br></div><div id="QQMailSignature" class="mail-footer" aria-hidden="true"><hr style="margin: 0 0 10px 0;border: 0;border-bottom:1px solid #E6E8EB;height:0;line-height:0;font-size:0;padding: 20px 0 0 0;width: 50px;">
\f1 \'b7\'a2\'d7\'d4\'ce\'d2\'b5\'c4
\f2 iPhone</div><div id="original-content"></div></div></blockquote></div></div></body></html>\
\
\
<html><body><div id="edo-message"><div></div><br></div><div id="edo-meta"></div><div id="edo-original"><div><br><br>Begin forwarded message:<br><br><blockquote type="cite" style="margin:1ex 0 0 0;border-left:1px #ccc solid;padding-left:0.5ex;"><div><b>From: </b>
\f1 \'be\'f4\'ca\'bf\'c0\'d6
\f2  &lt;<a href="mailto:690114973@qq.com">690114973@qq.com</a>&gt;<br><b>Date: </b>Oct 29, 2019 at 6:21 PM<br><b>To: </b>
\f1 \'c1\'f5\'bb\'d4
\f2 2 &lt;<a href="mailto:2549425200@qq.com">2549425200@qq.com</a>&gt;<br><b>Subject: a1</b><br><br></div><div><div style="min-height:22px;margin-bottom:8px;">11</div><div style="min-height:22px;margin-bottom:8px;"><br></div><div id="QQMailSignature" class="mail-footer" aria-hidden="true"><hr style="margin: 0 0 10px 0;border: 0;border-bottom:1px solid #E6E8EB;height:0;line-height:0;font-size:0;padding: 20px 0 0 0;width: 50px;">
\f1 \'b7\'a2\'d7\'d4\'ce\'d2\'b5\'c4
\f2 iPhone</div><div id="original-content"></div></div></blockquote></div></div></body></html>\
}